{
    "body": "### Steps to reproduce the issue\n\nInstalling `r-htmltools` from a clean clone fails with the error\r\n```\r\n$ spack install r-htmltools\r\n...\r\n==> Installing r-htmltools-0.5.2-pgipdb3eiibfku3grgn4zm5qkfgqgxu5\r\n==> No binary for r-htmltools-0.5.2-pgipdb3eiibfku3grgn4zm5qkfgqgxu5 found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/7d/7dc7d50436e5a82a5801f85bcd2f572a06a98b4027d71aa17b4854ec9b2767fb.tar.gz\r\n==> No patches needed for r-htmltools\r\n==> r-htmltools: Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '$spack/opt/spack/linux-fedora32-haswell/gcc-11.2.0/r-4.1.1-up7j3kivm3fksnex4btu3qgchw6lr3fh/bin/R' '--vanilla' 'CMD' 'INSTALL' '--library=$spack/opt/spack/linux-fedora32-haswell/gcc-11.2.0/r-htmltools-0.5.2-pgipdb3eiibfku3grgn4zm5qkfgqgxu5/rlib/R/library' '$spack-stage/spack-stage-r-htmltools-0.5.2-pgipdb3eiibfku3grgn4zm5qkfgqgxu5/spack-src'\r\n\r\n1 error found in build log:\r\n     33    $spack/lib/spack/env/gcc/gcc -I\"/tmp/spack/opt/spack/linux-fedora32-haswell/gcc-11.2.0/r-4.1.1-up7j3kivm\r\n           3fksnex4btu3qgchw6lr3fh/rlib/R/include\" -DNDEBUG   -I/usr/local/include   -fpic  -g -O2  -c init.c -o init.o\r\n     34    $spack/lib/spack/env/gcc/gcc -I\"/tmp/spack/opt/spack/linux-fedora32-haswell/gcc-11.2.0/r-4.1.1-up7j3kivm\r\n           3fksnex4btu3qgchw6lr3fh/rlib/R/include\" -DNDEBUG   -I/usr/local/include   -fpic  -g -O2  -c template.c -o te\r\n           mplate.o\r\n     35    $spack/lib/spack/env/gcc/gcc -shared -L$spack/opt/spack/linux-fedora32-haswell/gcc-11.2.0/r-4.1.1-up\r\n           7j3kivm3fksnex4btu3qgchw6lr3fh/rlib/R/lib -L$spack/opt/spack/linux-fedora32-haswell/gcc-11.2.0/r-4.1.1-u\r\n           p7j3kivm3fksnex4btu3qgchw6lr3fh/rlib/R/lib -Wl,-rpath,$spack/opt/spack/linux-fedora32-haswell/gcc-11.2.0\r\n           /r-4.1.1-up7j3kivm3fksnex4btu3qgchw6lr3fh/rlib/R/lib -o htmltools.so init.o template.o -L$spack/opt/spac\r\n           k/linux-fedora32-haswell/gcc-11.2.0/r-4.1.1-up7j3kivm3fksnex4btu3qgchw6lr3fh/rlib/R/lib -lR\r\n     36    installing to $spack/opt/spack/linux-fedora32-haswell/gcc-11.2.0/r-htmltools-0.5.2-pgipdb3eiibfku3grgn4z\r\n           m5qkfgqgxu5/rlib/R/library/00LOCK-spack-src/00new/htmltools/libs\r\n     37    ** R\r\n     38    ** byte-compile and prepare package for lazy loading\r\n  >> 39    Error: object 'faststack' is not exported by 'namespace:fastmap'\r\n     40    Execution halted\r\n     41    ERROR: lazy loading failed for package 'htmltools'\r\n```\r\n\r\n\n\n### Information on your system\n\n* **Spack:** 0.17.0-603-a94b4eef79\r\n* **Python:** 3.8.10\r\n* **Platform:** linux-fedora32-haswell\r\n* **Concretizer:** clingo\n\n### Additional information\n\nmaintainer: @glennpj\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "manuelakuhn",
    "url": "https://api.github.com/repos/spack/spack/issues/28089",
    "updated_at": "2021-12-23 23:35:09",
    "created_at": "2021-12-20 14:31:45",
    "closed_at": "2021-12-23 23:35:09",
    "state": "closed",
    "title": "Installation issue: r-htmltools",
    "number": 28089,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1084859278,
    "html_url": "https://github.com/spack/spack/issues/28089",
    "assignees": [],
    "comments": 0
}