{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack spec -I <spec>\r\nInput spec\r\n--------------------------------\r\n -   r\r\n\r\nConcretized\r\n--------------------------------\r\n -   r@4.1.2%apple-clang@13.0.0+X+external-lapack+memory_profiling+rmath arch=darwin-monterey-m1\r\n[+]      ^bzip2@1.0.8%apple-clang@13.0.0~debug~pic+shared arch=darwin-monterey-m1\r\n -       ^cairo@1.16.0%apple-clang@13.0.0+X+fc+ft+gobject+pdf~png~svg patches=7c4da77 arch=darwin-monterey-m1\r\n[+]          ^autoconf@2.69%apple-clang@13.0.0 patches=35c4492,7793209,a49dd5b arch=darwin-monterey-m1\r\n[+]              ^m4@1.4.19%apple-clang@13.0.0+sigsegv patches=9dc5fbd,bfdffa7 arch=darwin-monterey-m1\r\n[+]                  ^libsigsegv@2.13%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]              ^perl@5.34.0%apple-clang@13.0.0+cpanm+shared+threads arch=darwin-monterey-m1\r\n[+]                  ^berkeley-db@18.1.40%apple-clang@13.0.0+cxx~docs+stl patches=b231fcc arch=darwin-monterey-m1\r\n[+]                  ^gdbm@1.19%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]                      ^readline@8.1%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]                          ^ncurses@6.2%apple-clang@13.0.0~symlinks+termlib abi=none arch=darwin-monterey-m1\r\n[+]                  ^zlib@1.2.11%apple-clang@13.0.0+optimize+pic+shared arch=darwin-monterey-m1\r\n[+]          ^automake@1.16.5%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^fontconfig@2.13.94%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^apple-libuuid@1353.100.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^font-util@1.3.2%apple-clang@13.0.0 fonts=encodings,font-adobe-100dpi,font-adobe-75dpi,font-adobe-utopia-100dpi,font-adobe-utopia-75dpi,font-adobe-utopia-type1,font-alias,font-arabic-misc,font-bh-100dpi,font-bh-75dpi,font-bh-lucidatypewriter-100dpi,font-bh-lucidatypewriter-75dpi,font-bh-type1,font-bitstream-100dpi,font-bitstream-75dpi,font-bitstream-speedo,font-bitstream-type1,font-cronyx-cyrillic,font-cursor-misc,font-daewoo-misc,font-dec-misc,font-ibm-type1,font-isas-misc,font-jis-misc,font-micro-misc,font-misc-cyrillic,font-misc-ethiopic,font-misc-meltho,font-misc-misc,font-mutt-misc,font-schumacher-misc,font-screen-cyrillic,font-sun-misc,font-winitzki-cyrillic,font-xfree86-type1 arch=darwin-monterey-m1\r\n -                   ^bdftopcf@1.0.5%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                       ^fontsproto@2.1.3%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]                          ^gnuconfig@2021-08-14%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]                          ^pkgconf@1.8.0%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                           ^util-macros@1.19.3%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                       ^libxfont@1.5.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                           ^freetype@2.11.1%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                               ^libpng@1.6.37%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                           ^libfontenc@1.1.3%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                               ^xproto@7.0.31%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                           ^xtrans@1.3.5%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                   ^mkfontdir@1.0.7%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                       ^mkfontscale@1.1.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^gperf@3.1%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^libxml2@2.9.12%apple-clang@13.0.0~python arch=darwin-monterey-m1\r\n[+]                  ^libiconv@1.16%apple-clang@13.0.0 libs=shared,static arch=darwin-monterey-m1\r\n -                   ^xz@5.2.5%apple-clang@13.0.0~pic libs=shared,static arch=darwin-monterey-m1\r\n -               ^python@3.9.10%apple-clang@13.0.0+bz2+ctypes+dbm~debug+ensurepip+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93,4c24573,f2fd060 arch=darwin-monterey-m1\r\n -                   ^expat@2.4.6%apple-clang@13.0.0~libbsd arch=darwin-monterey-m1\r\n -                   ^gettext@0.21%apple-clang@13.0.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-monterey-m1\r\n -                       ^tar@1.34%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                   ^libffi@3.4.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                   ^openssl@1.1.1m%apple-clang@13.0.0~docs certs=system arch=darwin-monterey-m1\r\n -                   ^sqlite@3.37.2%apple-clang@13.0.0+column_metadata+dynamic_extensions+fts~functions+rtree arch=darwin-monterey-m1\r\n -           ^glib@2.70.4%apple-clang@13.0.0~libmount patches=8547954 tracing=none arch=darwin-monterey-m1\r\n -               ^meson@0.61.2%apple-clang@13.0.0 patches=aa6c50d arch=darwin-monterey-m1\r\n -                   ^ninja@1.10.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                   ^py-pip@21.3.1%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                   ^py-setuptools@59.4.0%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                       ^py-wheel@0.37.0%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^pcre@8.45%apple-clang@13.0.0~jit+multibyte+utf arch=darwin-monterey-m1\r\n[+]          ^libtool@2.4.6%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^libx11@1.7.0%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^inputproto@2.3.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^kbproto@1.0.7%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^libxcb@1.14%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                   ^libpthread-stubs@0.4%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                   ^libxau@1.0.8%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -                   ^libxdmcp@1.1.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]                  ^xcb-proto@1.14.1%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^xextproto@7.3.0%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^libxext@1.3.3%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^libxrender@0.9.10%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^renderproto@0.11.1%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^pixman@0.40.0%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -       ^curl@7.81.0%apple-clang@13.0.0~gssapi~ldap+libidn2~librtmp~libssh~libssh2~nghttp2 tls=secure_transport arch=darwin-monterey-m1\r\n -           ^libidn2@2.3.0%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^libunistring@0.9.10%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -       ^harfbuzz@2.9.1%apple-clang@13.0.0+graphite2 arch=darwin-monterey-m1\r\n -           ^graphite2@1.3.13%apple-clang@13.0.0~ipo build_type=RelWithDebInfo patches=39e58d6 arch=darwin-monterey-m1\r\n -               ^cmake@3.22.2%apple-clang@13.0.0~doc+ncurses+openssl+ownlibs~qt build_type=Release arch=darwin-monterey-m1\r\n -           ^icu4c@67.1%apple-clang@13.0.0 cxxstd=11 arch=darwin-monterey-m1\r\n -       ^jdk@14_36%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -       ^libjpeg-turbo@2.1.0%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^nasm@2.15.05%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -       ^libtiff@4.3.0%apple-clang@13.0.0~jbig~jpeg~jpeg12~lerc~libdeflate~lzma~old-jpeg~pixarlog~webp~zlib~zstd patches=94d64e3 arch=darwin-monterey-m1\r\n -       ^libxmu@1.1.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^libxt@1.1.5%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^libice@1.0.9%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^libsm@1.2.3%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -       ^openblas@0.3.19%apple-clang@13.0.0~bignuma~consistent_fpcsr~ilp64+locking+pic+shared symbol_suffix=none threads=none arch=darwin-monterey-m1\r\n -       ^pango@1.42.0%apple-clang@13.0.0+X arch=darwin-monterey-m1\r\n -           ^fribidi@1.0.5%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^gobject-introspection@1.56.1%apple-clang@13.0.0 patches=6f90bb2,7700828 arch=darwin-monterey-m1\r\n -               ^bison@3.8.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]                  ^diffutils@3.8%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]              ^flex@2.6.3%apple-clang@13.0.0+lex~nls arch=darwin-monterey-m1\r\n -               ^sed@4.2.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -           ^libxft@2.3.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -       ^pcre2@10.39%apple-clang@13.0.0~jit+multibyte arch=darwin-monterey-m1\r\n -       ^tk@8.6.11%apple-clang@13.0.0+xft+xss patches=54bba3d,9ce6512 arch=darwin-monterey-m1\r\n -           ^libxscrnsaver@1.2.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n -               ^scrnsaverproto@1.2.2%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n[+]          ^tcl@8.6.11%apple-clang@13.0.0 arch=darwin-monterey-m1\r\n```\n\n### Error message\n\n<details><summary>Error message</summary><pre>\r\n==> Error: ChecksumError: sha256 checksum failed for /var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-jdk-14_36-dezynjh34gr2fxgal5xr2kcxxooxuqkb/jdk-14_linux-x64_bin.tar.gz\r\n\r\n==> Installing graphite2-1.3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv\r\n==> No binary for graphite2-1.3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv found: installing from source\r\n==> Using cached archive: /Users/M262567/spack/var/spack/cache/_source-cache/archive/dd/dd63e169b0d3cf954b397c122551ab9343e0696fb2045e1b326db0202d875f06.tgz\r\n==> Applied patch /Users/M262567/spack/var/spack/repos/builtin/packages/graphite2/regparm.patch\r\n==> graphite2: Executing phase: 'cmake'\r\n==> graphite2: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8'\r\n\r\n4 errors found in build log:\r\n     129    /Applications/Xcode.app/Contents/Developer/usr/bin/make  -f src/CMakeFiles/graphite2.dir/build.make src\r\n            /CMakeFiles/graphite2.dir/build\r\n     130    [  6%] Building CXX object tests/CMakeFiles/graphite2-base.dir/__/src/FeatureMap.cpp.o\r\n     131    cd /private/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1\r\n            .3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-build-7uo4coi/tests && /Users/M262567/spack/lib/spack/env/\r\n            clang/clang++ -DGRAPHITE2_NTRACING -I/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-sta\r\n            ge/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-src/include -I/var/folders/q_/f2\r\n            7fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndvn\r\n            auzncc7gv/spack-src/src -O2 -g -DNDEBUG -arch arm64 -isysroot /Applications/Xcode.app/Contents/Develope\r\n            r/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -mmacosx-version-min=12 -Wall -Wextra -fno-rtti -\r\n            fno-exceptions -std=gnu++11 -MD -MT tests/CMakeFiles/graphite2-base.dir/__/src/FeatureMap.cpp.o -MF CMa\r\n            keFiles/graphite2-base.dir/__/src/FeatureMap.cpp.o.d -o CMakeFiles/graphite2-base.dir/__/src/FeatureMap\r\n            .cpp.o -c /var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.\r\n            3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-src/src/FeatureMap.cpp\r\n     132    [  8%] Building CXX object src/CMakeFiles/graphite2.dir/direct_machine.cpp.o\r\n     133    cd /private/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1\r\n            .3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-build-7uo4coi/src && /Users/M262567/spack/lib/spack/env/cl\r\n            ang/clang++ -DGRAPHITE2_NTRACING -Dgraphite2_EXPORTS -I/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T\r\n            /M262567/spack-stage/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-src/include -I\r\n            /var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.3.13-7uo4c\r\n            oik2xuzwerltu6ndvnauzncc7gv/spack-src/src -O2 -g -DNDEBUG -arch arm64 -isysroot /Applications/Xcode.app\r\n            /Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -mmacosx-version-min=12 -fPIC -\r\n            Wall -Wextra -Wno-unknown-pragmas -Wimplicit-fallthrough -Wendif-labels -Wshadow -Wno-ctor-dtor-privacy\r\n             -Wno-non-virtual-dtor -fno-rtti -fno-exceptions -fvisibility=hidden -fvisibility-inlines-hidden -mfpma\r\n            th=sse -msse2 -std=gnu++11 -MD -MT src/CMakeFiles/graphite2.dir/direct_machine.cpp.o -MF CMakeFiles/gra\r\n            phite2.dir/direct_machine.cpp.o.d -o CMakeFiles/graphite2.dir/direct_machine.cpp.o -c /var/folders/q_/f\r\n            27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndv\r\n            nauzncc7gv/spack-src/src/direct_machine.cpp\r\n     134    clang: warning: argument unused during compilation: '-msse2' [-Wunused-command-line-argument]\r\n  >> 135    error: unknown FP unit 'sse'\r\n  >> 136    make[2]: *** [src/CMakeFiles/graphite2.dir/direct_machine.cpp.o] Error 1\r\n  >> 137    make[1]: *** [src/CMakeFiles/graphite2.dir/all] Error 2\r\n     138    make[1]: *** Waiting for unfinished jobs....\r\n     139    [  9%] Building CXX object tests/CMakeFiles/graphite2-base.dir/__/src/Intervals.cpp.o\r\n     140    cd /private/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1\r\n            .3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-build-7uo4coi/tests && /Users/M262567/spack/lib/spack/env/\r\n            clang/clang++ -DGRAPHITE2_NTRACING -I/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-sta\r\n            ge/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-src/include -I/var/folders/q_/f2\r\n            7fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndvn\r\n            auzncc7gv/spack-src/src -O2 -g -DNDEBUG -arch arm64 -isysroot /Applications/Xcode.app/Contents/Develope\r\n            r/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -mmacosx-version-min=12 -Wall -Wextra -fno-rtti -\r\n            fno-exceptions -std=gnu++11 -MD -MT tests/CMakeFiles/graphite2-base.dir/__/src/Intervals.cpp.o -MF CMak\r\n            eFiles/graphite2-base.dir/__/src/Intervals.cpp.o.d -o CMakeFiles/graphite2-base.dir/__/src/Intervals.cp\r\n            p.o -c /var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.3.1\r\n            3-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-src/src/Intervals.cpp\r\n     141    [ 10%] Building CXX object tests/CMakeFiles/graphite2-file.dir/__/src/Collider.cpp.o\r\n     142    cd /private/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1\r\n            .3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-build-7uo4coi/tests && /Users/M262567/spack/lib/spack/env/\r\n            clang/clang++ -DGRAPHITE2_NTRACING -I/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-sta\r\n            ge/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-src/include -I/var/folders/q_/f2\r\n            7fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndvn\r\n            auzncc7gv/spack-src/src -O2 -g -DNDEBUG -arch arm64 -isysroot /Applications/Xcode.app/Contents/Develope\r\n            r/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk -mmacosx-version-min=12 -Wall -Wextra -fno-rtti -\r\n            fno-exceptions -std=gnu++11 -MD -MT tests/CMakeFiles/graphite2-file.dir/__/src/Collider.cpp.o -MF CMake\r\n            Files/graphite2-file.dir/__/src/Collider.cpp.o.d -o CMakeFiles/graphite2-file.dir/__/src/Collider.cpp.o\r\n             -c /var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.3.13-7\r\n            uo4coik2xuzwerltu6ndvnauzncc7gv/spack-src/src/Collider.cpp\r\n     143    [ 11%] Linking CXX executable jsontest\r\n\r\n     ...\r\n\r\n     195    [ 34%] Linking C static library libgraphite2-file.a\r\n     196    cd /private/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1\r\n            .3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-build-7uo4coi/tests && /opt/homebrew/Cellar/cmake/3.22.2/b\r\n            in/cmake -P CMakeFiles/graphite2-file.dir/cmake_clean_target.cmake\r\n     197    cd /private/var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1\r\n            .3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-build-7uo4coi/tests && /opt/homebrew/Cellar/cmake/3.22.2/b\r\n            in/cmake -E cmake_link_script CMakeFiles/graphite2-file.dir/link.txt --verbose=1\r\n     198    /usr/bin/ar qc libgraphite2-file.a CMakeFiles/graphite2-file.dir/__/src/call_machine.cpp.o CMakeFiles/g\r\n            raphite2-file.dir/__/src/Code.cpp.o CMakeFiles/graphite2-file.dir/__/src/Collider.cpp.o CMakeFiles/grap\r\n            hite2-file.dir/__/src/CmapCache.cpp.o CMakeFiles/graphite2-file.dir/__/src/Decompressor.cpp.o CMakeFile\r\n            s/graphite2-file.dir/__/src/Face.cpp.o CMakeFiles/graphite2-file.dir/__/src/FileFace.cpp.o CMakeFiles/g\r\n            raphite2-file.dir/__/src/GlyphCache.cpp.o CMakeFiles/graphite2-file.dir/__/src/GlyphFace.cpp.o CMakeFil\r\n            es/graphite2-file.dir/__/src/gr_logging.cpp.o CMakeFiles/graphite2-file.dir/__/src/Pass.cpp.o CMakeFile\r\n            s/graphite2-file.dir/__/src/Segment.cpp.o CMakeFiles/graphite2-file.dir/__/src/Silf.cpp.o CMakeFiles/gr\r\n            aphite2-file.dir/__/src/Slot.cpp.o\r\n     199    /usr/bin/ranlib libgraphite2-file.a\r\n     200    [ 34%] Built target graphite2-file\r\n  >> 201    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-graphite2-1.3.13-7uo4coik2xuzwerltu6ndvnauzncc7gv/spack-build-out.txt\r\n\r\n\r\n==> Installing gobject-introspection-1.56.1-nzovhfkwfe4ylgnkjdlid32qizuqj7dh\r\n==> No binary for gobject-introspection-1.56.1-nzovhfkwfe4ylgnkjdlid32qizuqj7dh found: installing from source\r\n==> Using cached archive: /Users/M262567/spack/var/spack/cache/_source-cache/archive/5b/5b2875ccff99ff7baab63a34b67f8c920def240e178ff50add809e267d9ea24b.tar.xz\r\n==> Using cached archive: /Users/M262567/spack/var/spack/cache/_source-cache/archive/77/7700828b638c85255c87fcc317ea7e9572ff443f65c86648796528885e5b4cea\r\n==> Applied patch /Users/M262567/spack/var/spack/repos/builtin/packages/gobject-introspection/sbang.patch\r\n==> Applied patch https://gitlab.gnome.org/GNOME/gobject-introspection/-/commit/1f9284228092b2a7200e8a78bc0ea6702231c6db.patch\r\n==> gobject-introspection: Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8'\r\n\r\n5 errors found in build log:\r\n     1430      CCLD     gi-dump-types\r\n     1431      CCLD     libgirepository-gthash.la\r\n     1432      CCLD     libgiscanner.la\r\n     1433      CCLD     _giscanner.la\r\n     1434      CCLD     libgirepository-internals.la\r\n     1435      CCLD     libgirepository-1.0.la\r\n  >> 1436    Undefined symbols for architecture arm64:\r\n     1437      \"_PyArg_ParseTuple\", referenced from:\r\n     1438          _pygi_source_scanner_init in _giscanner_la-giscannermodule.o\r\n     1439          _pygi_collect_attributes in _giscanner_la-giscannermodule.o\r\n     1440          _pygi_source_scanner_append_filename in _giscanner_la-giscannermodule.o\r\n     1441          _pygi_source_scanner_parse_file in _giscanner_la-giscannermodule.o\r\n     1442          _pygi_source_scanner_lex_filename in _giscanner_la-giscannermodule.o\r\n\r\n     ...\r\n\r\n     1541          _pygi_source_scanner_append_filename in _giscanner_la-giscannermodule.o\r\n     1542          _pygi_source_scanner_parse_file in _giscanner_la-giscannermodule.o\r\n     1543          _pygi_source_scanner_parse_macros in _giscanner_la-giscannermodule.o\r\n     1544          _pygi_source_scanner_lex_filename in _giscanner_la-giscannermodule.o\r\n     1545          ...\r\n     1546    ld: symbol(s) not found for architecture arm64\r\n  >> 1547    clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n  >> 1548    make[2]: *** [_giscanner.la] Error 1\r\n     1549    make[2]: *** Waiting for unfinished jobs....\r\n  >> 1550    make[1]: *** [all-recursive] Error 1\r\n  >> 1551    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /var/folders/q_/f27fyd_j4mzd0sj0w_n5fn_00000gs/T/M262567/spack-stage/spack-stage-gobject-introspection-1.56.1-nzovhfkwfe4ylgnkjdlid32qizuqj7dh/spack-build-out.txt\r\n\r\n==> Error: r-4.1.2-4zvt2og5cwkpihuwaffibtpczf7ogzf3: Package was not installed\r\n==> Error: Installation request failed.  Refer to reported errors for failing package(s).\r\n</pre></details>\r\n\n\n### Information on your system\n\n* **Spack:** 0.17.1-1348-ceea479b56\r\n* **Python:** 3.8.9\r\n* **Platform:** darwin-monterey-m1\r\n* **Concretizer:** clingo\r\n\r\nSnippet from packages.yaml:\r\n  r:\r\n    variants: +memory_profiling+external-lapack+rmath+X\n\n### Additional information\n\n[spack-build-out-graphite2.txt](https://github.com/spack/spack/files/8137208/spack-build-out-graphite2.txt)\r\n[spack-build-out-gobj.txt](https://github.com/spack/spack/files/8137209/spack-build-out-gobj.txt)\r\n\r\nI could not find the env files.\r\n\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "rschauner",
    "url": "https://api.github.com/repos/spack/spack/issues/29191",
    "updated_at": "2022-02-24 23:31:20",
    "created_at": "2022-02-24 23:31:20",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: R fails to build because object-introspection and graphite2 on M1 Mac",
    "number": 29191,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1149875262,
    "html_url": "https://github.com/spack/spack/issues/29191",
    "assignees": [],
    "comments": 0
}