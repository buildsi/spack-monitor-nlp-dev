{
    "body": "### Steps to reproduce\r\n\r\n```\r\nspack install intel-oneapi-compilers\r\nspack compiler add `spack location -i intel-oneapi-compilers`/compiler/latest/linux/bin/intel64\r\nspack compiler add `spack location -i intel-oneapi-compilers`/compiler/latest/linux/bin\r\n\r\nspack install z3%intel\r\n```\r\n\r\n### Error message\r\n\r\n```\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n3 errors found in build log:\r\n     2966    cd /tmp/<username>/spack-stage/spack-stage-z3-4.8.9-4slxtloe4alyy3ahz56bmpwaoprprtsw/spack-src/build/src && /nethome/storage/raid5/<username>/test/spack/opt/spack/linux-ubuntu20.04-sandybridge/intel-2021.3.0/cmake-3.21.3-fcangr4lwhu32zyp7xf4ketdgvzirlhe/bin/cmake -E cmake_link_script CMakeFiles/libz3.dir/link.txt --verbose=1\r\n     2967    /nethome/storage/raid5/<username>/test/spack/lib/spack/env/intel/icpc -fPIC -O2 -g -DNDEBUG -shared -Wl,-soname,libz3.so.4.8 -o ../libz3.so.4.8.9.0 @CMakeFiles/libz3.dir/objects1.rsp  -Wl,-rpath,::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -liomp5 -pthread\r\n     2968    [100%] Linking CXX executable ../../z3\r\n     2969    cd /tmp/<username>/spack-stage/spack-stage-z3-4.8.9-4slxtloe4alyy3ahz56bmpwaoprprtsw/spack-src/build/src/shell && /nethome/storage/raid5/<username>/test/spack/opt/spack/linux-ubuntu20.04-sandybridge/intel-2021.3.0/cmake-3.21.3-fcangr4lwhu32zyp7xf4ketdgvzirlhe/bin/cmake -E cmake_link_script CMakeFiles/shell.dir/link.txt --verbose=1\r\n     2970    /nethome/storage/raid5/<username>/test/spack/lib/spack/env/intel/icpc -O2 -g -DNDEBUG @CMakeFiles/shell.dir/objects1.rsp -o ../../z3 -Wl,-rpath,::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -liomp5 -pthread\r\n     2971    ld: ../math/lp/CMakeFiles/lp.dir/nla_common.cpp.o: in function `std::ostream& nla::common::print_product<svector<unsigned int, unsigned int> >(svector<unsigned int, unsigned int> const&, std::ostream&) const':\r\n  >> 2972    /tmp/<username>/spack-stage/spack-stage-z3-4.8.9-4slxtloe4alyy3ahz56bmpwaoprprtsw/spack-src/src/math/lp/nla_common.cpp:37: undefined reference to `std::ostream& nla::core::print_product<svector<unsigned int, unsigned int> >(svector<unsigned int, unsigned int> const&, std::ostream&) const'\r\n     2973    cd /tmp/<username>/spack-stage/spack-stage-z3-4.8.9-4slxtloe4alyy3ahz56bmpwaoprprtsw/spack-src/build/src && /nethome/storage/raid5/<username>/test/spack/opt/spack/linux-ubuntu20.04-sandybridge/intel-2021.3.0/cmake-3.21.3-fcangr4lwhu32zyp7xf4ketdgvzirlhe/bin/cmake -Ecmake_symlink_library ../libz3.so.4.8.9.0 ../libz3.so.4.8 ../libz3.so\r\n     2974    make[2]: Leaving directory '/tmp/<username>/spack-stage/spack-stage-z3-4.8.9-4slxtloe4alyy3ahz56bmpwaoprprtsw/spack-src/build'\r\n     2975    [100%] Built target libz3\r\n  >> 2976    make[2]: *** [src/shell/CMakeFiles/shell.dir/build.make:1758: z3]\r\n             Error 1\r\n     2977    make[2]: Leaving directory '/tmp/<username>/spack-stage/spack-stage-z3-4.8.9-4slxtloe4alyy3ahz56bmpwaoprprtsw/spack-src/build'\r\n  >> 2978    make[1]: *** [CMakeFiles/Makefile2:4372: src/shell/CMakeFiles/shel\r\n             l.dir/all] Error 2\r\n     2979    make[1]: Leaving directory '/tmp/<username>/spack-stage/spack-stage-z3-4.8.9-4slxtloe4alyy3ahz56bmpwaoprprtsw/spack-src/build'\r\n     2980    make: *** [Makefile:139: all] \r\n             Error 2\r\n\r\nSee build log for details:\r\n  /tmp/<username>/spack-stage/spack-stage-z3-4.8.9-4slxtloe4alyy3ahz56bmpwaoprprt                                                                                                                                                             sw/spack-build-out.txt\r\n```\r\n\r\n### Information on your system\r\n\r\n* **Spack:** 0.16.3-4943-1983d6d9d0\r\n* **Python:** 3.8.10\r\n* **Platform:** linux-ubuntu20.04-sandybridge\r\n* **Concretizer:** clingo\r\n\r\n### General information\r\n\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate\r\n- [X] I have run the failing commands in debug mode and reported the output",
    "user": "dmentock",
    "url": "https://api.github.com/repos/spack/spack/issues/26891",
    "updated_at": "2021-11-16 20:31:15",
    "created_at": "2021-10-22 09:12:39",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: diffutils%intel",
    "number": 26891,
    "milestone": null,
    "labels": [
        "build-error",
        "intel"
    ],
    "id": 1033358715,
    "html_url": "https://github.com/spack/spack/issues/26891",
    "assignees": [],
    "comments": 7
}