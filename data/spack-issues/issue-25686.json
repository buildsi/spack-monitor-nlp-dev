{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack install trilinos~kokkos\r\n```\r\n\r\nAnnoyingly, the above command fails.  I must actually run \r\n\r\n```console\r\n$ spack install trilinos~kokkos~tpetra~amesos2~ifpack2\r\n\r\n5 errors found in build log:\r\n     2659                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/src/Interface/MueLu_Pa\r\n             rameterListInterpreter_def.hpp:74,\r\n     2660                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-build-maqit3j/packages/muelu/src/Interfac\r\n             e/MueLu_ParameterListInterpreter.hpp:2,\r\n     2661                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/adapters/xpetra/MueLu_\r\n             CreateXpetraPreconditioner.hpp:24,\r\n     2662                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/adapters/xpetra/MueLu_\r\n             RefMaxwell_def.hpp:98,\r\n     2663                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-build-maqit3j/packages/muelu/src/MueLu_Re\r\n             fMaxwell.hpp:2,\r\n     2664                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/adapters/aztecoo/MueLu\r\n             _AztecEpetraOperator.cpp:8:\r\n  >> 2665    /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/src/Graph/PairwiseAggregation/MueLu_NotayAgg\r\n             regationFactory_def.hpp:55:10: fatal error: KokkosKernels_Handle.hpp: No such file or directory\r\n     2666       55 | #include \"KokkosKernels_Handle.hpp\"\r\n     2667          |          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     2668    compilation terminated.\r\n     2669    In file included from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-build-maqit3j/packages/muelu/src/MueLu_No\r\n             tayAggregationFactory.hpp:2,\r\n     2670                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/src/Interface/MueLu_Fa\r\n             ctoryFactory_decl.hpp:109,\r\n     2671                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-build-maqit3j/packages/muelu/src/Interfac\r\n             e/MueLu_FactoryFactory.hpp:1,\r\n     2672                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/src/Interface/MueLu_Pa\r\n             rameterListInterpreter_def.hpp:74,\r\n     2673                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-build-maqit3j/packages/muelu/src/Interfac\r\n             e/MueLu_ParameterListInterpreter.hpp:2,\r\n     2674                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/adapters/xpetra/MueLu_\r\n             CreateXpetraPreconditioner.hpp:24,\r\n     2675                     from /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/adapters/epetra/MueLu_\r\n             CreateEpetraPreconditioner.cpp:14:\r\n  >> 2676    /tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-src/packages/muelu/src/Graph/PairwiseAggregation/MueLu_NotayAgg\r\n             regationFactory_def.hpp:55:10: fatal error: KokkosKernels_Handle.hpp: No such file or directory\r\n     2677       55 | #include \"KokkosKernels_Handle.hpp\"\r\n     2678          |          ^~~~~~~~~~~~~~~~~~~~~~~~~~\r\n     2679    compilation terminated.\r\n  >> 2680    make[2]: *** [packages/muelu/adapters/CMakeFiles/muelu-adapters.dir/build.make:98: packages/muelu/adapters/CMakeFiles/muelu-adapters.dir/epetra/MueLu_Crea\r\n             teEpetraPreconditioner.cpp.o] Error 1\r\n     2681    make[2]: *** Waiting for unfinished jobs....\r\n  >> 2682    make[2]: *** [packages/muelu/adapters/CMakeFiles/muelu-adapters.dir/build.make:111: packages/muelu/adapters/CMakeFiles/muelu-adapters.dir/aztecoo/MueLu_Az\r\n             tecEpetraOperator.cpp.o] Error 1\r\n     2683    make[2]: Leaving directory '/tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-build-maqit3j'\r\n  >> 2684    make[1]: *** [CMakeFiles/Makefile2:4775: packages/muelu/adapters/CMakeFiles/muelu-adapters.dir/all] Error 2\r\n     2685    make[1]: Leaving directory '/tmp/kellyt/spack-stage/spack-stage-trilinos-13.0.1-maqit3jlyebeuwg4f6ggnk3l55icglm6/spack-build-maqit3j'\r\n     2686    make: *** [Makefile:185: all] Error 2\r\n```\r\n\r\ncc maintainers: @keitat @kuberry @sethrj \n\n### Information on your system\n\n```console \r\n$ spack debug report\r\n* **Spack:** 0.16.2-4032-85f10adaff\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-rhel8-broadwell\r\n* **Concretizer:** original\r\n```\n\n### Additional information\n\n[spack-build-env.txt](https://github.com/spack/spack/files/7073332/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7073333/spack-build-out.txt)\r\n\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "KineticTheory",
    "url": "https://api.github.com/repos/spack/spack/issues/25686",
    "updated_at": "2021-09-03 22:04:15",
    "created_at": "2021-08-29 22:52:18",
    "closed_at": "2021-09-03 17:33:55",
    "state": "closed",
    "title": "Installation issue: trilinos~kokkos fails",
    "number": 25686,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 982225225,
    "html_url": "https://github.com/spack/spack/issues/25686",
    "assignees": [],
    "comments": 21
}