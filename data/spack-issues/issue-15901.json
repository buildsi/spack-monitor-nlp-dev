{
    "body": "Hello,\r\n\r\nI was trying to install and compile the H5Z-ZFP package, and it seems to have crashed with CMake. The issues with CMake can be replicated below, and the relevant error messages are attached. Any ideas on what's going on here?\r\n\r\nKelton.\r\n\r\n\r\n### Spack version\r\n\r\n```console\r\n$ spack --version\r\n0.14.1-523-fab1f6839\r\n```\r\n\r\n### Steps to reproduce the issue\r\n\r\n```console\r\n$ spack install cmake%intel\r\n[+] /home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/pkgconf-1.6.3-albgxtfdhnfhewaiisz257eyfmntufpz\r\n[+] /home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/zlib-1.2.11-7wb5gx5iiqhnjpdkdumtwxbicn5my2cb\r\n[+] /home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/ncurses-6.2-voqtv7cknm5mbwhrd6stvxv6laxdmuyr\r\n[+] /home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/readline-8.0-ls62i6wdyr55rsb2n7vqwjtxwlvvzhna\r\n[+] /home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/gdbm-1.18.1-qup4hgisiebfxxiakmdhtlxh6oja7qca\r\n[+] /home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/perl-5.30.1-vqvl4lnbbm6kp53xi4dmvh4qnrpikejd\r\n[+] /home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/openssl-1.1.1f-g735t7kiabyjpxnlxoh2oi72ujjqmds6\r\n==> 47036: Installing cmake\r\n==> Using cached archive: /home1/06818/khalbert/installs/spack/var/spack/cache/_source-cache/archive/b7/b74c05b55115eacc4fa2b77a814981dbda05cdc95a53e279fe16b7b272f00847.tar.gz\r\n==> Staging archive: /tmp/khalbert/spack-stage/spack-stage-cmake-3.17.0-454vgfo6po4f7jq26wbhekonpdsx74q3/cmake-3.17.0.tar.gz\r\n==> Created stage in /tmp/khalbert/spack-stage/spack-stage-cmake-3.17.0-454vgfo6po4f7jq26wbhekonpdsx74q3\r\n==> No patches needed for cmake\r\n==> 47036: cmake: Building cmake [Package]\r\n==> 47036: cmake: Executing phase: 'bootstrap'\r\n==> Error: ProcessError: Command exited with status 7:\r\n    './bootstrap' '--prefix=/home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/cmake-3.17.0-454vgfo6po4f7jq26wbhekonpdsx74q3' '--parallel=16' '--no-system-libs' '--no-qt-gui' '--' '-DCMAKE_BUILD_TYPE=Release' '-DCMake_TEST_INSTALL=OFF' '-DCMAKE_USE_OPENSSL=True'\r\n\r\n1 error found in build log:\r\n     1    ==> 47036: cmake: Executing phase: 'bootstrap'\r\n     2    ==> [2020-04-06-14:14:14.089010, 47075] './bootstrap' '--prefix=/home1/06818/khalbert/installs/spack/opt/spack/linux-centos7-cascadelake/intel-19.0.5.281/cmake-3.17.0-454vgfo6po4f7jq26wbhekonpdsx74q3'\r\n           '--parallel=16' '--no-system-libs' '--no-qt-gui' '--' '-DCMAKE_BUILD_TYPE=Release' '-DCMake_TEST_INSTALL=OFF' '-DCMAKE_USE_OPENSSL=True'\r\n     3    ---------------------------------------------\r\n     4    CMake 3.17.0, Copyright 2000-2020 Kitware, Inc. and Contributors\r\n     5    C compiler on this system is: /home1/06818/khalbert/installs/spack/lib/spack/env/intel/icc\r\n     6    ---------------------------------------------\r\n  >> 7    Error when bootstrapping CMake:\r\n     8    Cannot find a C++ compiler that supports both C++11 and the specified C++ flags.\r\n     9    Please specify one using environment variable CXX.\r\n     10   The C++ flags are \"\".\r\n     11   They can be changed using the environment variable CXXFLAGS.\r\n     12   See cmake_bootstrap.log for compilers attempted.\r\n     13   ---------------------------------------------\r\n\r\nSee build log for details:\r\n  /tmp/khalbert/spack-stage/spack-stage-cmake-3.17.0-454vgfo6po4f7jq26wbhekonpdsx74q3/spack-build-out.txt\r\n\r\n```\r\n\r\n### Platform and user environment\r\n\r\n\r\n```commandline\r\n$ uname -a \r\nLinux login4.frontera.tacc.utexas.edu 3.10.0-957.27.2.el7.x86_64 #1 SMP Mon Jul 29 17:46:05 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n$ lsb_release -d\r\nDescription:\tCentOS Linux release 7.6.1810 (Core) \r\n``` \r\n\r\n\r\n\r\n- `compilers.yaml`\r\n```\r\ncompilers:\r\n- compiler:\r\n    spec: gcc@4.8.5\r\n    paths:\r\n      cc: /usr/bin/gcc\r\n      cxx: /usr/bin/g++\r\n      f77: /usr/bin/gfortran\r\n      fc: /usr/bin/gfortran\r\n    flags: {}\r\n    operating_system: centos7\r\n    target: x86_64\r\n    modules: []\r\n    environment:\r\n      unset: []\r\n    extra_rpaths: []\r\n- compiler:\r\n    spec: gcc@8.3.0\r\n    paths:\r\n      cc: /opt/apps/gcc/8.3.0/bin/gcc\r\n      cxx: /opt/apps/gcc/8.3.0/bin/g++\r\n      f77: /opt/apps/gcc/8.3.0/bin/gfortran\r\n      fc: /opt/apps/gcc/8.3.0/bin/gfortran\r\n    flags: {}\r\n    operating_system: centos7\r\n    target: x86_64\r\n    modules: []\r\n    environment: {}\r\n    extra_rpaths: []\r\n- compiler:\r\n    spec: intel@19.0.5.281\r\n    paths:\r\n      cc: /opt/intel/compilers_and_libraries_2019.5.281/linux/bin/intel64/icc\r\n      cxx: /opt/intel/compilers_and_libraries_2019.5.281/linux/bin/intel64/icpc\r\n      f77: /opt/intel/compilers_and_libraries_2019.5.281/linux/bin/intel64/ifort\r\n      fc: /opt/intel/compilers_and_libraries_2019.5.281/linux/bin/intel64/ifort\r\n    flags: {}\r\n    operating_system: centos7\r\n    target: x86_64\r\n    modules: []\r\n    environment: {}\r\n    extra_rpaths: []\r\n\r\n```\r\n\r\n\r\n### General information\r\n\r\n- [x] I have run `spack --version` and reported the version of Spack\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "user": "keltonhalbert",
    "url": "https://api.github.com/repos/spack/spack/issues/15901",
    "updated_at": "2020-07-30 03:17:33",
    "created_at": "2020-04-06 19:30:56",
    "closed_at": "2020-07-30 03:17:33",
    "state": "closed",
    "title": "Installation Issue: CMake with Intel ",
    "number": 15901,
    "milestone": null,
    "labels": [
        "build-error",
        "unreproducible"
    ],
    "id": 595371023,
    "html_url": "https://github.com/spack/spack/issues/15901",
    "assignees": [
        "alalazo"
    ],
    "comments": 9
}