{
    "body": "Problem:  On NERSC CRAY Cori using PrgEnv-gnu with no special packages.yaml or modules involved.\r\nWhen trying to do this install:  **spack install cbtf-krell +runtime os=CNL**\r\n\r\n**I get this failure:**\r\n```\r\n==> Installing ncurses\r\n==> Error: SyntaxError: invalid syntax (<string>, line 425)\r\nSyntaxError: SyntaxError: invalid syntax (<string>, line 425)\r\n/global/u2/j/jgalaro/spack/lib/spack/spack/build_environment.py:684, in child_process:\r\n     27    \r\n     28                # build up some context from the offending package so we can\r\n     29                # show that, too.\r\n  >> 30                package_context = get_package_context(tb)\r\n     31    \r\n     32                build_log = None\r\n     33                if hasattr(pkg, 'log_path'):\r\n\r\nI have patches to cbtf-krell, but they don't effect this issue.\r\n\r\n**This is the full output:**\r\n\r\n==> Installing libsigsegv\r\n==> Using cached archive: /global/u2/j/jgalaro/spack/var/spack/cache/libsigsegv/libsigsegv-2.11.tar.gz\r\n==> Staging archive: /global/u2/j/jgalaro/spack/var/spack/stage/libsigsegv-2.11-uvqwq5ce34balpvfluh7uvfspnbln7op/libsigsegv-2.11.tar.gz\r\n==> Created stage in /global/u2/j/jgalaro/spack/var/spack/stage/libsigsegv-2.11-uvqwq5ce34balpvfluh7uvfspnbln7op\r\n==> No patches needed for libsigsegv\r\n==> Building libsigsegv [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed libsigsegv\r\n  Fetch: 0.00s.  Build: 9.99s.  Total: 9.99s.\r\n[+] /global/u2/j/jgalaro/spack/opt/spack/cray-CNL-haswell/gcc-7.2.0/libsigsegv-2.11-uvqwq5ce34balpvfluh7uvfspnbln7op\r\n==> Installing m4\r\n==> Using cached archive: /global/u2/j/jgalaro/spack/var/spack/cache/m4/m4-1.4.18.tar.gz\r\n==> Staging archive: /global/u2/j/jgalaro/spack/var/spack/stage/m4-1.4.18-c5kdyscyrgyzgfsp26ktuyxxz6u5u2jf/m4-1.4.18.tar.gz\r\n==> Created stage in /global/u2/j/jgalaro/spack/var/spack/stage/m4-1.4.18-c5kdyscyrgyzgfsp26ktuyxxz6u5u2jf\r\n==> Applied patch gnulib-pgi.patch\r\n==> Building m4 [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed m4\r\n  Fetch: 0.01s.  Build: 44.15s.  Total: 44.15s.\r\n[+] /global/u2/j/jgalaro/spack/opt/spack/cray-CNL-haswell/gcc-7.2.0/m4-1.4.18-c5kdyscyrgyzgfsp26ktuyxxz6u5u2jf\r\n==> Installing bison\r\n==> Using cached archive: /global/u2/j/jgalaro/spack/var/spack/cache/bison/bison-3.0.4.tar.gz\r\n==> Staging archive: /global/u2/j/jgalaro/spack/var/spack/stage/bison-3.0.4-3x3txvairczgd3q33uksf3b5qbm6kiic/bison-3.0.4.tar.gz\r\n==> Created stage in /global/u2/j/jgalaro/spack/var/spack/stage/bison-3.0.4-3x3txvairczgd3q33uksf3b5qbm6kiic\r\n==> Applied patch pgi.patch\r\n==> Building bison [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed bison\r\n  Fetch: 0.01s.  Build: 1m 2.01s.  Total: 1m 2.02s.\r\n[+] /global/u2/j/jgalaro/spack/opt/spack/cray-CNL-haswell/gcc-7.2.0/bison-3.0.4-3x3txvairczgd3q33uksf3b5qbm6kiic\r\n==> Installing bzip2\r\n==> Using cached archive: /global/u2/j/jgalaro/spack/var/spack/cache/bzip2/bzip2-1.0.6.tar.gz\r\n==> Staging archive: /global/u2/j/jgalaro/spack/var/spack/stage/bzip2-1.0.6-4yersr6oakvbug3tid6d2q4xz6jjclwr/bzip2-1.0.6.tar.gz\r\n==> Created stage in /global/u2/j/jgalaro/spack/var/spack/stage/bzip2-1.0.6-4yersr6oakvbug3tid6d2q4xz6jjclwr\r\n==> Ran patch() for bzip2\r\n==> Building bzip2 [Package]\r\n==> Executing phase: 'install'\r\n==> Successfully installed bzip2\r\n  Fetch: 0.00s.  Build: 3.15s.  Total: 3.15s.\r\n[+] /global/u2/j/jgalaro/spack/opt/spack/cray-CNL-haswell/gcc-7.2.0/bzip2-1.0.6-4yersr6oakvbug3tid6d2q4xz6jjclwr\r\n==> Installing pkgconf\r\n==> Using cached archive: /global/u2/j/jgalaro/spack/var/spack/cache/pkgconf/pkgconf-1.4.0.tar.xz\r\n==> Staging archive: /global/u2/j/jgalaro/spack/var/spack/stage/pkgconf-1.4.0-yr3p25ycrld2ctyp2gpsnt4q7okbr74d/pkgconf-1.4.0.tar.xz\r\n==> Created stage in /global/u2/j/jgalaro/spack/var/spack/stage/pkgconf-1.4.0-yr3p25ycrld2ctyp2gpsnt4q7okbr74d\r\n==> No patches needed for pkgconf\r\n==> Building pkgconf [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Executing phase: 'install'\r\n==> Successfully installed pkgconf\r\n  Fetch: 0.00s.  Build: 10.08s.  Total: 10.08s.\r\n[+] /global/u2/j/jgalaro/spack/opt/spack/cray-CNL-haswell/gcc-7.2.0/pkgconf-1.4.0-yr3p25ycrld2ctyp2gpsnt4q7okbr74d\r\n==> Installing ncurses\r\n==> Error: SyntaxError: invalid syntax (<string>, line 425)\r\nSyntaxError: SyntaxError: invalid syntax (<string>, line 425)\r\n\r\n/global/u2/j/jgalaro/spack/lib/spack/spack/build_environment.py:684, in child_process:\r\n     27    \r\n     28                # build up some context from the offending package so we can\r\n     29                # show that, too.\r\n  >> 30                package_context = get_package_context(tb)\r\n     31    \r\n     32                build_log = None\r\n     33                if hasattr(pkg, 'log_path'):\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "user": "jgalarowicz",
    "url": "https://api.github.com/repos/spack/spack/issues/7006",
    "updated_at": "2018-03-06 17:25:01",
    "created_at": "2018-01-19 23:21:51",
    "closed_at": "2018-03-06 17:25:01",
    "state": "closed",
    "title": "ncurses fails to build on Cray Cori at NERSC ",
    "number": 7006,
    "milestone": null,
    "labels": [
        "cray",
        "build-error"
    ],
    "id": 290136568,
    "html_url": "https://github.com/spack/spack/issues/7006",
    "assignees": [],
    "comments": 9
}