{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack install neovim\r\n```\n\n### Information on your system\n\n* **Spack:** 0.16.3-4806-532ba03d60\r\n* **Python:** 3.8.2\r\n* **Platform:** darwin-bigsur-m1\r\n* **Concretizer:** clingo\n\n### Additional information\n\n```\r\n==> Installing libtermkey-0.18-aualqbcme2zew3wmvvnguk4ssvesiw6e\r\n==> No binary for libtermkey-0.18-aualqbcme2zew3wmvvnguk4ssvesiw6e found: installing from source\r\n==> Using cached archive: /Users/certik/repos/spack/var/spack/cache/_source-cache/archive/23/239746de41c845af52bb3c14055558f743292dd6c24ac26c2d6567a5a6093926.tar.gz\r\n==> No patches needed for libtermkey\r\n==> libtermkey: Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8'\r\n\r\n4 errors found in build log:\r\n     9     glibtool --quiet --mode=compile --tag=CC /Users/certik/repos/spack/l\r\n           ib/spack/env/clang/clang -Wall -std=c99 -o driver-ti.lo -c driver-ti\r\n           .c\r\n     10    glibtool --quiet --mode=compile --tag=CC /Users/certik/repos/spack/l\r\n           ib/spack/env/clang/clang -Wall -std=c99 -o demo.lo -c demo.c\r\n     11    glibtool --quiet --mode=compile --tag=CC /Users/certik/repos/spack/l\r\n           ib/spack/env/clang/clang -Wall -std=c99 -o demo-async.lo -c demo-asy\r\n           nc.c\r\n     12    glibtool --quiet --mode=link --tag=CC /Users/certik/repos/spack/lib/\r\n           spack/env/clang/clang -rpath /usr/local/lib -version-info 13:0:12 -l\r\n           ncurses -o libtermkey.la termkey.lo driver-csi.lo driver-ti.lo\r\n     13    glibtool --quiet --mode=link --tag=CC /Users/certik/repos/spack/lib/\r\n           spack/env/clang/clang -o demo libtermkey.la demo.lo\r\n     14    glibtool --quiet --mode=link --tag=CC /Users/certik/repos/spack/lib/\r\n           spack/env/clang/clang -o demo-async libtermkey.la demo-async.lo\r\n  >> 15    Undefined symbols for architecture arm64:\r\n     16      \"_cur_term\", referenced from:\r\n     17          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     18      \"_setupterm\", referenced from:\r\n     19          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     20      \"_strfnames\", referenced from:\r\n     21          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     22      \"_strnames\", referenced from:\r\n     23          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     24      \"_tigetstr\", referenced from:\r\n     25          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     26    ld: symbol(s) not found for architecture arm64\r\n  >> 27    clang: error: linker command failed with exit code 1 (use -v to see \r\n           invocation)\r\n     28    make: *** [Makefile:74: demo] Error 1\r\n     29    make: *** Waiting for unfinished jobs....\r\n  >> 30    Undefined symbols for architecture arm64:\r\n     31      \"_cur_term\", referenced from:\r\n     32          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     33      \"_setupterm\", referenced from:\r\n     34          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     35      \"_strfnames\", referenced from:\r\n     36          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     37      \"_strnames\", referenced from:\r\n     38          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     39      \"_tigetstr\", referenced from:\r\n     40          _load_terminfo in libtermkey.a(driver-ti.o)\r\n     41    ld: symbol(s) not found for architecture arm64\r\n  >> 42    clang: error: linker command failed with exit code 1 (use -v to see \r\n           invocation)\r\n     43    make: *** [Makefile:77: demo-async] Error 1\r\n\r\nSee build log for details:\r\n  /var/folders/43/nspmtcpj5r589x58n_spl6jm000fsc/T/certik/spack-stage/spack-stage-libtermkey-0.18-aualqbcme2zew3wmvvnguk4ssvesiw6e/spack-build-out.txt\r\n\r\n```\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "certik",
    "url": "https://api.github.com/repos/spack/spack/issues/26672",
    "updated_at": "2022-02-26 17:15:03",
    "created_at": "2021-10-12 03:54:36",
    "closed_at": "2022-02-26 17:15:03",
    "state": "closed",
    "title": "Installation issue: libtermkey",
    "number": 26672,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1023330319,
    "html_url": "https://github.com/spack/spack/issues/26672",
    "assignees": [],
    "comments": 1
}