{
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\nspack install qgis\r\n```\r\n\r\n### Information on your system\r\n\r\n```\r\n* **Spack:** 0.16.2-4279-7e7de25aba\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos7-skylake\r\n* **Concretizer:** clingo\r\n```\r\n\r\n### Additional information\r\n\r\nHere is my compilation output and error message: proj is installed, so I'm not sure why it is complaining.\r\nThanks for any help @Sinan81  @adamjstewart !\r\n\r\n```console\r\n-- The C compiler identification is GNU 9.3.0\r\n-- The CXX compiler identification is GNU 9.3.0\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: /home/sberton2/.spack/lib/spack/env/gcc/gcc - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Detecting CXX compiler ABI info\r\n-- Detecting CXX compiler ABI info - done\r\n-- Check for working CXX compiler: /home/sberton2/.spack/lib/spack/env/gcc/g++ - skipped\r\n-- Detecting CXX compile features\r\n-- Detecting CXX compile features - done\r\n-- QGIS version: 3.16.5 Hannover (31605)\r\n-- Looking for openpty\r\n-- Looking for openpty - not found\r\n-- Looking for openpty\r\n-- Looking for openpty - found\r\n-- Found GEOS: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/geos-3.9.1-gi3rqhvsi6zmnzm35xcfltibt4nmf63f/lib/libgeos_c.so (3.9.1)\r\n-- Found GDAL: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/gdal-3.3.2-voikd6xd4d4xdsl6skuv4khsruayxbj5/lib/libg\r\ndal.so (3.3.2)\r\n-- Found Expat: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/expat-2.4.1-pyfatz6cwkcdjsjhjsrzqljry37gzr6y/lib/li\r\nbexpat.so\r\n-- Found Spatialindex: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/libspatialindex-1.9.3-ygmek3iglaw7qzfsvcwadj\r\ndcmc6pxytx/lib/libspatialindex.so\r\n-- Found Qwt: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/qwt-6.1.6-6hmhnw5ppxelzeiqwrznbu2mxxyvfzpl/lib/libqwt\r\n.so (6.1.6)\r\n-- Found LibZip: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/libzip-1.2.0-gqq44oeuobz4oboj45jntgwykl2yshu4/lib/\r\nlibzip.so  \r\n-- Found libzip: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/libzip-1.2.0-gqq44oeuobz4oboj45jntgwykl2yshu4/lib/\r\nlibzip.so\r\n-- Found Sqlite3: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/sqlite-3.36.0-etpxgynjjno2j3ijbjprfieyetjzixvd/li\r\nb/libsqlite3.so\r\nCMake Warning (dev) at /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/cmake-3.21.2-dk3vtkwamxxxfcey44n672v3hqxlsau\r\nc/share/cmake-3.21/Modules/CheckIncludeFile.cmake:82 (message):\r\n  Policy CMP0075 is not set: Include file check macros honor\r\n  CMAKE_REQUIRED_LIBRARIES.  Run \"cmake --help-policy CMP0075\" for policy\r\n  details.  Use the cmake_policy command to set the policy and suppress this\r\n  warning.\r\n\r\n  CMAKE_REQUIRED_LIBRARIES is set to:\r\n\r\n    util\r\n\r\n  For compatibility with CMake 3.11 and below this check is ignoring it.\r\nCall Stack (most recent call first):\r\n  /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/cmake-3.21.2-dk3vtkwamxxxfcey44n672v3hqxlsauc/share/cmake-3.21/Mo\r\ndules/FindThreads.cmake:146 (CHECK_INCLUDE_FILE)\r\n  /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/cmake-3.21.2-dk3vtkwamxxxfcey44n672v3hqxlsauc/share/cmake-3.21/Mo\r\ndules/FindProtobuf.cmake:444 (find_package)\r\n  CMakeLists.txt:349 (find_package)\r\nThis warning is for project developers.  Use -Wno-dev to suppress it.\r\n\r\n-- Found Protobuf: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/protobuf-3.17.3-ogsuv7bvdm6iar6b27w7feniejhzs4pw\r\n/lib64/libprotobuf.so;-lpthread (found version \"3.17.3\") \r\n-- Found Protobuf: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/protobuf-3.17.3-ogsuv7bvdm6iar6b27w7feniejhzs4pw\r\n/lib64/libprotobuf.so;-lpthread\r\n-- Found ZLIB: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/zlib-1.2.11-3pgwxgsu5kkcetlrm6zlp2o7nkye7c2e/lib/lib\r\nz.so (found version \"1.2.11\") \r\n-- Found zlib: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/zlib-1.2.11-3pgwxgsu5kkcetlrm6zlp2o7nkye7c2e/lib/lib\r\nz.so\r\n-- Found PostgreSQL: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/postgresql-11.2-jqenp7owl2oxuus6zp7wc2fwzrmuxl\r\nxr/lib/libpq.so\r\n-- Found SpatiaLite: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/libspatialite-5.0.0-mv7yhghhfnfpmmuj7jyaoeqyox\r\nty5bqj/lib/libspatialite.so\r\nCMake Error at CMakeLists.txt:373 (message):\r\n  Some dependencies were not found! Proj: , Geos: TRUE, GDAL: TRUE\r\n\r\n\r\n-- Qt WebKit support DISABLED.\r\n-- Found Threads: TRUE  \r\n-- Found Qt version: 5.14.2\r\n-- Found QScintilla2: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/qscintilla-2.11.6-aanh333hpoxuar7yydselctmote\r\ngijdm/lib/libqscintilla2_qt5.so (2.11.6)\r\n-- Found QtKeychain: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/qtkeychain-0.9.1-dag25c4hfasvjnwy5h232ko2qje7r\r\np5m/lib64/libqt5keychain.so\r\n-- Found QCA: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/qca-2.2.1-46adakxwfhzqf2ds3aoxwh3xkoqgpjui/lib/libqca\r\n-qt5.so (2.2.1)\r\n-- Found QCA OpenSSL plugin\r\n-- Pedantic compiler settings enabled\r\n-- Debug output enabled\r\n-- Found GSL: -L/home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/gsl-2.7-yjs5ud7wu25yrlx6i2ri3xwrrzdaaxdh/lib -lgsl \r\n-lgslcblas -lm\r\n-- Found PythonInterp: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/python-3.8.11-doeeci4i2ml7dmybkkvqpkxcgdq226\r\ng6/bin/python3 (found suitable version \"3.8.11\", minimum required is \"3\") \r\n-- Found Python executable: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/python-3.8.11-doeeci4i2ml7dmybkkvqpkxcg\r\ndq226g6/bin/python3\r\n-- Found Python version: 3.8.11\r\n-- Found Python library: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/python-3.8.11-doeeci4i2ml7dmybkkvqpkxcgdq2\r\n26g6/lib/libpython3.8.so\r\n-- Found Python site-packages: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/python-3.8.11-doeeci4i2ml7dmybkkvqpk\r\nxcgdq226g6/lib/python3.8/site-packages\r\n-- Found PyQt5 version: 5.13.1\r\n-- Found SIP version: 4.255.255\r\n-- Found QScintilla2 PyQt module: 2.11.6\r\n-- Performing Test COMPILER_HAS_HIDDEN_VISIBILITY\r\n-- Performing Test COMPILER_HAS_HIDDEN_VISIBILITY - Success\r\n-- Performing Test COMPILER_HAS_HIDDEN_INLINE_VISIBILITY\r\n-- Performing Test COMPILER_HAS_HIDDEN_INLINE_VISIBILITY - Success\r\n-- Performing Test COMPILER_HAS_DEPRECATED_ATTR\r\n-- Performing Test COMPILER_HAS_DEPRECATED_ATTR - Success\r\n-- Found exiv2: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/exiv2-0.27.2-qpkouufk2enjd7a6wpksslvkk64p7qkb/lib64\r\n/libexiv2.so\r\n-- Found HDF5: hdf5-shared (found version \"1.10.7\")  \r\n-- Found PkgConfig: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/pkgconf-1.8.0-mk4dm3vkzbbeddaqfivcmhyiz5xl2tvq/\r\nbin/pkg-config (found version \"1.8.0\") \r\n-- Found NetCDF: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/netcdf-c-4.8.0-5fsxzsez7poccxxw5uuiwt5mkb2fje6p/li\r\nb/libnetcdf.so  \r\n-- Found LibXml2: /home/sberton2/.spack/opt/spack/linux-centos7-skylake/gcc-9.3.0/libxml2-2.9.12-zdl3feki4fd36g4mirntxz6nadikhuqo/l\r\nib/libxml2.so (found version \"2.9.12\") \r\nCMake Deprecation Warning at external/qt-unix-signals/CMakeLists.txt:1 (cmake_minimum_required):\r\n  Compatibility with CMake < 2.8.12 will be removed from a future version of\r\n  CMake.\r\n\r\n  Update the VERSION argument <min> value or use a ...<max> suffix to tell\r\n  CMake that the project does not need compatibility with older versions.\r\n\r\n\r\n-- Using PROJ <6 srs database.\r\n-- Qsci sip file not found - disabling bindings for derived classes\r\n-- Ctest Binary Directory set to: /home/sberton2/.tmp/spack-stage/spack-stage-qgis-3.16.5-kuofr6u4ljajfr2bsmxk2uygrl2gddhx/spack-bu\r\nild-kuofr6u/output/bin\r\n-- Configuring incomplete, errors occurred!\r\n```\r\n\r\n### General information\r\n\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\r\n- [X] I have uploaded the build log and environment files\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate\r\n\r\n[spack-build-env.txt](https://github.com/spack/spack/files/7186554/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7186555/spack-build-out.txt)\r\n",
    "user": "steo85it",
    "url": "https://api.github.com/repos/spack/spack/issues/26033",
    "updated_at": "2021-10-13 18:39:27",
    "created_at": "2021-09-17 14:47:50",
    "closed_at": "2021-10-13 18:38:38",
    "state": "closed",
    "title": "Installation issue: qgis",
    "number": 26033,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 999438793,
    "html_url": "https://github.com/spack/spack/issues/26033",
    "assignees": [],
    "comments": 18
}