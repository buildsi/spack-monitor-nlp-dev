{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack patch adios2@2.6.0\r\n==> Using cached archive: /software/spack/git.2021.11.29/var/spack/cache/_source-cache/archive/45/45b41889065f8b840725928db092848b8a8b8d1bfae1b92e72f8868d1c76216c.tar.gz\r\n==> Using cached archive: /software/spack/git.2021.11.29/var/spack/cache/_source-cache/archive/8d/8d301e8232baf4049b547f22bd73774309662017a62dac36360d2965907062bf\r\npatching file CMakeLists.txt\r\nHunk #1 succeeded at 116 (offset 2 lines).\r\nHunk #2 FAILED at 224.\r\n1 out of 2 hunks FAILED -- saving rejects to file CMakeLists.txt.rej\r\npatching file bindings/Matlab/README.txt\r\npatching file cmake/DetectOptions.cmake\r\nHunk #1 succeeded at 279 (offset -14 lines).\r\npatching file scripts/conda/adios2/superbuild/CMakeLists.txt\r\npatching file scripts/docker/images/centos7/Dockerfile\r\npatching file scripts/docker/images/centos8/Dockerfile\r\npatching file scripts/docker/images/ubuntu/Dockerfile\r\npatching file scripts/runconf/runconf.sh\r\npatching file scripts/runconf/runconf_olcf.sh\r\n==> Patch /software/spack/git.2021.11.29/var/spack/repos/builtin/packages/adios2/2.7-fix-python-test-deps.patch failed.\r\n==> Error: Command exited with status 1:\r\n'/bin/patch' '-N' '-p' '1' '-i' '/software/spack/git.2021.11.29/var/spack/repos/builtin/packages/adios2/2.7-fix-python-test-deps.patch' '-d' '.'\r\npatching file CMakeLists.txt\r\nHunk #1 succeeded at 116 (offset 2 lines).\r\nHunk #2 FAILED at 224.\r\n1 out of 2 hunks FAILED -- saving rejects to file CMakeLists.txt.rej\r\npatching file bindings/Matlab/README.txt\r\npatching file cmake/DetectOptions.cmake\r\nHunk #1 succeeded at 279 (offset -14 lines).\r\npatching file scripts/conda/adios2/superbuild/CMakeLists.txt\r\npatching file scripts/docker/images/centos7/Dockerfile\r\npatching file scripts/docker/images/centos8/Dockerfile\r\npatching file scripts/docker/images/ubuntu/Dockerfile\r\npatching file scripts/runconf/runconf.sh\r\npatching file scripts/runconf/runconf_olcf.sh\r\n```\r\n\n\n### Information on your system\n\n```console\r\n$ spack debug report\r\n* **Spack:** 0.17.0-319-5dce4d79bd\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-rhel8-zen2\r\n* **Concretizer:** clingo\r\n```\n\n### Additional information\n\nAs it is a patch issue, now build environment or logs to upload, etc.  \r\n\r\nBut I am including the original CMakeLists.txt file, the patch rejection, and the partially patched file\r\n- [CMakeLists.txt.orig.txt](https://github.com/spack/spack/files/7810773/CMakeLists.txt.orig.txt) \r\n- [CMakeLists.txt.rej.txt](https://github.com/spack/spack/files/7810774/CMakeLists.txt.rej.txt)\r\n- [CMakeLists.txt](https://github.com/spack/spack/files/7810775/CMakeLists.txt)\r\n\r\nMaintainers:\r\n@ax3l  @chuckatkins  @williamfgc\r\n\r\nIt looks like the patch is for adios2@2.7 and is failing on adios2@2.6.0.  I have successfully installed adios2@2.6.0 after hacking the packages.py to skip this patch for adios2@2.6.0, but I am not sure if this is the proper solution or not.  (I was building with python bindings enabled, so the additional python dependency should not matter in my case).  Or should the patch be fixed to support @2.6???\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "payerle",
    "url": "https://api.github.com/repos/spack/spack/issues/28245",
    "updated_at": "2022-01-04 22:42:42",
    "created_at": "2022-01-04 22:42:42",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: adios2",
    "number": 28245,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1093812153,
    "html_url": "https://github.com/spack/spack/issues/28245",
    "assignees": [],
    "comments": 0
}