{
    "body": "We are building tophat in a container, and hitting [build errors](https://github.com/autamus/registry/pull/88/checks?check_run_id=2118980231).\r\n\r\n```bash\r\n==> No patches needed for tophat\r\n==> tophat: Executing phase: 'autoreconf'\r\n==> tophat: Executing phase: 'configure'\r\n==> tophat: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make'\r\n\r\n4 errors found in build log:\r\n     479    /opt/spack/lib/spack/env/gcc/g++  -Wall -Wno-strict-aliasing -g -gd\r\n            warf-2 -Wuninitialized  -O3  -DNDEBUG -I./samtools-0.1.18 -pthread \r\n            -I/opt/software/linux-ubuntu18.04-skylake/gcc-7.5.0/boost-1.75.0-t3\r\n            6skykf7qk2sohheekq67px5w2eisr4/include -I./SeqAn-1.4.2 -L./samtools\r\n            -0.1.18 -L./samtools-0.1.18 -L/opt/software/linux-ubuntu18.04-skyla\r\n            ke/gcc-7.5.0/boost-1.75.0-t36skykf7qk2sohheekq67px5w2eisr4/lib  -L.\r\n            /samtools-0.1.18 -L/opt/software/linux-ubuntu18.04-skylake/gcc-7.5.\r\n            0/boost-1.75.0-t36skykf7qk2sohheekq67px5w2eisr4/lib  -o bam_merge b\r\n            am_merge.o libtophat.a libgc.a -lbam -lz\r\n     480    /opt/spack/lib/spack/env/gcc/g++ -DHAVE_CONFIG_H -I. -I..     -Wall\r\n             -Wno-strict-aliasing -g -gdwarf-2 -Wuninitialized  -O3  -DNDEBUG -\r\n            I./samtools-0.1.18 -pthread -I/opt/software/linux-ubuntu18.04-skyla\r\n            ke/gcc-7.5.0/boost-1.75.0-t36skykf7qk2sohheekq67px5w2eisr4/include \r\n            -I./SeqAn-1.4.2 -MT map2gtf.o -MD -MP -MF .deps/map2gtf.Tpo -c -o m\r\n            ap2gtf.o map2gtf.cpp\r\n     481    mv -f .deps/map2gtf.Tpo .deps/map2gtf.Po\r\n     482    /opt/spack/lib/spack/env/gcc/g++  -Wall -Wno-strict-aliasing -g -gd\r\n            warf-2 -Wuninitialized  -O3  -DNDEBUG -I./samtools-0.1.18 -pthread \r\n            -I/opt/software/linux-ubuntu18.04-skylake/gcc-7.5.0/boost-1.75.0-t3\r\n            6skykf7qk2sohheekq67px5w2eisr4/include -I./SeqAn-1.4.2 -L./samtools\r\n            -0.1.18 -L./samtools-0.1.18 -L/opt/software/linux-ubuntu18.04-skyla\r\n            ke/gcc-7.5.0/boost-1.75.0-t36skykf7qk2sohheekq67px5w2eisr4/lib  -L.\r\n            /samtools-0.1.18 -L/opt/software/linux-ubuntu18.04-skylake/gcc-7.5.\r\n            0/boost-1.75.0-t36skykf7qk2sohheekq67px5w2eisr4/lib  -o map2gtf map\r\n            2gtf.o libtophat.a libgc.a -lbam -lz\r\n     483    /opt/spack/lib/spack/env/gcc/g++ -DHAVE_CONFIG_H -I. -I..     -Wall\r\n             -Wno-strict-aliasing -g -gdwarf-2 -Wuninitialized  -O3  -DNDEBUG -\r\n            I./samtools-0.1.18 -pthread -I/opt/software/linux-ubuntu18.04-skyla\r\n            ke/gcc-7.5.0/boost-1.75.0-t36skykf7qk2sohheekq67px5w2eisr4/include \r\n            -I./SeqAn-1.4.2 -MT tophat_reports.o -MD -MP -MF .deps/tophat_repor\r\n            ts.Tpo -c -o tophat_reports.o tophat_reports.cpp\r\n     484    tophat_reports.cpp: In function 'void driver(const string&, std::is\r\n            tream&, const std::vector<std::__cxx11::basic_string<char> >&, cons\r\n            t string&, const std::vector<std::__cxx11::basic_string<char> >&, c\r\n            onst string&, FILE*, FILE*, FILE*, FILE*)':\r\n  >> 485    tophat_reports.cpp:2708:128: error: no matching function for call t\r\n            o 'make_pair<Junction, JunctionStats>(Junction, JunctionStats&)'\r\n     486         gtf_junctions.insert(make_pair<Junction, JunctionStats>(Juncti\r\n            on(ref_id, left_coord, right_coord, antisense), junction_stat));\r\n     487                                                                       \r\n                                                                         ^\r\n     488    In file included from /usr/include/c++/7/bits/stl_algobase.h:64:0,\r\n     489                     from /usr/include/c++/7/bits/char_traits.h:39,\r\n     490                     from /usr/include/c++/7/string:40,\r\n     491                     from /opt/software/linux-ubuntu18.04-skylake/gcc-7\r\n            .5.0/boost-1.75.0-t36skykf7qk2sohheekq67px5w2eisr4/include/boost/th\r\n            read/exceptions.hpp:20,\r\n\r\n     ...\r\n\r\n     499         ^~~~~~~~~\r\n     500    /usr/include/c++/7/bits/stl_pair.h:524:5: note:   template argument\r\n             deduction/substitution failed:\r\n     501    tophat_reports.cpp:2708:128: note:   cannot convert 'junction_stat'\r\n             (type 'JunctionStats') to type 'JunctionStats&&'\r\n     502         gtf_junctions.insert(make_pair<Junction, JunctionStats>(Juncti\r\n            on(ref_id, left_coord, right_coord, antisense), junction_stat));\r\n     503                                                                       \r\n                                                                         ^\r\n     504    Makefile:1571: recipe for target 'tophat_reports.o' failed\r\n  >> 505    make[2]: *** [tophat_reports.o] Error 1\r\n     506    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-topha\r\n            t-2.1.2-rydfsrplqr4xdjkemkyqaigqqoxa2x4t/spack-src/src'\r\n     507    Makefile:388: recipe for target 'all-recursive' failed\r\n  >> 508    make[1]: *** [all-recursive] Error 1\r\n     509    make[1]: Leaving directory '/tmp/root/spack-stage/spack-stage-topha\r\n            t-2.1.2-rydfsrplqr4xdjkemkyqaigqqoxa2x4t/spack-src'\r\n     510    Makefile:329: recipe for target 'all' failed\r\n  >> 511    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-tophat-2.1.2-rydfsrplqr4xdjkemkyqaigqqoxa2x4t/spack-build-out.txt\r\n\r\n==> Error: Terminating after first install failure: ProcessError: Command exited with status 2:\r\n    'make'\r\n```\r\nThe spack.yaml looks like this:\r\n\r\n```yaml\r\nspack:\r\n  specs: [\"tophat\"]\r\n  view: true\r\n  container:\r\n    os_packages:\r\n      build:\r\n        - python3-dev\r\n      final:\r\n        - ca-certificates\r\n    strip: false\r\n```\r\n\r\nThis is possibly related to #21737.\r\n",
    "user": "vsoch",
    "url": "https://api.github.com/repos/spack/spack/issues/22333",
    "updated_at": "2021-03-16 19:29:38",
    "created_at": "2021-03-16 19:28:11",
    "closed_at": "None",
    "state": "open",
    "title": "[tophat] build error, no matching functions",
    "number": 22333,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 833129043,
    "html_url": "https://github.com/spack/spack/issues/22333",
    "assignees": [],
    "comments": 0
}