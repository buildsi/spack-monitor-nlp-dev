{
    "body": "### Steps to reproduce the issue\n\n```console\r\nsarabas@atmos-sarabas ~ % spack install gettext\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libiconv-1.16-awekbt65jbqsaw2m6urhmo2hyoo23z3u\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/pkgconf-1.8.0-watycncn4vriiwg3edqhhooy4tj3xb4c\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/xz-5.2.5-tquqkj2ibqcmdno2exh22zhuwdc5ycqv\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/tar-1.34-42smeaz45f33p5lxsnzjaozpdgmehmky\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/diffutils-3.7-6lxxcchxd3nvuxrvnhuv2mjbcpsc6jwz\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/ncurses-6.2-2tzendxzbqbbwgb5pi2lybrpucjhfyse\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libxml2-2.9.12-nhf5v5ulwn6zlt3mf7rd7mvec5fy7atc\r\n[+] /Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/bzip2-1.0.8-4wmx4jhh5mhnvz4qw3lxykcmiydbz3fg\r\n==> Installing gettext-0.21-gdlfbblriq37k6c2cvkt572prs4zowmq\r\n==> No binary for gettext-0.21-gdlfbblriq37k6c2cvkt572prs4zowmq found: installing from source\r\n==> Using cached archive: /Users/sarabas/spack/var/spack/cache/_source-cache/archive/d2/d20fcbb537e02dcf1383197ba05bd0734ef7bf5db06bdb241eb69b7d16b73192.tar.xz\r\n==> No patches needed for gettext\r\n==> gettext: Executing phase: 'autoreconf'\r\n==> Error: RuntimeError: Failed to find suitable substitutes for config.sub\r\n\r\n/Users/sarabas/spack/lib/spack/spack/build_systems/autotools.py:172, in _do_patch_config_files:\r\n        169\r\n        170        # Check that we found everything we needed\r\n        171        if to_be_found:\r\n  >>    172            msg = 'Failed to find suitable substitutes for {0}'\r\n        173            raise RuntimeError(msg.format(', '.join(to_be_found)))\r\n        174\r\n        175        # Copy the good files over the bad ones\r\n\r\nSee build log for details:\r\n  /var/folders/1f/fpq_67lj1gxbtlwzd0t6hjch0000gp/T/sarabas/spack-stage/spack-stage-gettext-0.21-gdlfbblriq37k6c2cvkt572prs4zowmq/spack-build-out.txt\r\n\r\n```\n\n### Information on your system\n\nsarabas@atmos-sarabas ~ % spack debug report   \r\n* **Spack:** 0.16.2-4249-c6edfa3f31\r\n* **Python:** 3.8.2\r\n* **Platform:** darwin-bigsur-m1\r\n* **Concretizer:** original\n\n### Additional information\n\n```\r\n==> gettext: Executing phase: 'autoreconf'\r\n==> [2021-09-15-19:17:47.585994] CalledProcessError: Command '['/var/folders/1f/fpq_67lj1gxbtlwzd0t6hjch0000gp/T/sarabas/spack-stage/spack-stage-gettext-0.21-gdlfbblriq37k6c2cvkt572prs4zowmq/spack-src/gettext-tools/examples/hello-c++-kde/admin/config.sub', 'aarch64']' returned non-zero exit status 1.\r\n```\r\n\r\n```\r\nACLOCAL_PATH=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/pkgconf-1.8.0-watycncn4vriiwg3edqhhooy4tj3xb4c/share/aclocal; export ACLOCAL_PATH\r\nCC=/Users/sarabas/spack/lib/spack/env/clang/clang; export CC\r\nCMAKE_PREFIX_PATH=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/tar-1.34-42smeaz45f33p5lxsnzjaozpdgmehmky:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/ncurses-6.2-2tzendxzbqbbwgb5pi2lybrpucjhfyse:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libxml2-2.9.12-nhf5v5ulwn6zlt3mf7rd7mvec5fy7atc:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/xz-5.2.5-tquqkj2ibqcmdno2exh22zhuwdc5ycqv:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/bzip2-1.0.8-4wmx4jhh5mhnvz4qw3lxykcmiydbz3fg:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libiconv-1.16-awekbt65jbqsaw2m6urhmo2hyoo23z3u; export CMAKE_PREFIX_PATH\r\nCXX=/Users/sarabas/spack/lib/spack/env/clang/clang++; export CXX\r\nDISPLAY=/private/tmp/com.apple.launchd.m7bGHGYSdB/org.xquartz:0; export DISPLAY\r\nHOME=/Users/sarabas; export HOME\r\nLANG=en_US.UTF-8; export LANG\r\nLC_ALL=C; export LC_ALL\r\nLOGNAME=sarabas; export LOGNAME\r\nMANPATH=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/netcdf-c-4.8.0-23vltjlkyqshe2r5uf27jselmd7kpe4g/share/man:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip/share/man:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/pkgconf-1.8.0-watycncn4vriiwg3edqhhooy4tj3xb4c/share/man; export MANPATH\r\nPATH=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/tar-1.34-42smeaz45f33p5lxsnzjaozpdgmehmky/bin:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/ncurses-6.2-2tzendxzbqbbwgb5pi2lybrpucjhfyse/bin:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libxml2-2.9.12-nhf5v5ulwn6zlt3mf7rd7mvec5fy7atc/bin:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/xz-5.2.5-tquqkj2ibqcmdno2exh22zhuwdc5ycqv/bin:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/bzip2-1.0.8-4wmx4jhh5mhnvz4qw3lxykcmiydbz3fg/bin:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libiconv-1.16-awekbt65jbqsaw2m6urhmo2hyoo23z3u/bin:/Users/sarabas/spack/lib/spack/env/clang:/Users/sarabas/spack/lib/spack/env/case-insensitive:/Users/sarabas/spack/lib/spack/env:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/netcdf-c-4.8.0-23vltjlkyqshe2r5uf27jselmd7kpe4g/bin:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/hdf5-1.10.7-x3mrviwvt5agr4imhqjn4g6hpxqhl362/bin:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/pkgconf-1.8.0-watycncn4vriiwg3edqhhooy4tj3xb4c/bin:/Users/sarabas/spack/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/munki:/opt/X11/bin; export PATH\r\nPKG_CONFIG_PATH=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/ncurses-6.2-2tzendxzbqbbwgb5pi2lybrpucjhfyse/lib/pkgconfig:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libxml2-2.9.12-nhf5v5ulwn6zlt3mf7rd7mvec5fy7atc/lib/pkgconfig:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip/lib/pkgconfig:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/xz-5.2.5-tquqkj2ibqcmdno2exh22zhuwdc5ycqv/lib/pkgconfig:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/netcdf-c-4.8.0-23vltjlkyqshe2r5uf27jselmd7kpe4g/lib/pkgconfig:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/hdf5-1.10.7-x3mrviwvt5agr4imhqjn4g6hpxqhl362/lib/pkgconfig:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip/lib/pkgconfig:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/pkgconf-1.8.0-watycncn4vriiwg3edqhhooy4tj3xb4c/lib/pkgconfig; export PKG_CONFIG_PATH\r\n#PWD=/Users/sarabas; export PWD\r\nSDKROOT=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk; export SDKROOT\r\nSHELL=/bin/zsh; export SHELL\r\nSHLVL=2; export SHLVL\r\nSPACK_CC=/usr/bin/clang; export SPACK_CC\r\nSPACK_CC_RPATH_ARG=-Wl,-rpath,; export SPACK_CC_RPATH_ARG\r\nSPACK_COMPILER_SPEC=apple-clang@12.0.5; export SPACK_COMPILER_SPEC\r\nSPACK_CXX=/usr/bin/clang++; export SPACK_CXX\r\nSPACK_CXX_RPATH_ARG=-Wl,-rpath,; export SPACK_CXX_RPATH_ARG\r\nSPACK_DEBUG_LOG_DIR=/Users/sarabas; export SPACK_DEBUG_LOG_DIR\r\nSPACK_DEBUG_LOG_ID=gettext-gdlfbbl; export SPACK_DEBUG_LOG_ID\r\nSPACK_DTAGS_TO_ADD=''; export SPACK_DTAGS_TO_ADD\r\nSPACK_DTAGS_TO_STRIP=''; export SPACK_DTAGS_TO_STRIP\r\nSPACK_DYLD_FALLBACK_LIBRARY_PATH=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/netcdf-c-4.8.0-23vltjlkyqshe2r5uf27jselmd7kpe4g/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/hdf5-1.10.7-x3mrviwvt5agr4imhqjn4g6hpxqhl362/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/pkgconf-1.8.0-watycncn4vriiwg3edqhhooy4tj3xb4c/lib; export SPACK_DYLD_FALLBACK_LIBRARY_PATH\r\nSPACK_ENV_PATH=/Users/sarabas/spack/lib/spack/env:/Users/sarabas/spack/lib/spack/env/case-insensitive:/Users/sarabas/spack/lib/spack/env/clang; export SPACK_ENV_PATH\r\nSPACK_F77_RPATH_ARG=-Wl,-rpath,; export SPACK_F77_RPATH_ARG\r\nSPACK_FC_RPATH_ARG=-Wl,-rpath,; export SPACK_FC_RPATH_ARG\r\nSPACK_INCLUDE_DIRS=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/ncurses-6.2-2tzendxzbqbbwgb5pi2lybrpucjhfyse/include:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libxml2-2.9.12-nhf5v5ulwn6zlt3mf7rd7mvec5fy7atc/include/libxml2:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libxml2-2.9.12-nhf5v5ulwn6zlt3mf7rd7mvec5fy7atc/include:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip/include:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/xz-5.2.5-tquqkj2ibqcmdno2exh22zhuwdc5ycqv/include:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/bzip2-1.0.8-4wmx4jhh5mhnvz4qw3lxykcmiydbz3fg/include:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libiconv-1.16-awekbt65jbqsaw2m6urhmo2hyoo23z3u/include; export SPACK_INCLUDE_DIRS\r\nSPACK_LD_LIBRARY_PATH=''; export SPACK_LD_LIBRARY_PATH\r\nSPACK_LINKER_ARG=-Wl,; export SPACK_LINKER_ARG\r\nSPACK_LINK_DIRS=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/ncurses-6.2-2tzendxzbqbbwgb5pi2lybrpucjhfyse/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libxml2-2.9.12-nhf5v5ulwn6zlt3mf7rd7mvec5fy7atc/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/xz-5.2.5-tquqkj2ibqcmdno2exh22zhuwdc5ycqv/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/bzip2-1.0.8-4wmx4jhh5mhnvz4qw3lxykcmiydbz3fg/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libiconv-1.16-awekbt65jbqsaw2m6urhmo2hyoo23z3u/lib; export SPACK_LINK_DIRS\r\nSPACK_LOADED_HASHES=23vltjlkyqshe2r5uf27jselmd7kpe4g:x3mrviwvt5agr4imhqjn4g6hpxqhl362:dutqmbgt7xsevwiye6h7ylcra7tsdaip:watycncn4vriiwg3edqhhooy4tj3xb4c; export SPACK_LOADED_HASHES\r\nSPACK_NEW_LD_LIBRARY_PATH=''; export SPACK_NEW_LD_LIBRARY_PATH\r\nSPACK_PYTHON=/usr/bin/python3; export SPACK_PYTHON\r\nSPACK_ROOT=/Users/sarabas/spack; export SPACK_ROOT\r\nSPACK_RPATH_DIRS=/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/gettext-0.21-gdlfbblriq37k6c2cvkt572prs4zowmq/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/gettext-0.21-gdlfbblriq37k6c2cvkt572prs4zowmq/lib64:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/ncurses-6.2-2tzendxzbqbbwgb5pi2lybrpucjhfyse/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libxml2-2.9.12-nhf5v5ulwn6zlt3mf7rd7mvec5fy7atc/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/zlib-1.2.11-dutqmbgt7xsevwiye6h7ylcra7tsdaip/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/xz-5.2.5-tquqkj2ibqcmdno2exh22zhuwdc5ycqv/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/bzip2-1.0.8-4wmx4jhh5mhnvz4qw3lxykcmiydbz3fg/lib:/Users/sarabas/spack/opt/spack/darwin-bigsur-m1/apple-clang-12.0.5/libiconv-1.16-awekbt65jbqsaw2m6urhmo2hyoo23z3u/lib; export SPACK_RPATH_DIRS\r\nSPACK_SHORT_SPEC='gettext@0.21%apple-clang@12.0.5+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-bigsur-m1/gdlfbbl'; export SPACK_SHORT_SPEC\r\nSPACK_SYSTEM_DIRS=/bin:/usr/bin:/usr/local/bin:/bin64:/usr/bin64:/usr/local/bin64:/include:/usr/include:/usr/local/include:/lib:/usr/lib:/usr/local/lib:/lib64:/usr/lib64:/usr/local/lib64:/:/usr:/usr/local; export SPACK_SYSTEM_DIRS\r\nSPACK_TARGET_ARGS=-march=armv8.4-a; export SPACK_TARGET_ARGS\r\nSSH_AUTH_SOCK=/private/tmp/com.apple.launchd.Fq7Fh7Hbb8/Listeners; export SSH_AUTH_SOCK\r\nTERM=xterm-256color; export TERM\r\nTERM_PROGRAM=Apple_Terminal; export TERM_PROGRAM\r\nTERM_PROGRAM_VERSION=440; export TERM_PROGRAM_VERSION\r\n#TERM_SESSION_ID=BE781AF4-B89E-4D5D-B2AD-98075470C363; export TERM_SESSION_ID\r\nTMPDIR=/var/folders/1f/fpq_67lj1gxbtlwzd0t6hjch0000gp/T/; export TMPDIR\r\nUSER=sarabas; export USER\r\nXPC_FLAGS=0x0; export XPC_FLAGS\r\nXPC_SERVICE_NAME=0; export XPC_SERVICE_NAME\r\n_=/Library/Developer/CommandLineTools/usr/bin/python3; export _\r\n__CFBundleIdentifier=com.apple.Terminal; export __CFBundleIdentifier\r\n__CF_USER_TEXT_ENCODING=0x1F6:0x0:0x0; export __CF_USER_TEXT_ENCODING\r\n__PYVENV_LAUNCHER__=/Library/Developer/CommandLineTools/usr/bin/python3; export __PYVENV_LAUNCHER__\r\n```\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "slayoo",
    "url": "https://api.github.com/repos/spack/spack/issues/25984",
    "updated_at": "2021-09-16 00:26:29",
    "created_at": "2021-09-16 00:26:29",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: gettext (fails with \"Failed to find suitable substitutes for config.sub\")",
    "number": 25984,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 997629663,
    "html_url": "https://github.com/spack/spack/issues/25984",
    "assignees": [],
    "comments": 0
}