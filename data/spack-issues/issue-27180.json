{
    "body": "### Steps to reproduce the issue\n\n`trilinos@13.0.1 +cuda cuda_arch=70` build fails using:\r\n* `spack@develop` (b3711c0d9d07b8b0e673adc49f5742d90cf48a12 from `Tue Nov 2 10:55:50 2021 -0700`)\r\n* Ubuntu 20.04, x86_64, GCC 9.3.0\r\n\r\nConcrete spec: [trilinos.spec.yaml.txt](https://github.com/spack/spack/files/7464562/trilinos.spec.yaml.txt)\r\n\r\nConcretization:\r\n```\r\nInput spec\r\n--------------------------------\r\n -   trilinos+cuda cuda_arch=70\r\n\r\nConcretized\r\n--------------------------------\r\n -   trilinos@13.0.1%gcc@9.3.0~adios2+amesos+amesos2+anasazi+aztec~basker+belos+boost~chaco~complex+cuda~cuda_rdc~debug~dtk+epetra+epetraext~epetraextbtf~epetraextexperimental~epetraextgraphreorderings~exodus+explicit_template_instantiation~float+fortran~gtest~hdf5~hypre+ifpack+ifpack2+intrepid+intrepid2~ipo+isorropia+kokkos~mesquite+minitensor+ml+mpi+muelu~mumps+nox~openmp+phalanx+piro~python+rol+rythmos+sacado~scorec+shards+shared+shylu+stk+stokhos+stratimikos~strumpack~suite-sparse~superlu+superlu-dist+teko+tempus+tpetra+trilinoscouplings+wrapper~x11+zoltan+zoltan2 build_type=RelWithDebInfo cuda_arch=70 cxxstd=11 gotype=long_long arch=linux-ubuntu20.04-x86_64\r\n[+]      ^boost@1.77.0%gcc@9.3.0+atomic+chrono~clanglibcpp~container~context~coroutine+date_time~debug+exception~fiber+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout+wave cxxstd=98 patches=93f4aad8f88d1437e50d95a2d066390ef3753b99ef5de24f7a46bc083bd6df06 visibility=global arch=linux-ubuntu20.04-x86_64\r\n[+]          ^bzip2@1.0.8%gcc@9.3.0~debug~pic+shared arch=linux-ubuntu20.04-x86_64\r\n[+]              ^diffutils@3.8%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^libiconv@1.16%gcc@9.3.0 libs=shared,static arch=linux-ubuntu20.04-x86_64\r\n[+]          ^zlib@1.2.11%gcc@9.3.0+optimize+pic+shared arch=linux-ubuntu20.04-x86_64\r\n[+]      ^cmake@3.21.4%gcc@9.3.0~doc+ncurses+openssl+ownlibs~qt build_type=Release arch=linux-ubuntu20.04-x86_64\r\n[+]          ^ncurses@6.2%gcc@9.3.0~symlinks+termlib abi=none arch=linux-ubuntu20.04-x86_64\r\n[+]              ^pkgconf@1.8.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]          ^openssl@1.1.1l%gcc@9.3.0~docs certs=system arch=linux-ubuntu20.04-x86_64\r\n[+]              ^perl@5.34.0%gcc@9.3.0+cpanm+shared+threads arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^berkeley-db@18.1.40%gcc@9.3.0+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^gdbm@1.19%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^readline@8.1%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^cuda@11.4.2%gcc@9.3.0~dev arch=linux-ubuntu20.04-x86_64\r\n[+]          ^libxml2@2.9.12%gcc@9.3.0~python arch=linux-ubuntu20.04-x86_64\r\n[+]              ^xz@5.2.5%gcc@9.3.0+pic libs=shared,static arch=linux-ubuntu20.04-x86_64\r\n[+]      ^hwloc@2.5.0%gcc@9.3.0~cairo+cuda~gl~libudev+libxml2~netloc~nvml~opencl+pci~rocm+shared arch=linux-ubuntu20.04-x86_64\r\n[+]          ^libpciaccess@0.16%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^libtool@2.4.6%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^m4@1.4.19%gcc@9.3.0+sigsegv patches=9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573,bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^libsigsegv@2.13%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^util-macros@1.19.3%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^kokkos-nvcc-wrapper@3.2.00%gcc@9.3.0+mpi arch=linux-ubuntu20.04-x86_64\r\n[+]          ^mpich@3.4.2%gcc@9.3.0~argobots+fortran+hwloc+hydra+libxml2+pci+romio~slurm~verbs~wrapperrpath device=ch4 netmod=ofi pmi=pmi arch=linux-ubuntu20.04-x86_64\r\n[+]              ^findutils@4.8.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^libfabric@1.13.1%gcc@9.3.0~debug~kdreg fabrics=rxm,sockets,tcp,udp arch=linux-ubuntu20.04-x86_64\r\n[+]      ^metis@5.1.0%gcc@9.3.0~gdb~int64~real64+shared build_type=Release patches=4991da938c1d3a1d3dea78e49bbebecba00273f98df2a656e38b83d55b281da1,b1225da886605ea558db7ac08dd8054742ea5afe5ed61ad4d0fe7a495b1270d2 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^openblas@0.3.18%gcc@9.3.0~bignuma~consistent_fpcsr~ilp64+locking+pic+shared threads=openmp arch=linux-ubuntu20.04-x86_64\r\n[+]      ^parmetis@4.0.3%gcc@9.3.0~gdb~int64~ipo+shared build_type=RelWithDebInfo patches=4f892531eb0a807eb1b82e683a416d3e35154a455274cf9b162fb02054d11a5b,50ed2081bc939269689789942067c58b3e522c269269a430d5d34c00edbc5870,704b84f7c7444d4372cb59cca6e1209df4ef3b033bc4ee3cf50f369bce972a9d arch=linux-ubuntu20.04-x86_64\r\n[+]      ^superlu-dist@7.1.1%gcc@9.3.0~cuda~int64~ipo~openmp+shared build_type=RelWithDebInfo cuda_arch=none arch=linux-ubuntu20.04-x86_64\r\n```\r\n\r\n```\r\n$> spack install -f ./trilinos.spec.yaml\r\n...\r\n==> Installing trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz\r\n==> No binary for trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz found: installing from source\r\n==> No patches needed for trilinos\r\n==> trilinos: Executing phase: 'cmake'\r\n==> trilinos: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n5 errors found in build log:\r\n     4543    [ 39%] Building CXX object packages/tpetra/core/src/CMakeFiles/tpetra.dir/Tpetra_Details_checkGlobalError.cpp.o\r\n     4544    cd /tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/core/src && /spack/opt/spack/linu\r\n             x-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-afm4u53hnqr6i6vybqoqrbmdl2nircfv/bin/mpic++ -Dtpetra_EXPORTS -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1\r\n             -rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packag\r\n             es/tpetra/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/kokkos_refactor\r\n             -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/core/src -I/tmp/root/spack-stage/s\r\n             pack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/tsqr/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jws\r\n             fdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/tsqr/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/\r\n             spack-src/packages/tpetra/classic/LinAlg -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/cla\r\n             ssic/NodeAPI -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/classic/NodeAPI -I/tm\r\n             p/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/classic/src -I/tmp/root/spack-stage/spa\r\n             ck-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/classic/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jw\r\n             sfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/kokkoscomm/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysv\r\n             rwugjhz/spack-src/packages/teuchos/kokkoscomm/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/\r\n             packages/teuchos/kokkoscompat/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/kokkoscom\r\n             pat/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/parameterlist/src -I/tmp/root/spack\r\n             -stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/parser/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0\r\n             .1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqik\r\n             hysvrwugjhz/spack-src/packages/teuchos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/pa\r\n             ckages/kokkos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/core/src -I/tmp/root/\r\n             spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gc\r\n             c-9.3.0/hwloc-2.5.0-vlpiimcbadx2cg6b5abvuwa5dw63lxe3/include -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/boost-1.77.0-gblyle6eedvodny37n3huz7vxhv\r\n             zxfan/include -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/comm/src -I/tmp/root/spack-st\r\n             age/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/remainder/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0\r\n             .1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/remainder/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu\r\n             7xqikhysvrwugjhz/spack-src/packages/teuchos/numerics/src -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/openblas-0.3.18-xsf3dfivb2jyrdfnh6wc37kqkk6t\r\n             srvm/include -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos-kernels/src -I/tmp/ro\r\n             ot/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src -I/tmp/root/spack-stage/spack-stage-trili\r\n             nos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu\r\n             7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos-kernels/src/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/\r\n             spack-src/packages/kokkos-kernels/src/impl/tpls -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kok\r\n             kos-kernels/src/blas -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/blas/impl -\r\n             I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/sparse -I/tmp/root/spack-stage/sp\r\n             ack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/sparse/impl -I/tmp/root/spack-stage/spack-stage-trilinos-1\r\n             3.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/graph -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqi\r\n             khysvrwugjhz/spack-src/packages/kokkos-kernels/src/graph/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-sr\r\n             c/packages/kokkos-kernels/src/batched -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernel\r\n             s/src/common -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos/algorithms/src -I/tmp\r\n             /root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/algorithms/src -I/tmp/root/spack-stage/spack-stage\r\n             -trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos/containers/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rc\r\n             st3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/containers/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjh\r\n             z/spack-build-rcst3jw/packages/epetra/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/epetra/sr\r\n             c -expt-extended-lambda -arch=sm_70  -O2 -g -DNDEBUG -fPIC -std=c++11 -MD -MT packages/tpetra/core/src/CMakeFiles/tpetra.dir/Tpetra_Details_checkGlobalErro\r\n             r.cpp.o -MF CMakeFiles/tpetra.dir/Tpetra_Details_checkGlobalError.cpp.o.d -o CMakeFiles/tpetra.dir/Tpetra_Details_checkGlobalError.cpp.o -c /tmp/root/spack\r\n             -stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/Tpetra_Details_checkGlobalError.cpp\r\n     4545    [ 39%] Building CXX object packages/tpetra/core/src/CMakeFiles/tpetra.dir/Tpetra_Details_checkPointer.cpp.o\r\n     4546    cd /tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/core/src && /spack/opt/spack/linu\r\n             x-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-afm4u53hnqr6i6vybqoqrbmdl2nircfv/bin/mpic++ -Dtpetra_EXPORTS -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1\r\n             -rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packag\r\n             es/tpetra/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/kokkos_refactor\r\n             -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/core/src -I/tmp/root/spack-stage/s\r\n             pack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/tsqr/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jws\r\n             fdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/tsqr/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/\r\n             spack-src/packages/tpetra/classic/LinAlg -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/cla\r\n             ssic/NodeAPI -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/classic/NodeAPI -I/tm\r\n             p/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/classic/src -I/tmp/root/spack-stage/spa\r\n             ck-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/classic/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jw\r\n             sfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/kokkoscomm/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysv\r\n             rwugjhz/spack-src/packages/teuchos/kokkoscomm/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/\r\n             packages/teuchos/kokkoscompat/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/kokkoscom\r\n             pat/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/parameterlist/src -I/tmp/root/spack\r\n             -stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/parser/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0\r\n             .1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqik\r\n             hysvrwugjhz/spack-src/packages/teuchos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/pa\r\n             ckages/kokkos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/core/src -I/tmp/root/\r\n             spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gc\r\n             c-9.3.0/hwloc-2.5.0-vlpiimcbadx2cg6b5abvuwa5dw63lxe3/include -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/boost-1.77.0-gblyle6eedvodny37n3huz7vxhv\r\n             zxfan/include -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/comm/src -I/tmp/root/spack-st\r\n             age/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/remainder/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0\r\n             .1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/remainder/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu\r\n             7xqikhysvrwugjhz/spack-src/packages/teuchos/numerics/src -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/openblas-0.3.18-xsf3dfivb2jyrdfnh6wc37kqkk6t\r\n             srvm/include -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos-kernels/src -I/tmp/ro\r\n             ot/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src -I/tmp/root/spack-stage/spack-stage-trili\r\n             nos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu\r\n             7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos-kernels/src/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/\r\n             spack-src/packages/kokkos-kernels/src/impl/tpls -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kok\r\n             kos-kernels/src/blas -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/blas/impl -\r\n             I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/sparse -I/tmp/root/spack-stage/sp\r\n             ack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/sparse/impl -I/tmp/root/spack-stage/spack-stage-trilinos-1\r\n             3.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/graph -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqi\r\n             khysvrwugjhz/spack-src/packages/kokkos-kernels/src/graph/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-sr\r\n             c/packages/kokkos-kernels/src/batched -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernel\r\n             s/src/common -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos/algorithms/src -I/tmp\r\n             /root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/algorithms/src -I/tmp/root/spack-stage/spack-stage\r\n             -trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos/containers/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rc\r\n             st3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/containers/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjh\r\n             z/spack-build-rcst3jw/packages/epetra/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/epetra/sr\r\n             c -expt-extended-lambda -arch=sm_70  -O2 -g -DNDEBUG -fPIC -std=c++11 -MD -MT packages/tpetra/core/src/CMakeFiles/tpetra.dir/Tpetra_Details_checkPointer.cp\r\n             p.o -MF CMakeFiles/tpetra.dir/Tpetra_Details_checkPointer.cpp.o.d -o CMakeFiles/tpetra.dir/Tpetra_Details_checkPointer.cpp.o -c /tmp/root/spack-stage/spack\r\n             -stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/Tpetra_Details_checkPointer.cpp\r\n     4547    [ 39%] Building CXX object packages/tpetra/core/src/CMakeFiles/tpetra.dir/Tpetra_Details_extractMpiCommFromTeuchos.cpp.o\r\n     4548    cd /tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/core/src && /spack/opt/spack/linu\r\n             x-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-afm4u53hnqr6i6vybqoqrbmdl2nircfv/bin/mpic++ -Dtpetra_EXPORTS -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1\r\n             -rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packag\r\n             es/tpetra/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/kokkos_refactor\r\n             -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/core/src -I/tmp/root/spack-stage/s\r\n             pack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/tsqr/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jws\r\n             fdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/tsqr/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/\r\n             spack-src/packages/tpetra/classic/LinAlg -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/cla\r\n             ssic/NodeAPI -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/classic/NodeAPI -I/tm\r\n             p/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/tpetra/classic/src -I/tmp/root/spack-stage/spa\r\n             ck-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/classic/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jw\r\n             sfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/kokkoscomm/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysv\r\n             rwugjhz/spack-src/packages/teuchos/kokkoscomm/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/\r\n             packages/teuchos/kokkoscompat/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/kokkoscom\r\n             pat/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/parameterlist/src -I/tmp/root/spack\r\n             -stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/parser/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0\r\n             .1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqik\r\n             hysvrwugjhz/spack-src/packages/teuchos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/pa\r\n             ckages/kokkos/core/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/core/src -I/tmp/root/\r\n             spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gc\r\n             c-9.3.0/hwloc-2.5.0-vlpiimcbadx2cg6b5abvuwa5dw63lxe3/include -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/boost-1.77.0-gblyle6eedvodny37n3huz7vxhv\r\n             zxfan/include -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/comm/src -I/tmp/root/spack-st\r\n             age/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/teuchos/remainder/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0\r\n             .1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/teuchos/remainder/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu\r\n             7xqikhysvrwugjhz/spack-src/packages/teuchos/numerics/src -I/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/openblas-0.3.18-xsf3dfivb2jyrdfnh6wc37kqkk6t\r\n             srvm/include -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos-kernels/src -I/tmp/ro\r\n             ot/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src -I/tmp/root/spack-stage/spack-stage-trili\r\n             nos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu\r\n             7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos-kernels/src/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/\r\n             spack-src/packages/kokkos-kernels/src/impl/tpls -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kok\r\n             kos-kernels/src/blas -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/blas/impl -\r\n             I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/sparse -I/tmp/root/spack-stage/sp\r\n             ack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/sparse/impl -I/tmp/root/spack-stage/spack-stage-trilinos-1\r\n             3.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernels/src/graph -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqi\r\n             khysvrwugjhz/spack-src/packages/kokkos-kernels/src/graph/impl -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-sr\r\n             c/packages/kokkos-kernels/src/batched -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos-kernel\r\n             s/src/common -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos/algorithms/src -I/tmp\r\n             /root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/algorithms/src -I/tmp/root/spack-stage/spack-stage\r\n             -trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw/packages/kokkos/containers/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rc\r\n             st3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/kokkos/containers/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjh\r\n             z/spack-build-rcst3jw/packages/epetra/src -I/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/epetra/sr\r\n             c -expt-extended-lambda -arch=sm_70  -O2 -g -DNDEBUG -fPIC -std=c++11 -MD -MT packages/tpetra/core/src/CMakeFiles/tpetra.dir/Tpetra_Details_extractMpiCommF\r\n             romTeuchos.cpp.o -MF CMakeFiles/tpetra.dir/Tpetra_Details_extractMpiCommFromTeuchos.cpp.o.d -o CMakeFiles/tpetra.dir/Tpetra_Details_extractMpiCommFromTeuch\r\n             os.cpp.o -c /tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/Tpetra_Details_extractMpi\r\n             CommFromTeuchos.cpp\r\n  >> 4549    /tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/Tpetra_Details_checkPointer.cpp(81):\r\n             error: class \"cudaPointerAttributes\" has no member \"memoryType\"\r\n     4550\r\n  >> 4551    /tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/Tpetra_Details_checkPointer.cpp(82):\r\n             error: class \"cudaPointerAttributes\" has no member \"isManaged\"\r\n     4552\r\n  >> 4553    /tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/src/Tpetra_Details_checkPointer.cpp(92):\r\n             error: class \"cudaPointerAttributes\" has no member \"memoryType\"\r\n     4554\r\n     4555    3 errors detected in the compilation of \"/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-src/packages/tpetra/core/\r\n             src/Tpetra_Details_checkPointer.cpp\".\r\n  >> 4556    make[2]: *** [packages/tpetra/core/src/CMakeFiles/tpetra.dir/build.make:317: packages/tpetra/core/src/CMakeFiles/tpetra.dir/Tpetra_Details_checkPointer.cpp\r\n             .o] Error 1\r\n     4557    make[2]: *** Waiting for unfinished jobs....\r\n     4558    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw'\r\n  >> 4559    make[1]: *** [CMakeFiles/Makefile2:6659: packages/tpetra/core/src/CMakeFiles/tpetra.dir/all] Error 2\r\n     4560    make[1]: Leaving directory '/tmp/root/spack-stage/spack-stage-trilinos-13.0.1-rcst3jwsfdia25yu7xqikhysvrwugjhz/spack-build-rcst3jw'\r\n     4561    make: *** [Makefile:169: all] Error 2\r\n```\n\n### Information on your system\n\n* **Spack:** 0.16.3-5205-b3711c0d9d\r\n* **Python:** 3.8.10\r\n* **Platform:** linux-ubuntu20.04-cascadelake\r\n* **Concretizer:** clingo\n\n### Additional information\n\n[spack-build-out.txt](https://github.com/spack/spack/files/7464564/spack-build-out.txt)\r\n[spack-build-env.txt](https://github.com/spack/spack/files/7464565/spack-build-env.txt)\r\n\r\n@keitat @kuberry @sethrj @balay\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "eugeneswalker",
    "url": "https://api.github.com/repos/spack/spack/issues/27180",
    "updated_at": "2021-11-03 18:38:04",
    "created_at": "2021-11-02 23:37:42",
    "closed_at": "2021-11-03 18:38:04",
    "state": "closed",
    "title": "trilinos@13.0.1 +cuda build fails: class \"cudaPointerAttributes\" has no member \"memoryType\"",
    "number": 27180,
    "milestone": null,
    "labels": [
        "build-error",
        "cuda",
        "e4s"
    ],
    "id": 1042940623,
    "html_url": "https://github.com/spack/spack/issues/27180",
    "assignees": [],
    "comments": 4
}