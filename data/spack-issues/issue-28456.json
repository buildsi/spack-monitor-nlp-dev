{
    "body": "### Steps to reproduce the issue\n\n$ spack install openssl %nvhpc@22.1\r\n```\r\n[+] /usr (external perl-5.30.0-kyw3kz7awus2jjvxfqme6mcrpjl2b44u)\r\n[+] /home2/cessenat/Softs/spack/opt/spack/linux-ubuntu20.04-zen2/nvhpc-22.1/zlib-1.2.11-hmmqx7dsvhofubbd5lh7x3frm4ynr3z2\r\n==> Installing openssl-1.1.1m-rmdlem3lfxc4etaieidpjdhut6zxak65\r\n==> No binary for openssl-1.1.1m-rmdlem3lfxc4etaieidpjdhut6zxak65 found: installing from source\r\n==> Using cached archive: /home2/cessenat/Softs/spack/var/spack/cache/_source-cache/archive/f8/f89199be8b23ca45fc7cb9f1d8d3ee67312318286ad030f5316aca6462db6c96.tar.gz\r\n==> Ran patch() for openssl\r\n==> openssl: Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j6'\r\n\r\n3 errors found in build log:\r\n     9381    \"include/openssl/bio.h\", line 759: warning: unrecognized format function type \"__gnu_printf__\" ignored\r\n     9382      ossl_bio__attr__((__format__(ossl_bio__printf__, 3, 0)));\r\n     9383                                   ^\r\n     9384    \r\n     9385    NVC++-F-0000-Internal compiler error. gen_llvm_expr(): unknown opcode       0  (crypto/rsa/rsa_oaep.c: 248)\r\n     9386    NVC++/x86-64 Linux 22.1-0: compilation aborted\r\n  >> 9387    make[1]: *** [Makefile:4823: crypto/rsa/rsa_oaep.o] Error 2\r\n     9388    make[1]: *** Waiting for unfinished jobs....\r\n     9389    NVC++-F-0000-Internal compiler error. gen_llvm_expr(): unknown opcode       0  (crypto/rsa/rsa_pk1.c: 240)\r\n     9390    NVC++/x86-64 Linux 22.1-0: compilation aborted\r\n  >> 9391    make[1]: *** [Makefile:4839: crypto/rsa/rsa_pk1.o] Error 2\r\n     9392    crypto/rsa/rsa_prn.c:\r\n     9393    \"include/openssl/bio.h\", line 753: warning: unrecognized format function type \"__gnu_printf__\" ignored\r\n     9394      ossl_bio__attr__((__format__(ossl_bio__printf__, 2, 3)));\r\n     9395                                   ^\r\n     9396    \r\n     9397    \"include/openssl/bio.h\", line 755: warning: unrecognized format function type \"__gnu_printf__\" ignored\r\n\r\n     ...\r\n\r\n     9412    \r\n     9413    \"include/internal/refcount.h\", line 50: warning: argument of type \"_Atomic(int) *\" is incompatible with parameter of type \"volatile void *\"\r\n     9414          *ret = atomic_fetch_sub_explicit(val, 1, memory_order_relaxed) - 1;\r\n     9415                 ^\r\n     9416    \r\n     9417    make[1]: Leaving directory '/tmp/cessenat/spack-stage/spack-stage-openssl-1.1.1m-rmdlem3lfxc4etaieidpjdhut6zxak65/spack-src'\r\n  >> 9418    make: *** [Makefile:174: all] Error 2\r\n\r\nSee build log for details:\r\n  /tmp/cessenat/spack-stage/spack-stage-openssl-1.1.1m-rmdlem3lfxc4etaieidpjdhut6zxak65/spack-build-out.txt\r\n\r\n```\r\n\n\n### Information on your system\n\n$ spack debug report\r\n* **Spack:** 0.17.0-856-e0f044561e\r\n* **Python:** 3.8.10\r\n* **Platform:** linux-ubuntu20.04-zen2\r\n* **Concretizer:** clingo\r\n\n\n### Additional information\n\n[spack-build-env.txt](https://github.com/spack/spack/files/7883807/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7883808/spack-build-out.txt)\r\n\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "cessenat",
    "url": "https://api.github.com/repos/spack/spack/issues/28456",
    "updated_at": "2022-01-17 17:39:01",
    "created_at": "2022-01-17 17:39:01",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: openssl does not compile using nvhpc",
    "number": 28456,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1106117824,
    "html_url": "https://github.com/spack/spack/issues/28456",
    "assignees": [],
    "comments": 0
}