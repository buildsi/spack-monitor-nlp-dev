{
    "body": "@tgamblin @BarrySmith \r\n\r\nI am trying to install xSDK on edison using the amklinv/xsdk-tpetra-fix branch.  The installation goes fine until it gets to PETSc, at which point it produces the error message \r\n\r\n```\r\n      CLINKER /tmp/amklinv/spack-stage/spack-stage-WPM2JX/petsc/arch-linux2-c-opt/lib/libpetsc.so.3.07.5\r\n/usr/bin/ld: /global/u1/a/amklinv/edison/spack/opt/spack/cray-CNL-ivybridge/gcc-6.1.0/trilinos-xsdk-0.2.0-kyct3xwwu6gnmehtbshvsgledvdnunko/lib/libchaco.a(int\r\nerface.c.o): relocation R_X86_64_32 against `.rodata.str1.1' can not be used when making a shared object; recompile with -fPIC\r\n/global/u1/a/amklinv/edison/spack/opt/spack/cray-CNL-ivybridge/gcc-6.1.0/trilinos-xsdk-0.2.0-kyct3xwwu6gnmehtbshvsgledvdnunko/lib/libchaco.a: could not read\r\nsymbols: Bad value\r\ncollect2: error: ld returned 1 exit status\r\ngmake[2]: *** [/tmp/amklinv/spack-stage/spack-stage-WPM2JX/petsc/arch-linux2-c-opt/lib/libpetsc.so.3.07.5] Error 1\r\ngmake[2]: Leaving directory `/tmp/amklinv/spack-stage/spack-stage-WPM2JX/petsc'\r\ngmake[1]: *** [gnumake] Error 2\r\ngmake[1]: Leaving directory `/tmp/amklinv/spack-stage/spack-stage-WPM2JX/petsc'\r\n**************************ERROR*************************************\r\n  Error during compile, check arch-linux2-c-opt/lib/petsc/conf/make.log\r\n  Send it and arch-linux2-c-opt/lib/petsc/conf/configure.log to petsc-maint@mcs.anl.gov\r\n********************************************************************\r\nmake: *** [all] Error 1\r\n```\r\n\r\nModules:\r\n```\r\nCurrently Loaded Modulefiles:\r\n  1) modules/3.2.10.4                      12) dmapp/7.0.1-1.0502.10246.8.47.ari     23) slurm/edison\r\n  2) nsg/1.2.0                             13) gni-headers/4.0-1.0502.10317.9.2.ari  24) altd/2.0\r\n  3) eswrap/1.3.3-1.020200.1278.0          14) xpmem/0.1-2.0502.57015.1.15.ari       25) darshan/2.3.1\r\n  4) switch/1.0-1.0502.57058.1.58.ari      15) dvs/2.5_0.9.0-1.0502.1958.2.55.ari    26) python_base/2.7.9\r\n  5) craype-network-aries                  16) alps/5.2.3-2.0502.9295.14.14.ari      27) numpy/1.9.2\r\n  6) craype/2.5.5                          17) rca/1.0.0-2.0502.57212.2.56.ari       28) scipy/0.15.1\r\n  7) intel/17.0.1.132                      18) atp/2.0.2                             29) matplotlib/1.4.3\r\n  8) cray-libsci/16.07.1                   19) PrgEnv-intel/5.2.56                   30) ipython/3.1.0\r\n  9) udreg/2.3.2-1.0502.9889.2.20.ari      20) craype-ivybridge                      31) python/2.7.9\r\n 10) ugni/6.0-1.0502.10245.9.9.ari         21) cray-shmem/7.4.1\r\n 11) pmi/5.0.10-1.0000.11050.0.0.ari       22) cray-mpich/7.4.1\r\n```\r\n\r\ncompilers.yaml:\r\n```\r\ncompilers:\r\n- compiler:\r\n    environment: {}\r\n    extra_rpaths: []\r\n    flags: {}\r\n    modules:\r\n    - PrgEnv-gnu\r\n    - gcc/6.1.0\r\n    operating_system: CNL\r\n    paths:\r\n      cc: /opt/cray/craype/2.5.5/bin/cc\r\n      cxx: /opt/cray/craype/2.5.5/bin/CC\r\n      f77: /opt/cray/craype/2.5.5/bin/ftn\r\n      fc: /opt/cray/craype/2.5.5/bin/ftn\r\n    spec: gcc@6.1.0\r\n```\r\n\r\npackages.yaml:\r\n```\r\npackages:\r\n  mpich:\r\n    modules:\r\n      mpich@7.4.1%gcc@6.1.0 arch=cray-CNL-ivybridge : cray-mpich/7.4.1\r\n    buildable: False\r\n  hdf5:\r\n    modules:\r\n      hdf5@1.8.12%gcc@6.1.0 arch=cray-CNL-ivybridge : cray-hdf5-parallel/1.8.12\r\n    buildable: False\r\n  netcdf:\r\n    modules:\r\n       netcdf@4.3.1%gcc@6.1.0 arch=cray-CNL-ivybridge : cray-netcdf-hdf5parallel/4.3.1\r\n    buildable: False\r\n  zlib:\r\n    modules:\r\n      zlib@1.2.7%gcc@6.1.0 arch=cray-CNL-ivybridge : zlib/1.2.7\r\n    buildable: False\r\n  boost:\r\n    modules:\r\n      boost@1.54%gcc@6.1.0 arch=cray-CNL-ivybridge : boost/1.54\r\n    buildable: False\r\n  cmake:\r\n    modules:\r\n      cmake@2.8.12.2%gcc@6.1.0 arch=cray-CNL-ivybridge : cmake/2.8.12.2\r\n    buildable: False\r\n  python:\r\n    paths:\r\n      python@2.7.9%gcc@6.1.0 arch=cray-CNL-ivybridge : /usr/common/software/python/2.7.9\r\n    buildable: False\r\n  all:\r\n    providers:\r\n      mpi: [mpich]\r\n```\r\n\r\nAny idea what this is about?  I'd be happy to provide any additional information you require.",
    "user": "amklinv",
    "url": "https://api.github.com/repos/spack/spack/issues/4502",
    "updated_at": "2017-06-14 17:43:11",
    "created_at": "2017-06-14 15:00:59",
    "closed_at": "2017-06-14 15:37:21",
    "state": "closed",
    "title": "spack suddenly unable to build xSDK on NERSC edison",
    "number": 4502,
    "milestone": null,
    "labels": [
        "xSDK"
    ],
    "id": 235910014,
    "html_url": "https://github.com/spack/spack/issues/4502",
    "assignees": [],
    "comments": 6
}