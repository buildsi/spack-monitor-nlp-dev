{
    "body": "I'm trying to build an environment that includes a dependency on `mvapich2@2.3.5` that fails to build due to `rdma-core` reportedly `missing: PYTHON_LIBRARIES PYTHON_INCLUDE_DIRS`.  \r\n\r\n### Steps to reproduce the issue\r\n\r\nI can reproduce the problem using the concretized spec output shown below.  The same error is reported when I try to install `rdma-core@33.1` with the same constraints.\r\n\r\n```console\r\n$ spack install rdma-core@34.0%gcc@8.3.1~ipo build_type=RelWithDebInfo arch=linux-rhel7-broadwell\r\n...\r\n==> Installing rdma-core-33.1-nezmakccs2uze4u6xbonf6d5ya3ipfcd\r\n==> No binary for rdma-core-33.1-nezmakccs2uze4u6xbonf6d5ya3ipfcd found: installing from source\r\n==> Warning: Missing a source id for flex@2.5.37\r\n==> Warning: Missing a source id for m4@1.4.16\r\n==> Warning: Missing a source id for pkg-config@0.27.1\r\n==> Fetching https://spack-llnl-mirror.s3-us-west-2.amazonaws.com/_source-cache/archive/d1/d179b102bec551ce62265ed463d1095fb2ae9baff604261ad63327fcd20650e5.tar.gz\r\n######################################################################## 100.0%\r\n==> No patches needed for rdma-core\r\n==> rdma-core: Executing phase: 'cmake'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    'cmake' '-G' 'Unix Makefiles' '-DCMAKE_INSTALL_PREFIX:STRING=$SPACK_ROOT/opt/spack/linux-rhel7-broadwell/gcc-8.3.1/rdma-core-33.1-nezmakccs2uze4u6xbonf6d5ya3ipfcd' '-DCMAKE_BUILD_TYPE:STRING=RelWithDebInfo' '-DCMAKE_INTERPROCEDURAL_OPTIMIZATION:BOOL=OFF' '-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON' '-DCMAKE_INSTALL_RPATH_USE_LINK_PATH:BOOL=OFF' '-DCMAKE_INSTALL_RPATH:STRING=$SPACK_ROOT/opt/spack/linux-rhel7-broadwell/gcc-8.3.1/rdma-core-33.1-nezmakccs2uze4u6xbonf6d5ya3ipfcd/lib;$SPACK_ROOT/opt/spack/linux-rhel7-broadwell/gcc-8.3.1/rdma-core-33.1-nezmakccs2uze4u6xbonf6d5ya3ipfcd/lib64;$SPACK_ROOT/opt/spack/linux-rhel7-broadwell/gcc-8.3.1/libnl-3.3.0-cbtknyw7adogpeaajchy2wli2h3ygqbt/lib' '-DCMAKE_PREFIX_PATH:STRING=/usr/tce;$SPACK_ROOT/opt/spack/linux-rhel7-broadwell/gcc-8.3.1/py-docutils-0.15.2-u6qexghiferbmlnilc4xf4ywb2l5uiea;$SPACK_ROOT/opt/spack/linux-rhel7-broadwell/gcc-8.3.1/libnl-3.3.0-cbtknyw7adogpeaajchy2wli2h3ygqbt' '-DCMAKE_INSTALL_SYSCONFDIR=$SPACK_ROOT/opt/spack/linux-rhel7-broadwell/gcc-8.3.1/rdma-core-33.1-nezmakccs2uze4u6xbonf6d5ya3ipfcd/etc' '-DCMAKE_INSTALL_RUNDIR=/var/run' '/var/tmp/dahlgren/spack-stage/spack-stage-rdma-core-33.1-nezmakccs2uze4u6xbonf6d5ya3ipfcd/spack-src'\r\n\r\n1 error found in build log:\r\n     60    -- Performing Test SUPPORTS_AS_NEEDED - Success\r\n     61    -- Performing Test SUPPORTS_NO_UNDEFINED\r\n     62    -- Performing Test SUPPORTS_NO_UNDEFINED - Success\r\n     63    -- Performing Test _LDSYMVER_SUCCESS\r\n     64    -- Performing Test _LDSYMVER_SUCCESS - Success\r\n     65    -- Found LDSymVer: GNU\r\n  >> 66    CMake Error at /usr/tce/packages/cmake/cmake-3.14.5/share/cmake/Modu\r\n           les/FindPackageHandleStandardArgs.cmake:137 (message):\r\n     67      Could NOT find PythonLibs (missing: PYTHON_LIBRARIES PYTHON_INCLUD\r\n           E_DIRS)\r\n     68      (Required is exact version \"3.7\")\r\n     69    Call Stack (most recent call first):\r\n     70      /usr/tce/packages/cmake/cmake-3.14.5/share/cmake/Modules/FindPacka\r\n           geHandleStandardArgs.cmake:378 (_FPHSA_FAILURE_MESSAGE)\r\n     71      /usr/tce/packages/cmake/cmake-3.14.5/share/cmake/Modules/FindPytho\r\n           nLibs.cmake:310 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)\r\n     72      CMakeLists.txt:430 (FIND_PACKAGE)\r\n\r\nSee build log for details:\r\n  /var/tmp/dahlgren/spack-stage/spack-stage-rdma-core-33.1-nezmakccs2uze4u6xbonf6d5ya3ipfcd/spack-build-out.txt\r\n...\r\n```\r\n\r\n### Information on your system\r\n\r\n* **Spack:** 0.16.1-2148-e21e26094e\r\n* **Python:** 3.7.2\r\n* **Platform:** linux-rhel7-broadwell\r\n* **Concretizer:** original\r\n\r\n\r\n### General information\r\n\r\n- [x] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [x] I have run `spack maintainers <name-of-the-package>` and @mentioned any maintainers  (NONE)\r\n- [ ] I have uploaded the build log and environment files\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n",
    "user": "tldahlgren",
    "url": "https://api.github.com/repos/spack/spack/issues/22890",
    "updated_at": "2021-04-13 21:48:20",
    "created_at": "2021-04-09 01:02:03",
    "closed_at": "2021-04-13 21:48:20",
    "state": "closed",
    "title": "Installation issue: rdma-core: cannot find PythonLibs",
    "number": 22890,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 854057270,
    "html_url": "https://github.com/spack/spack/issues/22890",
    "assignees": [
        "tldahlgren"
    ],
    "comments": 0
}