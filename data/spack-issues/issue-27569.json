{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack external find python\r\n$ spack install --reuse py-tomli\r\n```\n\n### Information on your system\n\n* **Spack:** 0.17.0-2-833dafbbe0\r\n* **Python:** 3.10.0\r\n* **Platform:** linux-fedora35-skylake\r\n* **Concretizer:** clingo\r\n\r\n```console\r\n[runderwood@voyager ~]$ python --version\r\nPython 3.10.0\r\n[runderwood@voyager ~]$ pip --version\r\npip 21.2.3 from /usr/lib/python3.10/site-packages/pip (python 3.10)\r\n\r\n```\n\n### Additional information\n\nspack-build-out.txt\r\n\r\n```txt\r\n==> py-tomli: Executing phase: 'install'\r\n==> [2021-11-20-06:59:51.268281] '/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-pip-21.1.2-aeyart66czf33oy3idbdedod5wrorpoq/bin/pip' 'install' '/tmp/runderwood/spack-stage/spack-stage-py-tomli-1.2.1-vtwig2q7qiw4f4uimbcvpqnuhwegcwpq/spack-src/tomli-1.2.1-py3-none-any.whl' '--prefix=/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-tomli-1.2.1-vtwig2q7qiw4f4uimbcvpqnuhwegcwpq'\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 583, in _build_master\r\n    ws.require(__requires__)\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 900, in require\r\n    needed = self.resolve(parse_requirements(requirements))\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 791, in resolve\r\n    raise VersionConflict(dist, req).with_context(dependent_req)\r\npip._vendor.pkg_resources.VersionConflict: (pip 21.2.3 (/usr/lib/python3.10/site-packages), Requirement.parse('pip==21.1.2'))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-pip-21.1.2-aeyart66czf33oy3idbdedod5wrorpoq/bin/pip\", line 33, in <module>\r\n    sys.exit(load_entry_point('pip==21.1.2', 'console_scripts', 'pip')())\r\n  File \"/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-pip-21.1.2-aeyart66czf33oy3idbdedod5wrorpoq/bin/pip\", line 25, in importlib_load_entry_point\r\n    return next(matches).load()\r\n  File \"/usr/lib64/python3.10/importlib/metadata/__init__.py\", line 162, in load\r\n    module = import_module(match.group('module'))\r\n  File \"/usr/lib64/python3.10/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1050, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1027, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 688, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 883, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 241, in _call_with_frames_removed\r\n  File \"/usr/lib/python3.10/site-packages/pip/_internal/cli/main.py\", line 9, in <module>\r\n    from pip._internal.cli.autocompletion import autocomplete\r\n  File \"/usr/lib/python3.10/site-packages/pip/_internal/cli/autocompletion.py\", line 10, in <module>\r\n    from pip._internal.cli.main_parser import create_main_parser\r\n  File \"/usr/lib/python3.10/site-packages/pip/_internal/cli/main_parser.py\", line 8, in <module>\r\n    from pip._internal.cli import cmdoptions\r\n  File \"/usr/lib/python3.10/site-packages/pip/_internal/cli/cmdoptions.py\", line 23, in <module>\r\n    from pip._internal.cli.parser import ConfigOptionParser\r\n  File \"/usr/lib/python3.10/site-packages/pip/_internal/cli/parser.py\", line 12, in <module>\r\n    from pip._internal.configuration import Configuration, ConfigurationError\r\n  File \"/usr/lib/python3.10/site-packages/pip/_internal/configuration.py\", line 21, in <module>\r\n    from pip._internal.exceptions import (\r\n  File \"/usr/lib/python3.10/site-packages/pip/_internal/exceptions.py\", line 7, in <module>\r\n    from pip._vendor.pkg_resources import Distribution\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 3252, in <module>\r\n    def _initialize_master_working_set():\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 3235, in _call_aside\r\n    f(*args, **kwargs)\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 3264, in _initialize_master_working_set\r\n    working_set = WorkingSet._build_master()\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 585, in _build_master\r\n    return cls._build_from_requirements(__requires__)\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 598, in _build_from_requirements\r\n    dists = ws.resolve(reqs, Environment())\r\n  File \"/usr/lib/python3.10/site-packages/pip/_vendor/pkg_resources/__init__.py\", line 786, in resolve\r\n    raise DistributionNotFound(req, requirers)\r\npip._vendor.pkg_resources.DistributionNotFound: The 'pip==21.1.2' distribution was not found and is required by the application\r\n```\r\n\r\nspack-build-env.txt\r\n\r\n```\r\nBASH_ENV=/usr/share/lmod/lmod/init/bash; export BASH_ENV\r\nfunction BASH_FUNC__spack_shell_wrapper%%() {  for var in LD_LIBRARY_PATH DYLD_LIBRARY_PATH DYLD_FALLBACK_LIBRARY_PATH;\r\n do\r\n eval \"if [ -n \\\"\\${${var}-}\\\" ]; then export SPACK_$var=\\${${var}}; fi\";\r\n done;\r\n if [ -n \"${ZSH_VERSION:-}\" ]; then\r\n emulate -L sh;\r\n fi;\r\n _sp_flags=\"\";\r\n while [ ! -z ${1+x} ] && [ \"${1#-}\" != \"${1}\" ]; do\r\n _sp_flags=\"$_sp_flags $1\";\r\n shift;\r\n done;\r\n if [ -n \"$_sp_flags\" ] && [ \"${_sp_flags#*h}\" != \"${_sp_flags}\" ] || [ \"${_sp_flags#*V}\" != \"${_sp_flags}\" ]; then\r\n command spack $_sp_flags \"$@\";\r\n return;\r\n fi;\r\n _sp_subcommand=\"\";\r\n if [ ! -z ${1+x} ]; then\r\n _sp_subcommand=\"$1\";\r\n shift;\r\n fi;\r\n case $_sp_subcommand in \r\n \"cd\")\r\n _sp_arg=\"\";\r\n if [ -n \"$1\" ]; then\r\n _sp_arg=\"$1\";\r\n shift;\r\n fi;\r\n if [ \"$_sp_arg\" = \"-h\" ] || [ \"$_sp_arg\" = \"--help\" ]; then\r\n command spack cd -h;\r\n else\r\n LOC=\"$(spack location $_sp_arg \"$@\")\";\r\n if [ -d \"$LOC\" ]; then\r\n cd \"$LOC\";\r\n else\r\n return 1;\r\n fi;\r\n fi;\r\n return\r\n ;;\r\n \"env\")\r\n _sp_arg=\"\";\r\n if [ -n \"$1\" ]; then\r\n _sp_arg=\"$1\";\r\n shift;\r\n fi;\r\n if [ \"$_sp_arg\" = \"-h\" ] || [ \"$_sp_arg\" = \"--help\" ]; then\r\n command spack env -h;\r\n else\r\n case $_sp_arg in \r\n activate)\r\n _a=\" $@\";\r\n if [ -z ${1+x} ] || [ \"${_a#* --sh}\" != \"$_a\" ] || [ \"${_a#* --csh}\" != \"$_a\" ] || [ \"${_a#* -h}\" != \"$_a\" ] || [ \"${_a#* --help}\" != \"$_a\" ]; then\r\n command spack env activate \"$@\";\r\n else\r\n stdout=\"$(command spack $_sp_flags env activate --sh \"$@\")\" || return;\r\n eval \"$stdout\";\r\n fi\r\n ;;\r\n deactivate)\r\n _a=\" $@\";\r\n if [ \"${_a#* --sh}\" != \"$_a\" ] || [ \"${_a#* --csh}\" != \"$_a\" ]; then\r\n command spack env deactivate \"$@\";\r\n else\r\n if [ -n \"$*\" ]; then\r\n command spack env deactivate -h;\r\n else\r\n stdout=\"$(command spack $_sp_flags env deactivate --sh)\" || return;\r\n eval \"$stdout\";\r\n fi;\r\n fi\r\n ;;\r\n *)\r\n command spack env $_sp_arg \"$@\"\r\n ;;\r\n esac;\r\n fi;\r\n return\r\n ;;\r\n \"load\" | \"unload\")\r\n _a=\" $@\";\r\n if [ \"${_a#* --sh}\" != \"$_a\" ] || [ \"${_a#* --csh}\" != \"$_a\" ] || [ \"${_a#* -h}\" != \"$_a\" ] || [ \"${_a#* --list}\" != \"$_a\" ] || [ \"${_a#* --help}\" != \"$_a\" ]; then\r\n command spack $_sp_flags $_sp_subcommand \"$@\";\r\n else\r\n stdout=\"$(command spack $_sp_flags $_sp_subcommand --sh \"$@\")\" || return;\r\n eval \"$stdout\";\r\n fi\r\n ;;\r\n *)\r\n command spack $_sp_flags $_sp_subcommand \"$@\"\r\n ;;\r\n esac\r\n}; export -f BASH_FUNC__spack_shell_wrapper%%\r\nfunction BASH_FUNC_ml%%() {  eval $($LMOD_DIR/ml_cmd \"$@\")\r\n}; export -f BASH_FUNC_ml%%\r\nfunction BASH_FUNC_module%%() {  eval $($LMOD_CMD bash \"$@\") && eval $(${LMOD_SETTARG_CMD:-:} -s sh)\r\n}; export -f BASH_FUNC_module%%\r\nfunction BASH_FUNC_spack%%() {  : this is a shell function from: /home/runderwood/git/contrib/spack/share/spack/setup-env.sh;\r\n : the real spack script is here: /home/runderwood/git/contrib/spack/bin/spack;\r\n _spack_shell_wrapper \"$@\";\r\n return $?\r\n}; export -f BASH_FUNC_spack%%\r\nfunction BASH_FUNC_which%%() {  ( alias;\r\n eval ${which_declare} ) | /usr/bin/which --tty-only --read-alias --read-functions --show-tilde --show-dot \"$@\"\r\n}; export -f BASH_FUNC_which%%\r\nBAT_THEME='Solarized (light)'; export BAT_THEME\r\nCC=/home/runderwood/git/contrib/spack/lib/spack/env/gcc/gcc; export CC\r\nCMAKE_PREFIX_PATH=/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-pip-21.1.2-aeyart66czf33oy3idbdedod5wrorpoq; export CMAKE_PREFIX_PATH\r\nCOLORFGBG='0;15'; export COLORFGBG\r\nCOLORTERM=truecolor; export COLORTERM\r\nCTEST_PARALLEL_LEVEL=12; export CTEST_PARALLEL_LEVEL\r\nCXX=/home/runderwood/git/contrib/spack/lib/spack/env/gcc/g++; export CXX\r\nDBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1000/bus; export DBUS_SESSION_BUS_ADDRESS\r\nDEBUGINFOD_URLS='https://debuginfod.fedoraproject.org/ https://debuginfod.fedoraproject.org/'; export DEBUGINFOD_URLS\r\nDESKTOP_SESSION=/usr/share/xsessions/plasmax11; export DESKTOP_SESSION\r\nDISPLAY=:0; export DISPLAY\r\nEDITOR=nvim; export EDITOR\r\nF77=/home/runderwood/git/contrib/spack/lib/spack/env/gcc/gfortran; export F77\r\nFC=/home/runderwood/git/contrib/spack/lib/spack/env/gcc/gfortran; export FC\r\nGDK_CORE_DEVICE_EVENTS=1; export GDK_CORE_DEVICE_EVENTS\r\nGTK2_RC_FILES=/home/runderwood/.gtkrc-2.0-kde4; export GTK2_RC_FILES\r\nGTK_IM_MODULE=gtk-im-context-simple; export GTK_IM_MODULE\r\nHISTCONTROL=ignoredups; export HISTCONTROL\r\nHISTSIZE=1000; export HISTSIZE\r\nHOME=/home/runderwood; export HOME\r\nHOSTNAME=voyager; export HOSTNAME\r\nIMSETTINGS_INTEGRATE_DESKTOP=yes; export IMSETTINGS_INTEGRATE_DESKTOP\r\nIMSETTINGS_MODULE=none; export IMSETTINGS_MODULE\r\nINVOCATION_ID=cb781289fbe04f2a8194fc011faad0c3; export INVOCATION_ID\r\nJOURNAL_STREAM=8:30375; export JOURNAL_STREAM\r\nKDEDIRS=/usr; export KDEDIRS\r\nKDE_APPLICATIONS_AS_SCOPE=1; export KDE_APPLICATIONS_AS_SCOPE\r\nKDE_FULL_SESSION=true; export KDE_FULL_SESSION\r\nKDE_SESSION_UID=1000; export KDE_SESSION_UID\r\nKDE_SESSION_VERSION=5; export KDE_SESSION_VERSION\r\nKONSOLE_DBUS_SERVICE=:1.77; export KONSOLE_DBUS_SERVICE\r\nKONSOLE_DBUS_SESSION=/Sessions/1; export KONSOLE_DBUS_SESSION\r\nKONSOLE_DBUS_WINDOW=/Windows/1; export KONSOLE_DBUS_WINDOW\r\nKONSOLE_VERSION=210803; export KONSOLE_VERSION\r\nLAMMPS_POTENTIALS=/usr/share/lammps/potentials; export LAMMPS_POTENTIALS\r\nLANG=en_US.UTF-8; export LANG\r\nLANGUAGE=''; export LANGUAGE\r\nLC_ALL=C; export LC_ALL\r\nLDCXXSHARED='/home/runderwood/git/contrib/spack/lib/spack/env/gcc/g++ -shared'; export LDCXXSHARED\r\nLDSHARED='/home/runderwood/git/contrib/spack/lib/spack/env/gcc/gcc -shared -Wl,-z,relro -Wl,--as-needed  -Wl,-z,now    -g  -Wl,-z,relro -Wl,--as-needed  -Wl,-z,now    -g'; export LDSHARED\r\nLESSOPEN='||/usr/bin/lesspipe.sh %s'; export LESSOPEN\r\nLMOD_CMD=/usr/share/lmod/lmod/libexec/lmod; export LMOD_CMD\r\nLMOD_DIR=/usr/share/lmod/lmod/libexec; export LMOD_DIR\r\nLMOD_PKG=/usr/share/lmod/lmod; export LMOD_PKG\r\nLMOD_ROOT=/usr/share/lmod; export LMOD_ROOT\r\nLMOD_SETTARG_FULL_SUPPORT=no; export LMOD_SETTARG_FULL_SUPPORT\r\nLMOD_VERSION=8.4.30; export LMOD_VERSION\r\nLMOD_sys=Linux; export LMOD_sys\r\nLOGNAME=runderwood; export LOGNAME\r\nLS_COLORS='rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.m4a=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.oga=01;36:*.opus=01;36:*.spx=01;36:*.xspf=01;36:'; export LS_COLORS\r\nMAIL=/var/spool/mail/runderwood; export MAIL\r\nMANAGERPID=1295; export MANAGERPID\r\nMANPATH=/usr/share/man/openmpi-x86_64:/usr/share/man/openmpi-x86_64:/usr/share/lmod/lmod/share/man:; export MANPATH\r\nMODULEPATH=/home/runderwood/git/contrib/spack/share/spack/modules/linux-fedora35-skylake:/etc/modulefiles:/usr/share/modulefiles:/usr/share/modulefiles/Linux:/usr/share/modulefiles/Core:/usr/share/lmod/lmod/modulefiles/Core; export MODULEPATH\r\nMODULEPATH_ROOT=/usr/share/modulefiles; export MODULEPATH_ROOT\r\nMODULESHOME=/usr/share/lmod/lmod; export MODULESHOME\r\nMOZ_GMP_PATH=/usr/lib64/mozilla/plugins/gmp-gmpopenh264/system-installed; export MOZ_GMP_PATH\r\nMSI2LMP_LIBRARY=/usr/share/lammps/frc_files; export MSI2LMP_LIBRARY\r\nM_PYTHON_SITELIB=/home/runderwood/.local/lib/python3.10/site-packages; export M_PYTHON_SITELIB\r\n#OLDPWD=/home/runderwood/git/contrib/spack; export OLDPWD\r\nPAM_KWALLET5_LOGIN=/run/user/1000/kwallet5.socket; export PAM_KWALLET5_LOGIN\r\nPATH=/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-pip-21.1.2-aeyart66czf33oy3idbdedod5wrorpoq/bin:/home/runderwood/git/contrib/spack/lib/spack/env/gcc:/home/runderwood/git/contrib/spack/lib/spack/env/case-insensitive:/home/runderwood/git/contrib/spack/lib/spack/env:/home/runderwood/git/contrib/spack/bin:/usr/local/cuda/bin:/usr/lib64/openmpi/bin:/home/runderwood/.cargo/bin:/home/runderwood/.local/bin:/home/runderwood/bin:/usr/lib64/ccache:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/home/runderwood/.fzf/bin; export PATH\r\nPKG_CONFIG_PATH=/home/runderwood/.local/share/pkgconfig/; export PKG_CONFIG_PATH\r\nPROFILEHOME=''; export PROFILEHOME\r\n#PWD=/home/runderwood; export PWD\r\nPYTHONHOME=/usr; export PYTHONHOME\r\nPYTHONPATH=/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-setuptools-58.2.0-f6pxnlab6pt4jyjf4gpcqnuxqt5elrrs/lib64/python3.10/site-packages:/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-pip-21.1.2-aeyart66czf33oy3idbdedod5wrorpoq/lib64/python3.10/site-packages:/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-tomli-1.2.1-vtwig2q7qiw4f4uimbcvpqnuhwegcwpq/lib64/python3.10/site-packages:/usr/lib64/python3.10/site-packages/openmpi:; export PYTHONPATH\r\nQT_AUTO_SCREEN_SCALE_FACTOR=0; export QT_AUTO_SCREEN_SCALE_FACTOR\r\nQT_IM_MODULE=xim; export QT_IM_MODULE\r\nSHELL=/bin/bash; export SHELL\r\nSHELL_SESSION_ID=3f6ff882b5fd4d9d8ce93b785e911684; export SHELL_SESSION_ID\r\nSHLVL=1; export SHLVL\r\nSPACK_CC=/usr/bin/gcc; export SPACK_CC\r\nSPACK_CC_RPATH_ARG=-Wl,-rpath,; export SPACK_CC_RPATH_ARG\r\nSPACK_COMPILER_SPEC=gcc@11.2.1; export SPACK_COMPILER_SPEC\r\nSPACK_CXX=/usr/bin/g++; export SPACK_CXX\r\nSPACK_CXX_RPATH_ARG=-Wl,-rpath,; export SPACK_CXX_RPATH_ARG\r\nSPACK_DEBUG_LOG_DIR=/home/runderwood; export SPACK_DEBUG_LOG_DIR\r\nSPACK_DEBUG_LOG_ID=py-tomli-vtwig2q; export SPACK_DEBUG_LOG_ID\r\nSPACK_DTAGS_TO_ADD=--disable-new-dtags; export SPACK_DTAGS_TO_ADD\r\nSPACK_DTAGS_TO_STRIP=--enable-new-dtags; export SPACK_DTAGS_TO_STRIP\r\nSPACK_ENV_PATH=/home/runderwood/git/contrib/spack/lib/spack/env:/home/runderwood/git/contrib/spack/lib/spack/env/case-insensitive:/home/runderwood/git/contrib/spack/lib/spack/env/gcc; export SPACK_ENV_PATH\r\nSPACK_F77=/usr/bin/gfortran; export SPACK_F77\r\nSPACK_F77_RPATH_ARG=-Wl,-rpath,; export SPACK_F77_RPATH_ARG\r\nSPACK_FC=/usr/bin/gfortran; export SPACK_FC\r\nSPACK_FC_RPATH_ARG=-Wl,-rpath,; export SPACK_FC_RPATH_ARG\r\nSPACK_INCLUDE_DIRS=''; export SPACK_INCLUDE_DIRS\r\nSPACK_LD_LIBRARY_PATH=/home/runderwood/.local/lib64/:/home/runderwood/.local/lib/:; export SPACK_LD_LIBRARY_PATH\r\nSPACK_LINKER_ARG=-Wl,; export SPACK_LINKER_ARG\r\nSPACK_LINK_DIRS=''; export SPACK_LINK_DIRS\r\nSPACK_PYTHON=/usr/bin/python3; export SPACK_PYTHON\r\nSPACK_ROOT=/home/runderwood/git/contrib/spack; export SPACK_ROOT\r\nSPACK_RPATH_DIRS=/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-tomli-1.2.1-vtwig2q7qiw4f4uimbcvpqnuhwegcwpq/lib:/home/runderwood/git/contrib/spack/opt/spack/linux-fedora35-skylake/gcc-11.2.1/py-tomli-1.2.1-vtwig2q7qiw4f4uimbcvpqnuhwegcwpq/lib64; export SPACK_RPATH_DIRS\r\nSPACK_SHORT_SPEC='py-tomli@1.2.1%gcc@11.2.1 arch=linux-fedora35-skylake/vtwig2q'; export SPACK_SHORT_SPEC\r\nSPACK_SYSTEM_DIRS=/bin:/usr/bin:/usr/local/bin:/bin64:/usr/bin64:/usr/local/bin64:/include:/usr/include:/usr/local/include:/lib:/usr/lib:/usr/local/lib:/lib64:/usr/lib64:/usr/local/lib64:/:/usr:/usr/local; export SPACK_SYSTEM_DIRS\r\nSPACK_TARGET_ARGS='-march=skylake -mtune=skylake'; export SPACK_TARGET_ARGS\r\nSSH_AGENT_PID=1459; export SSH_AGENT_PID\r\nSSH_ASKPASS=/usr/bin/ksshaskpass; export SSH_ASKPASS\r\nSSH_AUTH_SOCK=/tmp/ssh-XXXXXXhqkcRH/agent.1314; export SSH_AUTH_SOCK\r\nSYSTEMD_EXEC_PID=1537; export SYSTEMD_EXEC_PID\r\nTERM=xterm-256color; export TERM\r\nUSER=runderwood; export USER\r\nWINDOWID=85983239; export WINDOWID\r\nXAUTHORITY=/run/user/1000/xauth_PTFTYl; export XAUTHORITY\r\nXCURSOR_SIZE=24; export XCURSOR_SIZE\r\nXCURSOR_THEME=breeze_cursors; export XCURSOR_THEME\r\nXDG_CONFIG_DIRS=/home/runderwood/.config/kdedefaults:/etc/xdg:/usr/share/kde-settings/kde-profile/default/xdg; export XDG_CONFIG_DIRS\r\nXDG_CURRENT_DESKTOP=KDE; export XDG_CURRENT_DESKTOP\r\nXDG_DATA_DIRS=/home/runderwood/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share; export XDG_DATA_DIRS\r\nXDG_MENU_PREFIX=kf5-; export XDG_MENU_PREFIX\r\nXDG_RUNTIME_DIR=/run/user/1000; export XDG_RUNTIME_DIR\r\nXDG_SEAT=seat0; export XDG_SEAT\r\nXDG_SEAT_PATH=/org/freedesktop/DisplayManager/Seat0; export XDG_SEAT_PATH\r\nXDG_SESSION_CLASS=user; export XDG_SESSION_CLASS\r\nXDG_SESSION_DESKTOP=KDE; export XDG_SESSION_DESKTOP\r\nXDG_SESSION_ID=2; export XDG_SESSION_ID\r\nXDG_SESSION_PATH=/org/freedesktop/DisplayManager/Session1; export XDG_SESSION_PATH\r\nXDG_SESSION_TYPE=x11; export XDG_SESSION_TYPE\r\nXDG_VTNR=2; export XDG_VTNR\r\nXMODIFIERS=@im=none; export XMODIFIERS\r\nwhich_declare='declare -f'; export which_declare\r\n```\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "robertu94",
    "url": "https://api.github.com/repos/spack/spack/issues/27569",
    "updated_at": "2021-11-29 17:41:10",
    "created_at": "2021-11-20 13:09:21",
    "closed_at": "2021-11-29 17:39:14",
    "state": "closed",
    "title": "Installation issue: py-tomli fails on Fedora 35",
    "number": 27569,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1059141843,
    "html_url": "https://github.com/spack/spack/issues/27569",
    "assignees": [
        "adamjstewart"
    ],
    "comments": 6
}