{
    "body": "### Steps to reproduce the issue\n\n1). Login to a node with the ppc64le architecture (IBM Power9):\r\n```console\r\n$ arch\r\nppc64le\r\n```\r\n\r\n2). Verify that the IBM XL compiler is present in your environment:\r\n```console\r\n$ module list\r\n\r\nCurrently Loaded Modulefiles:\r\n  1) git/2.17.1                                3) ibm/xlc-16.1.1.7-xlf-16.1.1.7-gcc-8.3.0\r\n  2) gcc/8.3.0\r\n```\r\n\r\n3). Clone the `spack` source and run the environment setup script:\r\n```console\r\n$ git clone git@github.com:spack/spack.git\r\n$ cd spack\r\n$ source ./share/spack/setup-env.sh\r\n```\r\n\r\n4). Verify that Spack knows about your IBM XL compiler:\r\n```console\r\n$ spack compiler list\r\n\r\n==> Available compilers\r\n-- gcc rhel7-ppc64le --------------------------------------------\r\ngcc@8.3.0  gcc@4.8.5\r\n\r\n-- xl rhel7-ppc64le ---------------------------------------------\r\nxl@16.1\r\n\r\n-- xl_r rhel7-ppc64le -------------------------------------------\r\nxl_r@16.1\r\n```\r\n\r\n5). Attempt to install python 3.8.0 with the IBM XL compiler (NOTE:  Currently there are several dependencies such as libbsd, ncurses, and perl that cannot build under XL; build those with GCC instead):\r\n```console\r\n$ spack install -v python@3.8.0~uuid%xl_r@16.1 ^libbsd%gcc@8.3.0 ^ncurses%gcc@8.3.0 ^perl%gcc@8.3.0\r\n```\r\n\r\nThe build attempt hangs indefinitely at this point:\r\n```console\r\n/vast/home/quellyn/GIT/spack/lib/spack/env/xl_r/xlc_r -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/xl_r-16.1/gettext-0.21-dluhz5xuyb7p6ths56xrzmnsqsefpmdw/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/gcc-8.3.0/readline-8.1-z4y4pasaynsdcshsg3htpbp5w4ij7cm7/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/gcc-8.3.0/ncurses-6.2-63ymz3mlmh3cfy3kniwzhj7x2uyire4o/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/xl_r-16.1/openssl-1.1.1k-l7rdohgmihol3qmdzim4q3prg4yhzn4m/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/xl_r-16.1/sqlite-3.35.5-dgqqtqvlnapucewb6yqplnhxr6oxyubf/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/gcc-8.3.0/gdbm-1.19-u6knbvesvyp2uvk3kt2vkudkiuyvzj57/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/xl_r-16.1/zlib-1.2.11-722ljz2quor3zhxby4wrztndvloiyuqa/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/gcc-8.3.0/bzip2-1.0.8-u6z4i6i5x2e22cvr74wlbeplkvbcz37a/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/xl_r-16.1/xz-5.2.5-uz5q5kohv3zdbix5cadx2m34sxr5ivea/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/xl_r-16.1/expat-2.4.1-yt25nzmmurncvab6smtgxn3mtkyiyfrd/lib -L/vast/home/quellyn/GIT/spack/opt/spack/linux-rhel7-power9le/xl_r-16.1/libffi-3.3-ngcpqce2b66qehwdvofpvyn6bjqmyc6a/lib    -Xlinker -export-dynamic -o Programs/_testembed Programs/_testembed.o -L. -lpython3.8 -lcrypt -lintl -ldl  -lutil -lm   -lm \r\nLD_LIBRARY_PATH=/ram/tmp/quellyn/spack-stage/spack-stage-python-3.8.0-xkexu6rwqnfwskbkpllxvsbe5ojnwhiz/spack-src/spack-build ./python -E -S -m sysconfig --generate-posix-vars ;\\\r\n```\r\n\r\n**NOTE** that python 3.7.9 builds under XL without issue. No version of python >= 3.8.0 succeeds, however.\r\n\r\nMaintainers for the `python` Spack package are @adamjstewart and @skosukhin . Also mentioning @KineticTheory , as he has an interest in the outcome of this issue as well.\n\n### Information on your system\n\n```console\r\n$ spack debug report\r\n\r\n* **Spack:** 0.16.2-3901-264b00bff4\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-rhel7-power9le\r\n* **Concretizer:** original\r\n```\n\n### Additional information\n\n[spack-build-env.txt](https://github.com/spack/spack/files/6994711/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/6994712/spack-build-out.txt)\r\n\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "quellyn",
    "url": "https://api.github.com/repos/spack/spack/issues/25445",
    "updated_at": "2021-08-16 18:58:08",
    "created_at": "2021-08-16 18:53:23",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: python",
    "number": 25445,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 972011517,
    "html_url": "https://github.com/spack/spack/issues/25445",
    "assignees": [],
    "comments": 1
}