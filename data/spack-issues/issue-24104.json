{
    "body": "Sourcing `setup-env.sh` upon startup takes ~10 sec for me on my laptop, where modules are not installed. With the following change, this now take ~1 sec. I believe the logic was inverted, as there's no reason to set `MODULEPATH` if modules isn't installed.\r\n\r\nAlso fixed the `setup-env.fish` file. The `setup-env.csh` file doesn't seem to have support for this. Should we add it? We should also add tests for this.",
    "user": "adamjstewart",
    "url": "https://api.github.com/repos/spack/spack/issues/24104",
    "updated_at": "2021-06-10 14:01:10",
    "created_at": "2021-06-03 15:51:31",
    "closed_at": "2021-06-10 14:01:05",
    "state": "closed",
    "title": "setup-env: fix inverted logic for modules check",
    "number": 24104,
    "milestone": null,
    "labels": [
        "performance",
        "shell-support"
    ],
    "id": 910629874,
    "html_url": "https://github.com/spack/spack/pull/24104",
    "assignees": [],
    "comments": 7
}