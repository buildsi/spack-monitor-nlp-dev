{
    "body": "### Steps to reproduce the issue\r\n\r\n```\r\n% spack install py-matplotlib backend=qt5agg arch=m1\r\n...\r\n==> Installing libtiff-4.3.0-jb7jy5ml6u37vqoury25x6rgjlg4c6ce\r\n==> No binary for libtiff-4.3.0-jb7jy5ml6u37vqoury25x6rgjlg4c6ce found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/0e/0e46e5acb087ce7d1ac53cf4f56a09b221537fc86dfc5daaad1c2e89e1b37ac8.tar.gz\r\n==> Ran patch() for libtiff\r\n==> libtiff: Executing phase: 'autoreconf'\r\n==> libtiff: Executing phase: 'configure'\r\n==> libtiff: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8' 'V=1'\r\n\r\n23 errors found in build log:\r\n     429    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1\r\n            /string:511:\r\n     430    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1\r\n            /string_view:179:\r\n     431    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1\r\n            /__string:57:\r\n     432    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1\r\n            /algorithm:649:\r\n     433    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1\r\n            /initializer_list:46:\r\n     434    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1\r\n            /cstddef:37:\r\n  >> 435    ../version:1:1: error: expected unqualified-id\r\n     436    4.3.0\r\n     437    ^\r\n...\r\n...\r\n...\r\n   ^\r\n     646    fatal error: too many errors emitted, stopping now [-ferror-limit=]\r\n     647    20 errors generated.\r\n  >> 648    make[3]: *** [tif_stream.lo] Error 1\r\n     649    make[3]: *** Waiting for unfinished jobs....\r\n     650    libtool: link: (cd \".libs\" && rm -f \"libtiff.dylib\" && ln -s \"libtiff.5.dylib\" \"libtiff.dyli\r\n            b\")\r\n     651    libtool: link: ar cr .libs/libtiff.a  tif_aux.o tif_close.o tif_codec.o tif_color.o tif_comp\r\n            ress.o tif_dir.o tif_dirinfo.o tif_dirread.o tif_dirwrite.o tif_dumpmode.o tif_error.o tif_e\r\n            xtension.o tif_fax3.o tif_fax3sm.o tif_flush.o tif_getimage.o tif_jbig.o tif_jpeg.o tif_jpeg\r\n            _12.o tif_lerc.o tif_luv.o tif_lzma.o tif_lzw.o tif_next.o tif_ojpeg.o tif_open.o tif_packbi\r\n            ts.o tif_pixarlog.o tif_predict.o tif_print.o tif_read.o tif_strip.o tif_swab.o tif_thunder.\r\n            o tif_tile.o tif_version.o tif_warning.o tif_webp.o tif_write.o tif_zip.o tif_zstd.o tif_uni\r\n            x.o\r\n     652    libtool: link: ranlib .libs/libtiff.a\r\n     653    libtool: link: ( cd \".libs\" && rm -f \"libtiff.la\" && ln -s \"../libtiff.la\" \"libtiff.la\" )\r\n  >> 654    make[2]: *** [all] Error 2\r\n  >> 655    make[1]: *** [all-recursive] Error 1\r\n  >> 656    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /var/folders/z9/v6xmb1p14m57c94dsn9l_k780000gn/T/rutvik/spack-stage/spack-stage-libtiff-4.3.0-jb7jy5ml6u37vqoury25x6rgjlg4c6ce/spack-build-out.txt\r\n\r\n==> Warning: Skipping build of lcms-2.9-zegoherv7bneajtncap6bhklwl66qwvk since libtiff-4.3.0-jb7jy5ml6u37vqoury25x6rgjlg4c6ce failed\r\n==> Warning: Skipping build of libmng-2.0.3-2nkoj73cx3oe3q2xoxgwnr5eqlmf2uea since lcms-2.9-zegoherv7bneajtncap6bhklwl66qwvk failed\r\n==> Warning: Skipping build of qt-5.15.2-dgdkvbvpujy7ie77recigdjh2l4s45os since libmng-2.0.3-2nkoj73cx3oe3q2xoxgwnr5eqlmf2uea failed\r\n==> Warning: Skipping build of py-pyqt5-5.13.1-7wqhtbxkf5lyqitelm6o6sytkneqgitc since qt-5.15.2-dgdkvbvpujy7ie77recigdjh2l4s45os failed\r\n==> Warning: Skipping build of py-matplotlib-3.5.1-6q5ise4akjjwsjuw3eppzdg4eihsqobx since py-pyqt5-5.13.1-7wqhtbxkf5lyqitelm6o6sytkneqgitc failed\r\n```\r\n\r\n### Information on your system\r\n\r\n* **Spack:** 0.17.1-677-c2e1a12cdf\r\n* **Python:** 3.9.7\r\n* **Platform:** darwin-monterey-m1\r\n* **Concretizer:** clingo\r\n\r\n\r\n### Additional information\r\n\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7790834/spack-build-out.txt)\r\n[spack-build-env.txt](https://github.com/spack/spack/files/7790836/spack-build-env.txt)\r\n@adamjstewart \r\n\r\n### General information\r\n\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\r\n- [X] I have uploaded the build log and environment files\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "rchoudhary",
    "url": "https://api.github.com/repos/spack/spack/issues/28184",
    "updated_at": "2022-01-03 01:50:27",
    "created_at": "2021-12-29 22:30:37",
    "closed_at": "2022-01-03 01:50:27",
    "state": "closed",
    "title": "Installation issue: libtiff",
    "number": 28184,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1090778433,
    "html_url": "https://github.com/spack/spack/issues/28184",
    "assignees": [],
    "comments": 2
}