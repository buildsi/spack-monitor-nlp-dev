{
    "body": "### Steps to reproduce the issue\n\nspack -d  install intel-parallel-studio@cluster.2020.4 failed:\n\n### Information on your system\n\n==> [2021-09-15-09:53:55.106084] Imported install from built-in commands\r\n==> [2021-09-15-09:53:55.107658] Reading config file /es01/jnist/spack/etc/spack/defaults/config.yaml\r\n==> [2021-09-15-09:53:55.126836] Reading config file /root/.spack/config.yaml\r\n==> [2021-09-15-09:53:55.135924] Imported install from built-in commands\r\n==> [2021-09-15-09:53:55.136697] Reading config file /es01/jnist/spack/etc/spack/defaults/repos.yaml\r\n==> [2021-09-15-09:53:55.152891] Reading config file /es01/jnist/spack/etc/spack/defaults/packages.yaml\r\n==> [2021-09-15-09:53:55.183129] Reading config file /root/.spack/packages.yaml\r\n==> [2021-09-15-09:53:55.193946] Reading config file /root/.spack/linux/compilers.yaml\r\n==> [2021-09-15-09:53:55.252773] Warning: Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors\r\n==> [2021-09-15-09:53:55.260889] Reading config file /es01/jnist/spack/etc/spack/defaults/bootstrap.yaml\r\n==> [2021-09-15-09:53:55.269156] DATABASE LOCK TIMEOUT: 3s\r\n==> [2021-09-15-09:53:55.269193] PACKAGE LOCK TIMEOUT: No timeout\r\n==> [2021-09-15-09:53:55.282124] Initializing the build queue from the build requests\r\n==> [2021-09-15-09:53:55.282163] Initializing the build queue for intel-parallel-studio\r\n==> [2021-09-15-09:53:55.283601] Processing dependencies for intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6: ('build', 'link', 'run')\r\n==> [2021-09-15-09:53:55.296049] Removing failure marking for intel-parallel-studio\r\n==> [2021-09-15-09:53:55.296843] Pkg id intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6 has the following dependents:\r\n==> [2021-09-15-09:53:55.297511] Ensure all dependencies know all dependents across specs\r\n==> [2021-09-15-09:53:55.301090] Acquiring a write lock on intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6 with timeout 1e-09\r\n==> [2021-09-15-09:53:55.306568] Creating stage lock spack-stage-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6\r\n==> [2021-09-15-09:53:55.312262] Installing intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6\r\n==> [2021-09-15-09:53:55.312303] Searching for binary cache of intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6\r\n==> [2021-09-15-09:53:55.312364] Reading config file /es01/jnist/spack/etc/spack/defaults/mirrors.yaml\r\n==> [2021-09-15-09:53:55.313566] Reading config file /root/.spack/mirrors.yaml\r\n==> [2021-09-15-09:53:55.316144] Did not find linux-centos7-zen2-intel-2021.2.0-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6.spec.yaml on file:///es01/jnist/mirror/build_cache/linux-centos7-zen2-intel-2021.2.0-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6.spec.yaml\r\n  Download failed: <urlopen error [Errno 2] No such file or directory: '/es01/jnist/mirror/build_cache/linux-centos7-zen2-intel-2021.2.0-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6.spec.yaml'>\r\n==> [2021-09-15-09:53:56.329738] Did not find linux-centos7-zen2-intel-2021.2.0-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6.spec.yaml on https://mirror.spack.io/build_cache/linux-centos7-zen2-intel-2021.2.0-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6.spec.yaml\r\n  Download failed: HTTP Error 404: Not Found\r\n==> [2021-09-15-09:53:56.329949] No binary for intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6 found: installing from source\r\n==> [2021-09-15-09:53:56.370770] '/bin/git' 'describe' '--tags' '--match' 'v*'\r\n==> [2021-09-15-09:53:56.540174] [TOOLCHAIN] MATCH Intel\r\n==> [2021-09-15-09:53:56.542609] Adding compiler bin/ paths: /es01/jnist/spack/lib/spack/env /es01/jnist/spack/lib/spack/env/case-insensitive /es01/jnist/spack/lib/spack/env/intel\r\n==> [2021-09-15-09:53:56.548810] A dependency has updated CPATH, this may lead pkg-config to assume that the package is part of the system includes and omit it when invoked with '--cflags'.\r\n==> [2021-09-15-09:53:56.571169] '/es01/jnist/software/public/linux-centos7-zen2/gcc-10.2.0/intel-oneapi-compilers-2021.2.0-2o67zklou6fkbiz4aig3yegjebi2ofkn/compiler/2021.2.0/linux/bin/intel64/icpc' '-v' '/tmp/spack-implicit-link-info8drf2w4m/main.c' '-o' '/tmp/spack-implicit-link-info8drf2w4m/output'\r\n==> [2021-09-15-09:53:57.630470] parsing implicit link info\r\n==> [2021-09-15-09:53:57.630854] linker line: ld    /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64/crt1.o /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64/crti.o /usr/lib/gcc/x86_64-redhat-linux/4.8.5/crtbegin.o --eh-frame-hdr --build-id -dynamic-linker /lib64/ld-linux-x86-64.so.2 -m elf_x86_64 -o /tmp/spack-implicit-link-info8drf2w4m/output -L/es01/jnist/software/public/linux-centos7-zen2/gcc-10.2.0/intel-oneapi-compilers-2021.2.0-2o67zklou6fkbiz4aig3yegjebi2ofkn/compiler/2021.2.0/linux/bin/intel64/../../compiler/lib/intel64_lin -L/usr/lib/gcc/x86_64-redhat-linux/4.8.5/ -L/usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64 -L/usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64/ -L/lib/../lib64 -L/lib/../lib64/ -L/usr/lib/../lib64 -L/usr/lib/../lib64/ -L/usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../ -L/lib64 -L/lib/ -L/usr/lib64 -L/usr/lib /tmp/icpcVerQWH.o -Bdynamic -Bstatic -limf -lsvml -lirng -Bdynamic -lstdc++ -lm -Bstatic -lipgo -ldecimal --as-needed -Bdynamic -lcilkrts --no-as-needed -lstdc++ -lgcc --as-needed -lgcc_s --no-as-needed -Bstatic -lirc -lsvml -Bdynamic -lc -lgcc --as-needed -lgcc_s --no-as-needed -Bstatic -lirc_s -Bdynamic -ldl -lc /usr/lib/gcc/x86_64-redhat-linux/4.8.5/crtend.o /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64/crtn.o\r\n==> [2021-09-15-09:53:57.630954] linkdir: /es01/jnist/software/public/linux-centos7-zen2/gcc-10.2.0/intel-oneapi-compilers-2021.2.0-2o67zklou6fkbiz4aig3yegjebi2ofkn/compiler/2021.2.0/linux/bin/intel64/../../compiler/lib/intel64_lin\r\n==> [2021-09-15-09:53:57.631005] linkdir: /usr/lib/gcc/x86_64-redhat-linux/4.8.5/\r\n==> [2021-09-15-09:53:57.631045] linkdir: /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64\r\n==> [2021-09-15-09:53:57.631083] linkdir: /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64/\r\n==> [2021-09-15-09:53:57.631121] linkdir: /lib/../lib64\r\n==> [2021-09-15-09:53:57.631157] linkdir: /lib/../lib64/\r\n==> [2021-09-15-09:53:57.631194] linkdir: /usr/lib/../lib64\r\n==> [2021-09-15-09:53:57.631231] linkdir: /usr/lib/../lib64/\r\n==> [2021-09-15-09:53:57.631268] linkdir: /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../\r\n==> [2021-09-15-09:53:57.631304] linkdir: /lib64\r\n==> [2021-09-15-09:53:57.631341] linkdir: /lib/\r\n==> [2021-09-15-09:53:57.631379] linkdir: /usr/lib64\r\n==> [2021-09-15-09:53:57.631415] linkdir: /usr/lib\r\n==> [2021-09-15-09:53:57.631491] found raw link dirs: /es01/jnist/software/public/linux-centos7-zen2/gcc-10.2.0/intel-oneapi-compilers-2021.2.0-2o67zklou6fkbiz4aig3yegjebi2ofkn/compiler/2021.2.0/linux/bin/intel64/../../compiler/lib/intel64_lin, /usr/lib/gcc/x86_64-redhat-linux/4.8.5/, /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64, /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../../lib64/, /lib/../lib64, /lib/../lib64/, /usr/lib/../lib64, /usr/lib/../lib64/, /usr/lib/gcc/x86_64-redhat-linux/4.8.5/../../../, /lib64, /lib/, /usr/lib64, /usr/lib\r\n==> [2021-09-15-09:53:57.631667] found link dirs: /es01/jnist/software/public/linux-centos7-zen2/gcc-10.2.0/intel-oneapi-compilers-2021.2.0-2o67zklou6fkbiz4aig3yegjebi2ofkn/compiler/2021.2.0/linux/compiler/lib/intel64_lin, /usr/lib/gcc/x86_64-redhat-linux/4.8.5, /usr/lib64, /lib64, /usr/lib, /lib\r\n==> [2021-09-15-09:53:59.464951] Using cached archive: /es01/jnist/mirror/_source-cache/archive/f3/f36e49da97b6ce24d2d464d73d7ff49d71cff20e1698c20e607919819602a9f5.tgz\r\n==> [2021-09-15-09:54:01.283642] Staging archive: /tmp/root/spack-stage/spack-stage-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/parallel_studio_xe_2020_update4_cluster_edition.tgz\r\n==> [2021-09-15-09:54:01.285306] '/bin/tar' '-oxf' '/tmp/root/spack-stage/spack-stage-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/parallel_studio_xe_2020_update4_cluster_edition.tgz'\r\n==> [2021-09-15-09:54:17.041991] Created stage in /tmp/root/spack-stage/spack-stage-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6\r\n==> [2021-09-15-09:54:17.042199] No patches needed for intel-parallel-studio\r\n==> [2021-09-15-09:54:17.042235] intel-parallel-studio: Building intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6 [IntelPackage]\r\n==> [2021-09-15-09:54:17.043934] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_cluster.2020.4\r\n==> [2021-09-15-09:54:17.045169] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_2020.4.*\r\n==> [2021-09-15-09:54:17.046449] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_*.*.*\r\n==> [2021-09-15-09:54:17.047470] normalize_path.normalize_suite_dir:    /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries\r\n==> [2021-09-15-09:54:17.048398] component_bin_dir.normalize_path:      /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/compiler\r\n==> [2021-09-15-09:54:17.049197] license_files.component_bin_dir:       /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/bin/intel64\r\n==> [2021-09-15-09:54:17.050105] Found already existing license /es01/jnist/spack/etc/spack/licenses/intel/license.lic\r\n==> [2021-09-15-09:54:17.052207] intel-parallel-studio: Executing phase: 'configure'\r\n==> [2021-09-15-09:54:17.067971] intel-parallel-studio: Executing phase: 'install'\r\n==> [2021-09-15-09:54:28.823174] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_cluster.2020.4\r\n==> [2021-09-15-09:54:28.824485] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_2020.4.*\r\n==> [2021-09-15-09:54:28.826140] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_*.*.*\r\n==> [2021-09-15-09:54:28.827593] normalize_path.normalize_suite_dir:    /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries\r\n==> [2021-09-15-09:54:28.828825] component_bin_dir.normalize_path:      /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/compiler\r\n==> [2021-09-15-09:54:28.830008] configure_rpath.component_bin_dir:     /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/bin/intel64\r\n==> [2021-09-15-09:54:28.830836] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_cluster.2020.4\r\n==> [2021-09-15-09:54:28.831509] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_2020.4.*\r\n==> [2021-09-15-09:54:28.832334] normalize_path.normalize_suite_dir:    trying /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries_*.*.*\r\n==> [2021-09-15-09:54:28.833149] normalize_path.normalize_suite_dir:    /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries\r\n==> [2021-09-15-09:54:28.833807] component_lib_dir.normalize_path:      /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/compiler\r\n==> [2021-09-15-09:54:28.834421] configure_rpath.component_lib_dir:     /es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/compiler/lib/intel64\r\n/es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/bin/intel64/icc\r\n==> [2021-09-15-09:54:28.849096] Error: FileNotFoundError: [Errno 2] No such file or directory: '/es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/bin/intel64/icc.cfg'\r\n\r\n/es01/jnist/spack/lib/spack/spack/build_systems/intel.py:1267, in configure_rpath:\r\n       1264            #    raise InstallError(\r\n       1265            #        'Cannot find compiler command to configure rpath:\\n\\t' + f)\r\n       1266\r\n  >>   1267            compiler_cfg = os.path.abspath(f + '.cfg')\r\n       1268            with open(compiler_cfg, 'w') as fh:\r\n       1269                fh.write('-Xlinker -rpath={0}\\n'.format(compilers_lib_dir))\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/spack-build-out.txt\r\n\r\nTraceback (most recent call last):\r\n  File \"/es01/jnist/spack/lib/spack/spack/build_environment.py\", line 1022, in _setup_pkg_and_run\r\n    return_value = function(pkg, kwargs)\r\n  File \"/es01/jnist/spack/lib/spack/spack/installer.py\", line 1898, in build_process\r\n    return installer.run()\r\n  File \"/es01/jnist/spack/lib/spack/spack/installer.py\", line 1764, in run\r\n    self._real_install()\r\n  File \"/es01/jnist/spack/lib/spack/spack/installer.py\", line 1862, in _real_install\r\n    phase(pkg.spec, pkg.prefix)\r\n  File \"/es01/jnist/spack/lib/spack/spack/package.py\", line 120, in phase_wrapper\r\n    callback(instance)\r\n  File \"/es01/jnist/spack/lib/spack/spack/build_systems/intel.py\", line 1268, in configure_rpath\r\n    with open(compiler_cfg, 'w') as fh:\r\nFileNotFoundError: [Errno 2] No such file or directory: '/es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/bin/intel64/icc.cfg'\r\n==> [2021-09-15-09:54:28.849395] Flagging intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6 as failed: FileNotFoundError: [Errno 2] No such file or directory: '/es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/bin/intel64/icc.cfg'\r\n==> [2021-09-15-09:54:28.861664] ChildError: FileNotFoundError: [Errno 2] No such file or directory: '/es01/jnist/software/public/linux-centos7-zen2/intel-2021.2.0/intel-parallel-studio-cluster.2020.4-cjxi56gqpveuza4xhca6lclkglfiaqn6/compilers_and_libraries/linux/bin/intel64/icc.cfg\n\n### Additional information\n\n_No response_\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "Bitllion",
    "url": "https://api.github.com/repos/spack/spack/issues/25955",
    "updated_at": "2021-10-14 08:52:48",
    "created_at": "2021-09-15 01:57:23",
    "closed_at": "2021-10-14 08:52:48",
    "state": "closed",
    "title": "Installation issue: Cannot find compiler command to configure",
    "number": 25955,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 996579180,
    "html_url": "https://github.com/spack/spack/issues/25955",
    "assignees": [],
    "comments": 0
}