{
    "body": "I'm trying to add sambamba to my regular builds.  It needs ldc, which failed, I believe that this is the first error:\r\n\r\n```\r\n/foo/users/hartzelg/tmp/foo/spack-cime/foo/lib/spack/env/gcc/g++   -DDMDV2 -DHAVE_SC_ARG_MAX -DIN_LLVM -DLDC_INSTALL_PREFIX=\\\"/foo/users/hartzelg/tmp/foo/spack-cime/foo/opt/spack/linux-centos7-x86_64/gcc-5.4.0/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb\\\" -DLDC_LLVM_VER=500 -DLLVM_INTRINSIC_TD_PATH=\\\"/foo/users/hartzelg/tmp/foo/spack-cime/foo/opt/spack/linux-centos7-x86_64/gcc-5.4.0/llvm-5.0.0-ctm2ddve3cpkacmf2dlxjtgqvuwvcowe/include\\\" -DOPAQUE_VTBLS -D__LITTLE_ENDIAN__ -I/foo/users/hartzelg/tmp/foo/spack-cime/foo/var/spack/stage/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb/ldc-0.17.4-src/. -I/foo/users/hartzelg/tmp/foo/spack-cime/foo/var/spack/stage/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb/ldc-0.17.4-src/dmd2 -I/foo/users/hartzelg/tmp/foo/spack-cime/foo/var/spack/sta\r\nge/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb/ldc-0.17.4-src/dmd2/root -I/tmp/hartzelg/spack-stage/spack-stage-_O_Jcr/ldc-0.17.4-src/spack-build/dmd2 -I/foo/users/hartzelg/tmp/foo/spack-cime/foo/var\r\n/spack/stage/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb/ldc-0.17.4-src -isystem /foo/users/hartzelg/tmp/foo/spack-cime/foo/opt/spack/linux-centos7-x86_64/gcc-5.4.0/llvm-5.0.0-ctm2ddve3cpkacmf2dlxjtgqvuwvcowe/include -isystem /foo/users/hartzelg/tmp/foo/spack-cime/foo/opt/spack/linux-centos7-x86_64/gcc-5.4.0/libconfig-1.5-4htedoslndbotow4ioh7qb47p5jeizv7/include  -O2 -g -DNDEBUG   -I/foo/users/hartzelg/tmp/foo/spack-cime/foo/opt/spack/linux-centos7-x86_64/gcc-5.4.0/llvm-5.0.0-ctm2ddve3cpkacmf2dlxjtgqvuwvcowe/include -std=c++11 -fPIC -fvisibility-inlines-hidden -Werror=date-time -std=c++11 -Wall -W -Wno-unused-parameter -Wwrite-strings -Wcast-qual -Wno-missing-field-initializers -pedantic -Wno-long-long -Wno-maybe-uninitialized -Wdelete-non-virtual-dtor -Wno-comment -ffunction-sections -fdata-sections -O3 -DNDEBUG  -fno-exceptions -DLLVM_BUILD_GLOBAL_ISEL -D_GNU_SOURCE -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -fno-rtti   -Wall -Wextra -Wno-unused-parameter -Wno-missing-field-initializers -Wno-non-virtual-dtor -Wno-pedantic -DLDC_POSIX  -o CMakeFiles/LDCShared.dir/gen/dvalue.cpp.o -c /foo/users/hartzelg/tmp/foo/spack-cime/foo/var/spack/stage/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb/ldc-0.17.4-src/gen/dvalue.cppIn file included from /foo/users/hartzelg/tmp/foo/spack-cime/foo/var/spack/stage/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb/ldc-0.17.4-src/gen/cl_helpers.cpp:10:0:    \r\n\r\n/foo/users/hartzelg/tmp/foo/spack-cime/foo/var/spack/stage/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb/ldc-0.17.4-src/./gen/cl_helpers.h:185:40: error: expected \u2018;\u2019 at end of member declaration         MultiSetter(bool invert, bool *p, ...) LLVM_END_WITH_NULL;                                                                                                                                                                                                         ^                                                                                                                                                                                     /foo/users/hartzelg/tmp/foo/spack-cime/foo/var/spack/stage/ldc-bootstrap-0.17.4-ol6ggfe6a3suc6snayqirqz2nzjas2qb/ldc-0.17.4-src/./gen/cl_helpers.h:185:42: error: \u2018LLVM_END_WITH_NULL\u2019 does not name a type         MultiSetter(bool invert, bool *p, ...) LLVM_END_WITH_NULL;                                                                                                                                                                                                           ^\r\n```\r\n\r\nI know that I built it successfully back when @alalazo was merging the ldc package, I suspect that was with the underlying system compilers (gcc@4.8.x).  Now I\"m trying to build it with a spack-built gcc@5.4.0.\r\n\r\nSpack has moved on since ldc merged, perhaps something has changed there too.\r\n\r\nI'll keep digging",
    "user": "hartzell",
    "url": "https://api.github.com/repos/spack/spack/issues/5822",
    "updated_at": "2019-12-10 18:49:50",
    "created_at": "2017-10-19 16:29:04",
    "closed_at": "None",
    "state": "open",
    "title": "ldc fails to build",
    "number": 5822,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 266906837,
    "html_url": "https://github.com/spack/spack/issues/5822",
    "assignees": [
        "alalazo"
    ],
    "comments": 10
}