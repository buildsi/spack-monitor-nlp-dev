{
    "body": "### Steps to reproduce\n\n```\r\nspack install spectre %gcc\r\n```\r\n\r\nIt doesn't matter which package is installed; the issue is that `spectre` is a C++ package, and depends on other C++ packages. I request `spectre` to be built by GCC, and yet `spectre`s dependencies (e.g. `boost`) are built by Clang. They will use different STL libraries.\r\n\r\nIt is similarly important that different major versions of gfortran can't be mixed.\n\n### Error message\n\nI don't have an error message since the built fails earlier with complaints by `openblas` and `openmpi` about a missing Fortran compiler (since they are built by Clang, which doesn't come with a Fortran compiler).\r\n\r\nHere is the `spack spec spectre%gcc` output, showing that Spack chooses `Clang` for all dependencies:\r\n```\r\nspectre@2022.01.03%gcc@11.2.0~doc+formaline~ipo~profiling~python build_type=RelWithDebInfo executables=none memory_allocator=system patches=07be176ca4dda74a2dd8e71c31dab638a9f3567c3a58eb7fddbfde001646fb8c,160d55bb2537ea8f3937cea59a9a0fd56a2bfef856bb7fd8e9dceb504c04836c,65416aab51ccf13ae7fb7296389f8bf637698e56f4a12720cc57221d04988772,767f7b29f617c0aa0e363ef45ab7dda41d440c309529829e9e9c65e9d76530d6,912877d4f553adff8b6df8264c50600c1e6d5a9c3ad18be0b86c9d801c07699c,bf539feb01d01e178889828dbbe5e990e8ee58c9e971d8634845c70a7cfb42a9,eb50b31af79d1e6b6535503bc30a9c5efd2ce36bd3638a2b3ab02af44bac6de3,eb6094028530d9f28cb9c91a90b4af908cc537c8525fb4c81b11c74fd0354932 arch=darwin-monterey-skylake\r\n    ^blaze@3.8%apple-clang@13.0.0~ipo build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n        ^cmake@3.22.1%apple-clang@13.0.0~doc+ncurses+openssl+ownlibs~qt build_type=Release arch=darwin-monterey-skylake\r\n            ^ncurses@6.2%apple-clang@13.0.0~symlinks+termlib abi=none patches=3970661b2954b2946eb98956a7f08bba10c98264a6123c99dcede83224f07501 arch=darwin-monterey-skylake\r\n                ^pkgconf@1.8.0%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^openssl@1.1.1m%apple-clang@13.0.0~docs certs=system arch=darwin-monterey-skylake\r\n                ^perl@5.34.0%apple-clang@13.0.0+cpanm+shared+threads arch=darwin-monterey-skylake\r\n                    ^berkeley-db@18.1.40%apple-clang@13.0.0+cxx~docs+stl patches=9f5b54a48a270ce405f0f77039fab86f40b1698dc522871b106402f4663b1273,b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=darwin-monterey-skylake\r\n                    ^bzip2@1.0.8%apple-clang@13.0.0~debug~pic+shared arch=darwin-monterey-skylake\r\n                        ^diffutils@3.8%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                            ^libiconv@1.16%apple-clang@13.0.0 libs=shared,static arch=darwin-monterey-skylake\r\n                    ^gdbm@1.19%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                        ^readline@8.1%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                    ^zlib@1.2.11%apple-clang@13.0.0+optimize+pic+shared arch=darwin-monterey-skylake\r\n        ^openblas@0.3.19%apple-clang@13.0.0~bignuma~consistent_fpcsr~ilp64+locking+pic+shared symbol_suffix=none threads=none arch=darwin-monterey-skylake\r\n    ^boost@1.78.0%apple-clang@13.0.0+atomic+chrono~clanglibcpp~container~context~coroutine+date_time~debug+exception~fiber+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout+wave cxxstd=98 patches=50d23a9985c29fc532a79924e860d98a9f290175e8bbdaa67066a6258842be26 visibility=hidden arch=darwin-monterey-skylake\r\n    ^brigand@master%apple-clang@13.0.0~ipo build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n    ^charmpp@7.0.0%apple-clang@13.0.0~cuda~omp~papi+production~pthreads+shared+smp~syncft~tcp~tracing backend=netlrts build-target=LIBS pmi=none arch=darwin-monterey-skylake\r\n    ^gsl@2.7%gcc@11.2.0~external-cblas arch=darwin-monterey-skylake\r\n    ^hdf5@1.12.1%apple-clang@13.0.0~cxx~fortran~hl~ipo~java+mpi+shared~szip~threadsafe+tools api=default build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n        ^openmpi@4.1.2%apple-clang@13.0.0~atomics~cuda~cxx~cxx_exceptions+gpfs~internal-hwloc~java~legacylaunchers~lustre~memchecker~pmi~pmix+romio~singularity~sqlite3+static~thread_multiple+vt+wrapper-rpath fabrics=none schedulers=none arch=darwin-monterey-skylake\r\n            ^hwloc@2.7.0%apple-clang@13.0.0~cairo~cuda~gl~libudev+libxml2~netloc~nvml~opencl~pci~rocm+shared arch=darwin-monterey-skylake\r\n                ^libxml2@2.9.12%apple-clang@13.0.0~python arch=darwin-monterey-skylake\r\n                    ^xz@5.2.5%apple-clang@13.0.0~pic libs=shared,static arch=darwin-monterey-skylake\r\n            ^libevent@2.1.12%apple-clang@13.0.0+openssl arch=darwin-monterey-skylake\r\n            ^openssh@8.8p1%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                ^libedit@3.1-20210216%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^libsharp@1.0.0%apple-clang@13.0.0~mpi~openmp+pic arch=darwin-monterey-skylake\r\n        ^autoconf@2.69%apple-clang@13.0.0 patches=35c449281546376449766f92d49fc121ca50e330e60fefcfc9be2af3253082c2,7793209b33013dc0f81208718c68440c5aae80e7a1c4b8d336e382525af791a7,a49dd5bac3b62daa0ff688ab4d508d71dbd2f4f8d7e2a02321926346161bf3ee arch=darwin-monterey-skylake\r\n            ^m4@1.4.19%apple-clang@13.0.0+sigsegv patches=9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573,bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89 arch=darwin-monterey-skylake\r\n                ^libsigsegv@2.13%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^libxsmm@1.17%apple-clang@13.0.0~debug~generator~header-only~shared arch=darwin-monterey-skylake\r\n        ^python@3.9.9%apple-clang@13.0.0+bz2+ctypes+dbm~debug+ensurepip+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87,4c2457325f2b608b1b6a2c63087df8c26e07db3e3d493caf36a56f0ecf6fb768,f2fd060afc4b4618fe8104c4c5d771f36dc55b1db5a4623785a4ea707ec72fb4 arch=darwin-monterey-skylake\r\n            ^apple-libuuid@1353.100.2%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^expat@2.4.3%apple-clang@13.0.0~libbsd arch=darwin-monterey-skylake\r\n            ^gettext@0.21%apple-clang@13.0.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-monterey-skylake\r\n                ^tar@1.34%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^libffi@3.3%apple-clang@13.0.0 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=darwin-monterey-skylake\r\n            ^sqlite@3.37.1%apple-clang@13.0.0+column_metadata+dynamic_extensions+fts~functions+rtree arch=darwin-monterey-skylake\r\n    ^ninja@1.10.2%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^yaml-cpp@0.7.0%apple-clang@13.0.0~ipo+pic+shared~tests build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n```\r\n\r\nHere is the respective debug mode output:\r\n```\r\n$ spack spec spectre %gcc\r\nInput spec\r\n--------------------------------\r\nspectre%gcc\r\n\r\nConcretized\r\n--------------------------------\r\n^C\r\n==> Error: Keyboard interrupt.\r\neschnett@redshift:~/Cactus (10:49:00)\r\n$ ^C\r\neschnett@redshift:~/Cactus (10:49:00)\r\n$ ^C\r\neschnett@redshift:~/Cactus (10:49:00)\r\n$ spack spec spectre %gcc\r\nInput spec\r\n--------------------------------\r\nspectre%gcc\r\n\r\nConcretized\r\n--------------------------------\r\nspectre@2022.01.03%gcc@11.2.0~doc+formaline~ipo~profiling~python build_type=RelWithDebInfo executables=none memory_allocator=system patches=07be176ca4dda74a2dd8e71c31dab638a9f3567c3a58eb7fddbfde001646fb8c,160d55bb2537ea8f3937cea59a9a0fd56a2bfef856bb7fd8e9dceb504c04836c,65416aab51ccf13ae7fb7296389f8bf637698e56f4a12720cc57221d04988772,767f7b29f617c0aa0e363ef45ab7dda41d440c309529829e9e9c65e9d76530d6,912877d4f553adff8b6df8264c50600c1e6d5a9c3ad18be0b86c9d801c07699c,bf539feb01d01e178889828dbbe5e990e8ee58c9e971d8634845c70a7cfb42a9,eb50b31af79d1e6b6535503bc30a9c5efd2ce36bd3638a2b3ab02af44bac6de3,eb6094028530d9f28cb9c91a90b4af908cc537c8525fb4c81b11c74fd0354932 arch=darwin-monterey-skylake\r\n    ^blaze@3.8%apple-clang@13.0.0~ipo build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n        ^cmake@3.22.1%apple-clang@13.0.0~doc+ncurses+openssl+ownlibs~qt build_type=Release arch=darwin-monterey-skylake\r\n            ^ncurses@6.2%apple-clang@13.0.0~symlinks+termlib abi=none patches=3970661b2954b2946eb98956a7f08bba10c98264a6123c99dcede83224f07501 arch=darwin-monterey-skylake\r\n                ^pkgconf@1.8.0%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^openssl@1.1.1m%apple-clang@13.0.0~docs certs=system arch=darwin-monterey-skylake\r\n                ^perl@5.34.0%apple-clang@13.0.0+cpanm+shared+threads arch=darwin-monterey-skylake\r\n                    ^berkeley-db@18.1.40%apple-clang@13.0.0+cxx~docs+stl patches=9f5b54a48a270ce405f0f77039fab86f40b1698dc522871b106402f4663b1273,b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=darwin-monterey-skylake\r\n                    ^bzip2@1.0.8%apple-clang@13.0.0~debug~pic+shared arch=darwin-monterey-skylake\r\n                        ^diffutils@3.8%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                            ^libiconv@1.16%apple-clang@13.0.0 libs=shared,static arch=darwin-monterey-skylake\r\n                    ^gdbm@1.19%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                        ^readline@8.1%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                    ^zlib@1.2.11%apple-clang@13.0.0+optimize+pic+shared arch=darwin-monterey-skylake\r\n        ^openblas@0.3.19%apple-clang@13.0.0~bignuma~consistent_fpcsr~ilp64+locking+pic+shared symbol_suffix=none threads=none arch=darwin-monterey-skylake\r\n    ^boost@1.78.0%apple-clang@13.0.0+atomic+chrono~clanglibcpp~container~context~coroutine+date_time~debug+exception~fiber+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout+wave cxxstd=98 patches=50d23a9985c29fc532a79924e860d98a9f290175e8bbdaa67066a6258842be26 visibility=hidden arch=darwin-monterey-skylake\r\n    ^brigand@master%apple-clang@13.0.0~ipo build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n    ^charmpp@7.0.0%apple-clang@13.0.0~cuda~omp~papi+production~pthreads+shared+smp~syncft~tcp~tracing backend=netlrts build-target=LIBS pmi=none arch=darwin-monterey-skylake\r\n    ^gsl@2.7%gcc@11.2.0~external-cblas arch=darwin-monterey-skylake\r\n    ^hdf5@1.12.1%apple-clang@13.0.0~cxx~fortran~hl~ipo~java+mpi+shared~szip~threadsafe+tools api=default build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n        ^openmpi@4.1.2%apple-clang@13.0.0~atomics~cuda~cxx~cxx_exceptions+gpfs~internal-hwloc~java~legacylaunchers~lustre~memchecker~pmi~pmix+romio~singularity~sqlite3+static~thread_multiple+vt+wrapper-rpath fabrics=none schedulers=none arch=darwin-monterey-skylake\r\n            ^hwloc@2.7.0%apple-clang@13.0.0~cairo~cuda~gl~libudev+libxml2~netloc~nvml~opencl~pci~rocm+shared arch=darwin-monterey-skylake\r\n                ^libxml2@2.9.12%apple-clang@13.0.0~python arch=darwin-monterey-skylake\r\n                    ^xz@5.2.5%apple-clang@13.0.0~pic libs=shared,static arch=darwin-monterey-skylake\r\n            ^libevent@2.1.12%apple-clang@13.0.0+openssl arch=darwin-monterey-skylake\r\n            ^openssh@8.8p1%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                ^libedit@3.1-20210216%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^libsharp@1.0.0%apple-clang@13.0.0~mpi~openmp+pic arch=darwin-monterey-skylake\r\n        ^autoconf@2.69%apple-clang@13.0.0 patches=35c449281546376449766f92d49fc121ca50e330e60fefcfc9be2af3253082c2,7793209b33013dc0f81208718c68440c5aae80e7a1c4b8d336e382525af791a7,a49dd5bac3b62daa0ff688ab4d508d71dbd2f4f8d7e2a02321926346161bf3ee arch=darwin-monterey-skylake\r\n            ^m4@1.4.19%apple-clang@13.0.0+sigsegv patches=9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573,bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89 arch=darwin-monterey-skylake\r\n                ^libsigsegv@2.13%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^libxsmm@1.17%apple-clang@13.0.0~debug~generator~header-only~shared arch=darwin-monterey-skylake\r\n        ^python@3.9.9%apple-clang@13.0.0+bz2+ctypes+dbm~debug+ensurepip+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87,4c2457325f2b608b1b6a2c63087df8c26e07db3e3d493caf36a56f0ecf6fb768,f2fd060afc4b4618fe8104c4c5d771f36dc55b1db5a4623785a4ea707ec72fb4 arch=darwin-monterey-skylake\r\n            ^apple-libuuid@1353.100.2%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^expat@2.4.3%apple-clang@13.0.0~libbsd arch=darwin-monterey-skylake\r\n            ^gettext@0.21%apple-clang@13.0.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-monterey-skylake\r\n                ^tar@1.34%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^libffi@3.3%apple-clang@13.0.0 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=darwin-monterey-skylake\r\n            ^sqlite@3.37.1%apple-clang@13.0.0+column_metadata+dynamic_extensions+fts~functions+rtree arch=darwin-monterey-skylake\r\n    ^ninja@1.10.2%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^yaml-cpp@0.7.0%apple-clang@13.0.0~ipo+pic+shared~tests build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n\r\neschnett@redshift:~/Cactus (10:49:15)\r\n$ spack debug report\r\n* **Spack:** 0.17.1-926-9ac207c901\r\n* **Python:** 3.8.9\r\n* **Platform:** darwin-monterey-skylake\r\n* **Concretizer:** clingo\r\neschnett@redshift:~/Cactus (10:49:55)\r\n$ spack --debug spec spectre %gcc\r\n==> [2022-01-21-10:50:31.250854] Imported spec from built-in commands\r\n==> [2022-01-21-10:50:31.252069] Imported spec from built-in commands\r\nInput spec\r\n--------------------------------\r\nspectre%gcc\r\n\r\nConcretized\r\n--------------------------------\r\n==> [2022-01-21-10:50:31.253543] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/config.yaml\r\n==> [2022-01-21-10:50:31.274003] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/bootstrap.yaml\r\n==> [2022-01-21-10:50:31.283789] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/config.yaml\r\n==> [2022-01-21-10:50:31.303874] DATABASE LOCK TIMEOUT: 3s\r\n==> [2022-01-21-10:50:31.303951] PACKAGE LOCK TIMEOUT: No timeout\r\n==> [2022-01-21-10:50:31.304392] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/bootstrap.yaml\r\n==> [2022-01-21-10:50:31.312496] DATABASE LOCK TIMEOUT: 3s\r\n==> [2022-01-21-10:50:31.312562] PACKAGE LOCK TIMEOUT: No timeout\r\n==> [2022-01-21-10:50:31.312650] [BOOTSTRAP CONFIG SCOPE] name=_builtin\r\n==> [2022-01-21-10:50:31.313004] [BOOTSTRAP CONFIG SCOPE] name=defaults, path=/Users/eschnett/src/spack/etc/spack/defaults\r\n==> [2022-01-21-10:50:31.313055] [BOOTSTRAP CONFIG SCOPE] name=defaults/darwin, path=/Users/eschnett/src/spack/etc/spack/defaults/darwin\r\n==> [2022-01-21-10:50:31.313102] [BOOTSTRAP CONFIG SCOPE] name=bootstrap, path=/Users/eschnett/.spack/bootstrap/config\r\n==> [2022-01-21-10:50:31.313143] [BOOTSTRAP CONFIG SCOPE] name=bootstrap/darwin, path=/Users/eschnett/.spack/bootstrap/config/darwin\r\n==> [2022-01-21-10:50:31.313477] Reading config file /Users/eschnett/.spack/bootstrap/config/darwin/compilers.yaml\r\n==> [2022-01-21-10:50:31.361236] [BOOTSTRAP ROOT SPEC] clingo-bootstrap@spack+python %apple-clang target=x86_64\r\n==> [2022-01-21-10:50:31.361525] [BOOTSTRAP MODULE clingo] Try importing from Python\r\n==> [2022-01-21-10:50:31.362212] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/bootstrap.yaml\r\n==> [2022-01-21-10:50:31.512815] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/config.yaml\r\n==> [2022-01-21-10:50:31.611149] [BOOTSTRAP MODULE clingo] The installed spec \"clingo-bootstrap@spack+python %apple-clang target=x86_64 ^python@3.8 /p5on7i4hejl775ezndzfdkhvwra3hatn\" provides the \"clingo\" Python module\r\n==> [2022-01-21-10:50:31.612199] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/repos.yaml\r\n==> [2022-01-21-10:50:33.220392] Reading config file /Users/eschnett/.spack/darwin/compilers.yaml\r\n==> [2022-01-21-10:50:33.231653] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/config.yaml\r\n==> [2022-01-21-10:50:33.251501] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/packages.yaml\r\n==> [2022-01-21-10:50:33.281567] Reading config file /Users/eschnett/src/spack/etc/spack/defaults/darwin/packages.yaml\r\n==> [2022-01-21-10:50:43.085904] build(spectre)\r\n==> [2022-01-21-10:50:43.085999] build(blaze)\r\n==> [2022-01-21-10:50:43.086044] build(boost)\r\n==> [2022-01-21-10:50:43.086081] build(brigand)\r\n==> [2022-01-21-10:50:43.086117] build(charmpp)\r\n==> [2022-01-21-10:50:43.086152] build(cmake)\r\n==> [2022-01-21-10:50:43.086187] build(gsl)\r\n==> [2022-01-21-10:50:43.086222] build(hdf5)\r\n==> [2022-01-21-10:50:43.086256] build(libsharp)\r\n==> [2022-01-21-10:50:43.086290] build(libxsmm)\r\n==> [2022-01-21-10:50:43.086376] build(ninja)\r\n==> [2022-01-21-10:50:43.086431] build(python)\r\n==> [2022-01-21-10:50:43.086471] build(yaml-cpp)\r\n==> [2022-01-21-10:50:43.086509] build(openblas)\r\n==> [2022-01-21-10:50:43.086546] build(autoconf)\r\n==> [2022-01-21-10:50:43.086589] build(zlib)\r\n==> [2022-01-21-10:50:43.086625] build(perl)\r\n==> [2022-01-21-10:50:43.086660] build(pkgconf)\r\n==> [2022-01-21-10:50:43.086696] build(libffi)\r\n==> [2022-01-21-10:50:43.086781] build(gdbm)\r\n==> [2022-01-21-10:50:43.086834] build(gettext)\r\n==> [2022-01-21-10:50:43.086877] build(readline)\r\n==> [2022-01-21-10:50:43.086915] build(sqlite)\r\n==> [2022-01-21-10:50:43.086956] build(m4)\r\n==> [2022-01-21-10:50:43.086994] build(ncurses)\r\n==> [2022-01-21-10:50:43.087029] build(xz)\r\n==> [2022-01-21-10:50:43.087063] build(expat)\r\n==> [2022-01-21-10:50:43.087099] build(openssl)\r\n==> [2022-01-21-10:50:43.087133] build(openmpi)\r\n==> [2022-01-21-10:50:43.087168] build(bzip2)\r\n==> [2022-01-21-10:50:43.087202] build(apple-libuuid)\r\n==> [2022-01-21-10:50:43.087237] build(libiconv)\r\n==> [2022-01-21-10:50:43.087272] build(berkeley-db)\r\n==> [2022-01-21-10:50:43.087306] build(libevent)\r\n==> [2022-01-21-10:50:43.087340] build(openssh)\r\n==> [2022-01-21-10:50:43.087375] build(diffutils)\r\n==> [2022-01-21-10:50:43.087409] build(libxml2)\r\n==> [2022-01-21-10:50:43.087443] build(libsigsegv)\r\n==> [2022-01-21-10:50:43.087477] build(tar)\r\n==> [2022-01-21-10:50:43.087511] build(hwloc)\r\n==> [2022-01-21-10:50:43.087545] build(libedit)\r\n==> [2022-01-21-10:50:43.148251] Ordered hashes [spectre]: spectre/18/767f7b29f617c0aa0e363ef45ab7dda41d440c309529829e9e9c65e9d76530d6, spectre/19/eb6094028530d9f28cb9c91a90b4af908cc537c8525fb4c81b11c74fd0354932, spectre/20/912877d4f553adff8b6df8264c50600c1e6d5a9c3ad18be0b86c9d801c07699c, spectre/21/bf539feb01d01e178889828dbbe5e990e8ee58c9e971d8634845c70a7cfb42a9, spectre/23/eb50b31af79d1e6b6535503bc30a9c5efd2ce36bd3638a2b3ab02af44bac6de3, spectre/24/65416aab51ccf13ae7fb7296389f8bf637698e56f4a12720cc57221d04988772, spectre/25/160d55bb2537ea8f3937cea59a9a0fd56a2bfef856bb7fd8e9dceb504c04836c, spectre/26/07be176ca4dda74a2dd8e71c31dab638a9f3567c3a58eb7fddbfde001646fb8c\r\n==> [2022-01-21-10:50:43.148458] Ordered hashes [ncurses]: ncurses/72/3970661b2954b2946eb98956a7f08bba10c98264a6123c99dcede83224f07501\r\n==> [2022-01-21-10:50:43.148680] Ordered hashes [berkeley-db]: berkeley-db/75/b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522, berkeley-db/76/9f5b54a48a270ce405f0f77039fab86f40b1698dc522871b106402f4663b1273\r\n==> [2022-01-21-10:50:43.148886] Ordered hashes [boost]: boost/363/50d23a9985c29fc532a79924e860d98a9f290175e8bbdaa67066a6258842be26\r\n==> [2022-01-21-10:50:43.149103] Ordered hashes [autoconf]: autoconf/38/7793209b33013dc0f81208718c68440c5aae80e7a1c4b8d336e382525af791a7, autoconf/39/35c449281546376449766f92d49fc121ca50e330e60fefcfc9be2af3253082c2, autoconf/40/a49dd5bac3b62daa0ff688ab4d508d71dbd2f4f8d7e2a02321926346161bf3ee\r\n==> [2022-01-21-10:50:43.149178] Ordered hashes [m4]: m4/52/bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89, m4/53/9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573\r\n==> [2022-01-21-10:50:43.149493] Ordered hashes [python]: python/97/0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87, python/98/f2fd060afc4b4618fe8104c4c5d771f36dc55b1db5a4623785a4ea707ec72fb4, python/100/4c2457325f2b608b1b6a2c63087df8c26e07db3e3d493caf36a56f0ecf6fb768\r\n==> [2022-01-21-10:50:43.149694] Ordered hashes [libffi]: libffi/121/26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0\r\nspectre@2022.01.03%gcc@11.2.0~doc+formaline~ipo~profiling~python build_type=RelWithDebInfo executables=none memory_allocator=system patches=07be176ca4dda74a2dd8e71c31dab638a9f3567c3a58eb7fddbfde001646fb8c,160d55bb2537ea8f3937cea59a9a0fd56a2bfef856bb7fd8e9dceb504c04836c,65416aab51ccf13ae7fb7296389f8bf637698e56f4a12720cc57221d04988772,767f7b29f617c0aa0e363ef45ab7dda41d440c309529829e9e9c65e9d76530d6,912877d4f553adff8b6df8264c50600c1e6d5a9c3ad18be0b86c9d801c07699c,bf539feb01d01e178889828dbbe5e990e8ee58c9e971d8634845c70a7cfb42a9,eb50b31af79d1e6b6535503bc30a9c5efd2ce36bd3638a2b3ab02af44bac6de3,eb6094028530d9f28cb9c91a90b4af908cc537c8525fb4c81b11c74fd0354932 arch=darwin-monterey-skylake\r\n    ^blaze@3.8%apple-clang@13.0.0~ipo build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n        ^cmake@3.22.1%apple-clang@13.0.0~doc+ncurses+openssl+ownlibs~qt build_type=Release arch=darwin-monterey-skylake\r\n            ^ncurses@6.2%apple-clang@13.0.0~symlinks+termlib abi=none patches=3970661b2954b2946eb98956a7f08bba10c98264a6123c99dcede83224f07501 arch=darwin-monterey-skylake\r\n                ^pkgconf@1.8.0%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^openssl@1.1.1m%apple-clang@13.0.0~docs certs=system arch=darwin-monterey-skylake\r\n                ^perl@5.34.0%apple-clang@13.0.0+cpanm+shared+threads arch=darwin-monterey-skylake\r\n                    ^berkeley-db@18.1.40%apple-clang@13.0.0+cxx~docs+stl patches=9f5b54a48a270ce405f0f77039fab86f40b1698dc522871b106402f4663b1273,b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=darwin-monterey-skylake\r\n                    ^bzip2@1.0.8%apple-clang@13.0.0~debug~pic+shared arch=darwin-monterey-skylake\r\n                        ^diffutils@3.8%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                            ^libiconv@1.16%apple-clang@13.0.0 libs=shared,static arch=darwin-monterey-skylake\r\n                    ^gdbm@1.19%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                        ^readline@8.1%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                    ^zlib@1.2.11%apple-clang@13.0.0+optimize+pic+shared arch=darwin-monterey-skylake\r\n        ^openblas@0.3.19%apple-clang@13.0.0~bignuma~consistent_fpcsr~ilp64+locking+pic+shared symbol_suffix=none threads=none arch=darwin-monterey-skylake\r\n    ^boost@1.78.0%apple-clang@13.0.0+atomic+chrono~clanglibcpp~container~context~coroutine+date_time~debug+exception~fiber+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout+wave cxxstd=98 patches=50d23a9985c29fc532a79924e860d98a9f290175e8bbdaa67066a6258842be26 visibility=hidden arch=darwin-monterey-skylake\r\n    ^brigand@master%apple-clang@13.0.0~ipo build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n    ^charmpp@7.0.0%apple-clang@13.0.0~cuda~omp~papi+production~pthreads+shared+smp~syncft~tcp~tracing backend=netlrts build-target=LIBS pmi=none arch=darwin-monterey-skylake\r\n    ^gsl@2.7%gcc@11.2.0~external-cblas arch=darwin-monterey-skylake\r\n    ^hdf5@1.12.1%apple-clang@13.0.0~cxx~fortran~hl~ipo~java+mpi+shared~szip~threadsafe+tools api=default build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n        ^openmpi@4.1.2%apple-clang@13.0.0~atomics~cuda~cxx~cxx_exceptions+gpfs~internal-hwloc~java~legacylaunchers~lustre~memchecker~pmi~pmix+romio~singularity~sqlite3+static~thread_multiple+vt+wrapper-rpath fabrics=none schedulers=none arch=darwin-monterey-skylake\r\n            ^hwloc@2.7.0%apple-clang@13.0.0~cairo~cuda~gl~libudev+libxml2~netloc~nvml~opencl~pci~rocm+shared arch=darwin-monterey-skylake\r\n                ^libxml2@2.9.12%apple-clang@13.0.0~python arch=darwin-monterey-skylake\r\n                    ^xz@5.2.5%apple-clang@13.0.0~pic libs=shared,static arch=darwin-monterey-skylake\r\n            ^libevent@2.1.12%apple-clang@13.0.0+openssl arch=darwin-monterey-skylake\r\n            ^openssh@8.8p1%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n                ^libedit@3.1-20210216%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^libsharp@1.0.0%apple-clang@13.0.0~mpi~openmp+pic arch=darwin-monterey-skylake\r\n        ^autoconf@2.69%apple-clang@13.0.0 patches=35c449281546376449766f92d49fc121ca50e330e60fefcfc9be2af3253082c2,7793209b33013dc0f81208718c68440c5aae80e7a1c4b8d336e382525af791a7,a49dd5bac3b62daa0ff688ab4d508d71dbd2f4f8d7e2a02321926346161bf3ee arch=darwin-monterey-skylake\r\n            ^m4@1.4.19%apple-clang@13.0.0+sigsegv patches=9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573,bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89 arch=darwin-monterey-skylake\r\n                ^libsigsegv@2.13%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^libxsmm@1.17%apple-clang@13.0.0~debug~generator~header-only~shared arch=darwin-monterey-skylake\r\n        ^python@3.9.9%apple-clang@13.0.0+bz2+ctypes+dbm~debug+ensurepip+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87,4c2457325f2b608b1b6a2c63087df8c26e07db3e3d493caf36a56f0ecf6fb768,f2fd060afc4b4618fe8104c4c5d771f36dc55b1db5a4623785a4ea707ec72fb4 arch=darwin-monterey-skylake\r\n            ^apple-libuuid@1353.100.2%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^expat@2.4.3%apple-clang@13.0.0~libbsd arch=darwin-monterey-skylake\r\n            ^gettext@0.21%apple-clang@13.0.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-monterey-skylake\r\n                ^tar@1.34%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n            ^libffi@3.3%apple-clang@13.0.0 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=darwin-monterey-skylake\r\n            ^sqlite@3.37.1%apple-clang@13.0.0+column_metadata+dynamic_extensions+fts~functions+rtree arch=darwin-monterey-skylake\r\n    ^ninja@1.10.2%apple-clang@13.0.0 arch=darwin-monterey-skylake\r\n    ^yaml-cpp@0.7.0%apple-clang@13.0.0~ipo+pic+shared~tests build_type=RelWithDebInfo arch=darwin-monterey-skylake\r\n```\r\n\n\n### Information on your system\n\n```\r\n$ spack debug report\r\n* **Spack:** 0.17.1-926-9ac207c901\r\n* **Python:** 3.8.9\r\n* **Platform:** darwin-monterey-skylake\r\n* **Concretizer:** clingo\r\n```\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have searched the issues of this repo and believe this is not a duplicate\n- [X] I have run the failing commands in debug mode and reported the output",
    "user": "eschnett",
    "url": "https://api.github.com/repos/spack/spack/issues/28541",
    "updated_at": "2022-01-21 15:51:57",
    "created_at": "2022-01-21 15:51:57",
    "closed_at": "None",
    "state": "open",
    "title": "Spack does not ensure C++ ABI compatibility",
    "number": 28541,
    "milestone": null,
    "labels": [
        "bug",
        "triage"
    ],
    "id": 1110626585,
    "html_url": "https://github.com/spack/spack/issues/28541",
    "assignees": [],
    "comments": 0
}