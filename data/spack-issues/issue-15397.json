{
    "body": "### Spack version\r\n\r\n```console\r\n$ spack --version\r\n0.14.0-150-ce287bc\r\n```\r\n\r\n### Discussion\r\n\r\nCan we default this to off?  Right now anybody bringing in any opengl dependency gets llvm forced on them.  I was surprised to see llvm building (and ultimately fail) for `py-matplotlib %gcc`.  The new package seems nice / it's cool to have different stuff in there, but this is a _huge_ dependency to bring in automatically for something like `mesa` in my opinion.\r\n\r\n### General information\r\n\r\n- [x] I have run `spack --version` and reported the version of Spack\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n    - Seems to be cause of https://github.com/spack/spack/issues/8074\r\n    - Introduced in https://github.com/spack/spack/pull/10482\r\n        - CC: @chuckatkins (you know what's going on here best! :))\r\n- ~I have run the failing commands in debug mode and reported the output~",
    "user": "svenevs",
    "url": "https://api.github.com/repos/spack/spack/issues/15397",
    "updated_at": "2020-03-09 18:01:22",
    "created_at": "2020-03-09 08:42:18",
    "closed_at": "2020-03-09 18:01:21",
    "state": "closed",
    "title": "mesa should default to ~llvm",
    "number": 15397,
    "milestone": null,
    "labels": [
        "bug",
        "triage"
    ],
    "id": 577742056,
    "html_url": "https://github.com/spack/spack/issues/15397",
    "assignees": [],
    "comments": 2
}