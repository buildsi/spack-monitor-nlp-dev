{
    "body": "### Steps to reproduce the issue\n\n```\r\n% spack install --jobs 1 netcdf-cxx4\r\n[+] /Users/cessenat/Softs/spack/opt/spack/darwin-bigsur-skylake/apple-clang-11.0.0/netcdf-c-4.8.1-nhspe6pdexngkivhww4yqdpqifpthssa\r\n==> Installing netcdf-cxx4-4.3.1-cqmoty4pwryblx4c2xhipqesqtuvywvy\r\n==> No binary for netcdf-cxx4-4.3.1-cqmoty4pwryblx4c2xhipqesqtuvywvy found: installing from source\r\n/Users/cessenat/Softs/spack/lib/spack/spack/target.py:137: UserWarning: microarchitecture specific optimizations are not supported yet on mixed compiler toolchains [check apple-clang@11.0.0 for further details]\r\n  warnings.warn(msg.format(compiler))\r\n==> Using cached archive: /Users/cessenat/Softs/spack/var/spack/cache/_source-cache/archive/6a/6a1189a181eed043b5859e15d5c080c30d0e107406fbb212c8fb9814e90f3445.tar.gz\r\n==> No patches needed for netcdf-cxx4\r\n==> netcdf-cxx4: Executing phase: 'autoreconf'\r\n==> netcdf-cxx4: Executing phase: 'configure'\r\n==> netcdf-cxx4: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' 'V=1'\r\n\r\n22 errors found in build log:\r\n     204    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string:506:\r\n     205    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string_view:175:\r\n     206    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__string:57:\r\n     207    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/algorithm:639:\r\n     208    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/initializer_list:46:\r\n     209    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/cstddef:37:\r\n  >> 210    ../version:1:1: error: expected external declaration\r\n     211    -n 4.3.1\r\n     212    ^\r\n  >> 213    ../version:1:2: error: unknown type name 'n'\r\n     214    -n 4.3.1\r\n     215     ^\r\n  >> 216    ../version:1:4: error: expected unqualified-id\r\n     217    -n 4.3.1\r\n     218       ^\r\n     219    In file included from ncAtt.cpp:1:\r\n     220    In file included from ./ncAtt.h:1:\r\n     221    In file included from ./ncType.h:1:\r\n     222    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string:506:\r\n     223    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string_view:175:\r\n     224    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__string:57:\r\n     225    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/algorithm:639:\r\n     226    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/initializer_list:46:\r\n  >> 227    /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/cstddef:49:9: error: no member named 'ptrdiff_t\r\n            ' in the global namespace\r\n     228    using ::ptrdiff_t;\r\n     229          ~~^\r\n     230    In file included from ncAtt.cpp:1:\r\n     231    In file included from ./ncAtt.h:1:\r\n     232    In file included from ./ncType.h:1:\r\n     233    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string:506:\r\n     234    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string_view:175:\r\n     235    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__string:57:\r\n     236    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/algorithm:640:\r\n     237    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/type_traits:418:\r\n  >> 238    ../version:1:1: error: expected external declaration\r\n     239    -n 4.3.1\r\n     240    ^\r\n  >> 241    ../version:1:2: error: unknown type name 'n'\r\n     242    -n 4.3.1\r\n     243     ^\r\n  >> 244    ../version:1:4: error: expected unqualified-id\r\n     245    -n 4.3.1\r\n     246       ^\r\n     247    In file included from ncAtt.cpp:1:\r\n     248    In file included from ./ncAtt.h:1:\r\n     249    In file included from ./ncType.h:1:\r\n     250    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string:506:\r\n     251    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string_view:175:\r\n     252    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__string:57:\r\n     253    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/algorithm:642:\r\n     254    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/utility:205:\r\n  >> 255    ../version:1:1: error: expected external declaration\r\n     256    -n 4.3.1\r\n     257    ^\r\n  >> 258    ../version:1:2: error: unknown type name 'n'\r\n     259    -n 4.3.1\r\n     260     ^\r\n  >> 261    ../version:1:4: error: expected unqualified-id\r\n     262    -n 4.3.1\r\n     263       ^\r\n     264    In file included from ncAtt.cpp:1:\r\n     265    In file included from ./ncAtt.h:1:\r\n     266    In file included from ./ncType.h:1:\r\n     267    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string:506:\r\n     268    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string_view:175:\r\n     269    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__string:57:\r\n     270    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/algorithm:643:\r\n     271    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/memory:668:\r\n     272    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/typeinfo:60:\r\n     273    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/exception:83:\r\n  >> 274    ../version:1:1: error: expected external declaration\r\n     275    -n 4.3.1\r\n     276    ^\r\n  >> 277    ../version:1:2: error: unknown type name 'n'\r\n     278    -n 4.3.1\r\n     279     ^\r\n  >> 280    ../version:1:4: error: expected unqualified-id\r\n     281    -n 4.3.1\r\n     282       ^\r\n     283    In file included from ncAtt.cpp:1:\r\n     284    In file included from ./ncAtt.h:1:\r\n     285    In file included from ./ncType.h:1:\r\n     286    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string:506:\r\n     287    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string_view:175:\r\n     288    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__string:57:\r\n     289    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/algorithm:643:\r\n     290    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/memory:671:\r\n     291    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/new:93:\r\n  >> 292    ../version:1:1: error: expected external declaration\r\n     293    -n 4.3.1\r\n     294    ^\r\n  >> 295    ../version:1:2: error: unknown type name 'n'\r\n     296    -n 4.3.1\r\n     297     ^\r\n  >> 298    ../version:1:4: error: expected unqualified-id\r\n     299    -n 4.3.1\r\n     300       ^\r\n     301    In file included from ncAtt.cpp:1:\r\n     302    In file included from ./ncAtt.h:1:\r\n     303    In file included from ./ncType.h:1:\r\n     304    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string:506:\r\n     305    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/string_view:175:\r\n     306    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/__string:57:\r\n     307    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/algorithm:643:\r\n     308    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/memory:673:\r\n     309    In file included from /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/c++/v1/limits:121:\r\n  >> 310    ../version:1:1: error: expected external declaration\r\n     311    -n 4.3.1\r\n     312    ^\r\n  >> 313    ../version:1:2: error: unknown type name 'n'\r\n     314    -n 4.3.1\r\n     315     ^\r\n  >> 316    ../version:1:4: error: expected unqualified-id\r\n     317    -n 4.3.1\r\n     318       ^\r\n     319    fatal error: too many errors emitted, stopping now [-ferror-limit=]\r\n     320    20 errors generated.\r\n  >> 321    make[2]: *** [ncAtt.lo] Error 1\r\n  >> 322    make[1]: *** [all-recursive] Error 1\r\n  >> 323    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /var/folders/53/vwnr5jhj4h3cgvt1y6w3wgmh0000gn/T/cessenat/spack-stage/spack-stage-netcdf-cxx4-4.3.1-cqmoty4pwryblx4c2xhipqesqtuvywvy/spack-build-out.txt\r\n\r\n```\r\n\n\n### Information on your system\n\n% spack debug report                        \r\n* **Spack:** 0.16.1-4783-199bd9f8f8\r\n* **Python:** 3.8.2\r\n* **Platform:** darwin-bigsur-skylake\r\n* **Concretizer:** clingo\r\n\n\n### Additional information\n\n% spack maintainers netcdf-cxx4\r\n@WardF\r\n[spack-build-env.txt](https://github.com/spack/spack/files/7295152/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7295153/spack-build-out.txt)\r\n\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "cessenat",
    "url": "https://api.github.com/repos/spack/spack/issues/26559",
    "updated_at": "2022-01-10 19:20:23",
    "created_at": "2021-10-06 15:14:47",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: netcdf-cxx4 on MacOS BigSur",
    "number": 26559,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1018540508,
    "html_url": "https://github.com/spack/spack/issues/26559",
    "assignees": [],
    "comments": 4
}