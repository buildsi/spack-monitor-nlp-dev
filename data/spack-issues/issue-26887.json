{
    "body": "### Steps to reproduce the issue\n\nspack install curl +gssapi+ldap+libidn2+libssh+libssh2\r\n\n\n### Information on your system\n\n* **Spack:** 0.16.2-4004-a68701c636\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos7-westmere\r\n* **Concretizer:** original\r\n\n\n### Additional information\n\nThe build failed with:\r\n```\r\n1 error found in build log:                                                                                                                                                                   \r\n     181    configure: found both libz and libz.h header                                                                                                                                      \r\n     182    checking for lber.h... no                                                                                                                                                         \r\n     183    checking for ldap.h... no                                                                                                                                                         \r\n     184    checking for ldapssl.h... no\r\n     185    checking for ldap_ssl.h... no\r\n     186    checking for LDAP libraries... cannot find LDAP libraries\r\n  >> 187    configure: error: couldn't detect the LDAP libraries\r\n\r\n```\r\nSimilarly, if build with `+rtmp`, it fails with:\r\n```\r\n1 error found in build log:                                                                                                                                                                   \r\n     241    checking libssh2.h usability... yes                                                                                                                                               \r\n     242    checking libssh2.h presence... yes                                                                                                                                                \r\n     243    checking for libssh2.h... yes                                                                                                                                                     \r\n     244    configure: Added /home/aznb/spack/opt/spack/linux-centos7-nehalem/gcc-4.8.5/libssh2-1.8.0-oo7sew75vzaeyyguhrzbynmya4uj5w6k/lib64 to CURL_LIBRARY_PATH          \r\n     245    checking for pkg-config... (cached) /bin/pkg-config                                                                                                                               \r\n     246    checking for librtmp options with pkg-config... no                                                                                                                                \r\n  >> 247    configure: error: --librtmp was specified but could not find librtmp pkgconfig file.  \r\n```\r\n@adamjstewart Since I saw https://github.com/spack/spack/pull/25553\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "Char-Aznable",
    "url": "https://api.github.com/repos/spack/spack/issues/26887",
    "updated_at": "2021-10-22 00:47:58",
    "created_at": "2021-10-21 21:36:13",
    "closed_at": "None",
    "state": "open",
    "title": "curl: wrong setup for dependency ldap and rtmp",
    "number": 26887,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1032961766,
    "html_url": "https://github.com/spack/spack/issues/26887",
    "assignees": [],
    "comments": 1
}