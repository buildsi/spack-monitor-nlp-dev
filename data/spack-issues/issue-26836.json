{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack install diffutils%intel\r\n```\n\n### Information on your system\n\n```\r\n* **Spack:** 0.16.3-4939-501fa6767b\r\n* **Python:** 3.9.7\r\n* **Platform:** linux-archrolling-ivybridge\r\n* **Concretizer:** clingo\r\n```\r\n\r\nI've installed Intel oneAPI and made the compilers available according to the official documentation\r\n\r\n```\r\nspack install intel-oneapi-compilers \r\nspack compiler add `spack location -i intel-oneapi-compilers`/compiler/latest/linux/bin/intel64\r\nspack compiler add `spack location -i intel-oneapi-compilers`/compiler/latest/linux/bin\r\n```\n\n### Additional information\n\nerror message\r\n\r\n```\r\n==> Installing diffutils-3.8-e5546wgijpyqsc7pa4sfpb27atrfndm7\r\n==> No binary for diffutils-3.8-e5546wgijpyqsc7pa4sfpb27atrfndm7 found: installing from source\r\n==> Using cached archive: /home/m/Packages/spack/var/spack/cache/_source-cache/archive/a6/a6bdd7d1b31266d11c4f4de6c1b748d4607ab0231af5188fc2533d0ae2438fec.tar.xz\r\n==> No patches needed for diffutils\r\n==> diffutils: Executing phase: 'autoreconf'\r\n==> diffutils: Executing phase: 'configure'\r\n==> diffutils: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8' 'V=1'\r\n\r\n1 error found in build log:\r\n     1646    /home/m/Packages/spack/lib/spack/env/intel/icc  -I. -I/tmp/m/spack-stage/spack-stage-diffutils-3.8-e5546wgijpyqs\r\n             c7pa4sfpb27atrfndm7/spack-src/lib      -g -O2 -MT c-strncasecmp.o -MD -MP -MF $depbase.Tpo -c -o c-strncasecmp.o\r\n              /tmp/m/spack-stage/spack-stage-diffutils-3.8-e5546wgijpyqsc7pa4sfpb27atrfndm7/spack-src/lib/c-strncasecmp.c &&\\\r\n     1647    mv -f $depbase.Tpo $depbase.Po\r\n     1648    depbase=`echo careadlinkat.o | sed 's|[^/]*$|.deps/&|;s|\\.o$||'`;\\\r\n     1649    /home/m/Packages/spack/lib/spack/env/intel/icc  -I. -I/tmp/m/spack-stage/spack-stage-diffutils-3.8-e5546wgijpyqs\r\n             c7pa4sfpb27atrfndm7/spack-src/lib      -g -O2 -MT careadlinkat.o -MD -MP -MF $depbase.Tpo -c -o careadlinkat.o /\r\n             tmp/m/spack-stage/spack-stage-diffutils-3.8-e5546wgijpyqsc7pa4sfpb27atrfndm7/spack-src/lib/careadlinkat.c &&\\\r\n     1650    mv -f $depbase.Tpo $depbase.Po\r\n     1651    In file included from /tmp/m/spack-stage/spack-stage-diffutils-3.8-e5546wgijpyqsc7pa4sfpb27atrfndm7/spack-src/li\r\n             b/argmatch.c(35):\r\n  >> 1652    /tmp/m/spack-stage/spack-stage-diffutils-3.8-e5546wgijpyqsc7pa4sfpb27atrfndm7/spack-src/lib/quotearg.h(280): err\r\n             or: attribute \"__malloc__\" does not take arguments\r\n     1653        _GL_ATTRIBUTE_MALLOC _GL_ATTRIBUTE_DEALLOC_FREE\r\n     1654                             ^\r\n     1655\r\n     1656    compilation aborted for /tmp/m/spack-stage/spack-stage-diffutils-3.8-e5546wgijpyqsc7pa4sfpb27atrfndm7/spack-src/\r\n             lib/argmatch.c (code 2)\r\n     1657    make[2]: *** [Makefile:2319: argmatch.o] Error 2\r\n     1658    make[2]: *** Waiting for unfinished jobs....\r\n```\r\nFiles:\r\n\r\n- [spack-build-env.txt](https://github.com/spack/spack/files/7376786/spack-build-env.txt)\r\n- [spack-build-env-mods.txt](https://github.com/spack/spack/files/7376787/spack-build-env-mods.txt)\r\n- [spack-build-out.txt](https://github.com/spack/spack/files/7376788/spack-build-out.txt)\r\n\r\n\r\n\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "MarDiehl",
    "url": "https://api.github.com/repos/spack/spack/issues/26836",
    "updated_at": "2021-10-21 15:50:46",
    "created_at": "2021-10-19 21:36:44",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: diffutils%intel",
    "number": 26836,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1030765166,
    "html_url": "https://github.com/spack/spack/issues/26836",
    "assignees": [],
    "comments": 1
}