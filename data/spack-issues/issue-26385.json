{
    "body": "### Steps to reproduce the issue\n\n```$ ./spack install grace```\r\n\r\n\r\n\r\n```$ ./spack maintainers grace ```\r\n@RemiLacroix-IDRIS\n\n### Information on your system\n\n```\r\n$ ./spack debug report \r\n* **Spack:** 0.16.3-4546-af54f7b15b\r\n* **Python:** 3.6.6\r\n* **Platform:** linux-rhel8-nehalem\r\n* **Concretizer:** clingo\r\n```\n\n### Additional information\n\nerrors on the screen during attempt to install\r\n\r\n```\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/tmp/verastov/spack-stage/spack-stage-berkeley-db-18.1.40-yrpwph5ofibzlgiwzi3zdngtnrxqvkne/spack-src/dist/configure' '--prefix=/lustre/home/sc068/shared/SOFTWARE/spack/opt/spack/linux-rhel8-nehalem/gcc-8.3.1/berkeley-db-18.1.40-yrpwph5ofibzlgiwzi3zdngtnrxqvkne' '--disable-static' '--enable-dbm' '--enable-compat185' '--with-repmgr-ssl=no' '--enable-cxx' '--enable-stl'\r\n\r\n2 errors found in build log:\r\n     69    checking for inline... inline\r\n     70    checking for GCC aligned attribute... yes\r\n     71    checking for g++... g++\r\n     72    checking whether we are using the GNU C++ compiler... no\r\n     73    checking whether g++ accepts -g... no\r\n     74    checking how to run the C++ preprocessor... /lib/cpp\r\n  >> 75    configure: error: in `/tmp/verastov/spack-stage/spack-stage-berkeley-db-18.1.40-yrpwph5ofibzlgiwzi3zdngtnrxqvkne/spack-src/build_unix':\r\n  >> 76    configure: error: C++ preprocessor \"/lib/cpp\" fails sanity check\r\n     77    See `config.log' for more details\r\n\r\nSee build log for details:\r\n  /tmp/verastov/spack-stage/spack-stage-berkeley-db-18.1.40-yrpwph5ofibzlgiwzi3zdngtnrxqvkne/spack-build-out.txt\r\n\r\n==> Warning: Skipping build of perl-5.34.0-rto7ryz2mc2bhztc3pw23ive6bch7kxh since berkeley-db-18.1.40-yrpwph5ofibzlgiwzi3zdngtnrxqvkne failed\r\n==> Warning: Skipping build of bison-3.7.6-2vwrw2m56khvqdvpro3qv3mrjvux7kac since perl-5.34.0-rto7ryz2mc2bhztc3pw23ive6bch7kxh failed\r\n==> Warning: Skipping build of flex-2.6.3-6jssaluoyrvrd4vsjjylpjhxuu2hpsch since bison-3.7.6-2vwrw2m56khvqdvpro3qv3mrjvux7kac failed\r\n==> Warning: Skipping build of motif-2.3.8-kv5e4wq5iueslygk2cjpl45jprffo3id since flex-2.6.3-6jssaluoyrvrd4vsjjylpjhxuu2hpsch failed\r\n==> Warning: Skipping build of grace-5.1.25-jdr3m7gufpjxlqwzjzl2k6unud6dnhaw since motif-2.3.8-kv5e4wq5iueslygk2cjpl45jprffo3id failed\r\n==> Warning: Skipping build of autoconf-2.69-4m6y5vt6gfzp2c3ze6mfc72pqo5butob since perl-5.34.0-rto7ryz2mc2bhztc3pw23ive6bch7kxh failed\r\n==> Warning: Skipping build of numactl-2.0.14-tsbs3cekgucesyyv7undo6kdzuesoqto since autoconf-2.69-4m6y5vt6gfzp2c3ze6mfc72pqo5butob failed\r\n==> Warning: Skipping build of openmpi-4.1.1-rrlftwhrq7enn2xudnsrum37jaxwfewq since numactl-2.0.14-tsbs3cekgucesyyv7undo6kdzuesoqto failed\r\n==> Warning: Skipping build of hdf5-1.10.7-dk6bgdblguil2azhlcwjul7sjqqphojh since openmpi-4.1.1-rrlftwhrq7enn2xudnsrum37jaxwfewq failed\r\n==> Warning: Skipping build of netcdf-c-4.8.1-zajkwqgxrp3jwvtu5ogqtmkpdnkoboxb since hdf5-1.10.7-dk6bgdblguil2azhlcwjul7sjqqphojh failed\r\n==> Warning: Skipping build of fftw-2.1.5-oi4sklyjugzjbdolcrztrjq6inegcu56 since openmpi-4.1.1-rrlftwhrq7enn2xudnsrum37jaxwfewq failed\r\n==> Warning: Skipping build of automake-1.16.3-xbcvnwuohhue3qwnl6qiq4niihc62d7s since autoconf-2.69-4m6y5vt6gfzp2c3ze6mfc72pqo5butob failed\r\n==> Warning: Skipping build of font-util-1.3.2-ht7mcsfvnceup2p72g54nh6hmccio7p6 since automake-1.16.3-xbcvnwuohhue3qwnl6qiq4niihc62d7s failed\r\n==> Warning: Skipping build of fontconfig-2.13.93-qtlla52usdoiivxcbase7az3pqu4ppw4 since font-util-1.3.2-ht7mcsfvnceup2p72g54nh6hmccio7p6 failed\r\n==> Warning: Skipping build of libxft-2.3.2-6egsfzgdponhz2o2wqnjx55alkazam6n since fontconfig-2.13.93-qtlla52usdoiivxcbase7az3pqu4ppw4 failed\r\n==> Warning: Skipping build of libx11-1.7.0-eknfhoodkimz5dd6xgjoryhlbvvxcuvg since perl-5.34.0-rto7ryz2mc2bhztc3pw23ive6bch7kxh failed\r\n==> Warning: Skipping build of libxext-1.3.3-geikxahgxcdnp7ztatidf577vy7ljvny since libx11-1.7.0-eknfhoodkimz5dd6xgjoryhlbvvxcuvg failed\r\n==> Warning: Skipping build of libxp-1.0.3-3uimskbgwq6xmdjxeus5zcbf6sskni3p since libxext-1.3.3-geikxahgxcdnp7ztatidf577vy7ljvny failed\r\n==> Warning: Skipping build of libxmu-1.1.2-ryzab5t2dxcazdonn5x7wlempkwq7ejc since libxext-1.3.3-geikxahgxcdnp7ztatidf577vy7ljvny failed\r\n==> Warning: Skipping build of libxfixes-5.0.2-k6prpldjjrrl6yanshlmsxhowmowa32r since libx11-1.7.0-eknfhoodkimz5dd6xgjoryhlbvvxcuvg failed\r\n==> Warning: Skipping build of libxcomposite-0.4.4-qevqh6d62yzohw64q5mst4jqzog6hplf since libxfixes-5.0.2-k6prpldjjrrl6yanshlmsxhowmowa32r failed\r\n==> Warning: Skipping build of libxt-1.1.5-lc5d6niydukaebwhse3twi3o7uoyhz5o since libx11-1.7.0-eknfhoodkimz5dd6xgjoryhlbvvxcuvg failed\r\n==> Warning: Skipping build of libxrender-0.9.10-ds2rqx2oy2mw6svz2tjuomffkilyww7m since libx11-1.7.0-eknfhoodkimz5dd6xgjoryhlbvvxcuvg failed\r\n==> Warning: Skipping build of openssl-1.1.1l-3kp4jztm4oltdf7h2wrzevzd46bbv3gf since perl-5.34.0-rto7ryz2mc2bhztc3pw23ive6bch7kxh failed\r\n==> Warning: Skipping build of python-3.8.11-zbo5afduyoghju7alxlipn54sq6covxu since openssl-1.1.1l-3kp4jztm4oltdf7h2wrzevzd46bbv3gf failed\r\n==> Warning: Skipping build of openssh-8.7p1-fouo4ykeplqipmrx5v5uqowoc77jxsyb since openssl-1.1.1l-3kp4jztm4oltdf7h2wrzevzd46bbv3gf failed\r\n==> Warning: Skipping build of libevent-2.1.12-uk5xwh6bcx3dosz7zftwson2nplmy6is since openssl-1.1.1l-3kp4jztm4oltdf7h2wrzevzd46bbv3gf failed\r\n==> Warning: Skipping build of cmake-3.21.3-ii5n3mdbb3hp46brat76ggm2qm73vgqq since openssl-1.1.1l-3kp4jztm4oltdf7h2wrzevzd46bbv3gf failed\r\n==> Warning: Skipping build of libjpeg-turbo-2.1.0-fflf3esilyf42dlpgm4fj573dvm44ta4 since cmake-3.21.3-ii5n3mdbb3hp46brat76ggm2qm73vgqq failed\r\n\r\n```\r\n\r\n...\r\n\r\n```\r\n==> gperf: Executing phase: 'autoreconf'\r\n==> gperf: Executing phase: 'configure'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    '/tmp/verastov/spack-stage/spack-stage-gperf-3.1-7doi3e2djmhp6cnbmp3f3wimrnw54cj2/spack-src/configure' '--prefix=/lustre/home/sc068/shared/SOFTWARE/spack/opt/spack/linux-rhel8-nehalem/gcc-8.3.1/gperf-3.1-7doi3e2djmhp6cnbmp3f3wimrnw54cj2'\r\n\r\n3 errors found in build log:\r\n     18    checking for /lustre/home/sc068/shared/SOFTWARE/spack/lib/spack/env/gcc/gcc option to accept ISO C89... none needed\r\n     19    checking how to run the C preprocessor... /lustre/home/sc068/shared/SOFTWARE/spack/lib/spack/env/gcc/gcc -E\r\n     20    checking for g++... g++\r\n     21    checking whether we are using the GNU C++ compiler... no\r\n     22    checking whether g++ accepts -g... no\r\n     23    checking how to run the C++ preprocessor... /lib/cpp\r\n  >> 24    configure: error: in `/tmp/verastov/spack-stage/spack-stage-gperf-3.1-7doi3e2djmhp6cnbmp3f3wimrnw54cj2/spack-src/lib':\r\n  >> 25    configure: error: C++ preprocessor \"/lib/cpp\" fails sanity check\r\n     26    See `config.log' for more details\r\n  >> 27    configure: error: ./configure failed for lib\r\n\r\nSee build log for details:\r\n  /tmp/verastov/spack-stage/spack-stage-gperf-3.1-7doi3e2djmhp6cnbmp3f3wimrnw54cj2/spack-build-out.txt\r\n\r\n```\r\n\r\n...\r\n```\r\n==> No binary for bdftopcf-1.0.5-2p5p2rs6tryskpe4baen4fmhcvnjtqd7 found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/78/78a5ec945de1d33e6812167b1383554fda36e38576849e74a9039dc7364ff2c3.tar.gz\r\n==> No patches needed for bdftopcf\r\n==> bdftopcf: Executing phase: 'autoreconf'\r\n==> bdftopcf: Executing phase: 'configure'\r\n==> bdftopcf: Executing phase: 'build'\r\n==> bdftopcf: Executing phase: 'install'\r\n==> bdftopcf: Successfully installed bdftopcf-1.0.5-2p5p2rs6tryskpe4baen4fmhcvnjtqd7\r\n  Fetch: 0.13s.  Build: 6.23s.  Total: 6.36s.\r\n[+] /lustre/home/sc068/shared/SOFTWARE/spack/opt/spack/linux-rhel8-nehalem/gcc-8.3.1/bdftopcf-1.0.5-2p5p2rs6tryskpe4baen4fmhcvnjtqd7\r\n==> Error: grace-5.1.25-jdr3m7gufpjxlqwzjzl2k6unud6dnhaw: Package was not installed\r\n==> Error: Installation request failed.  Refer to reported errors for failing package(s).\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "punkpony",
    "url": "https://api.github.com/repos/spack/spack/issues/26385",
    "updated_at": "2021-10-04 08:16:00",
    "created_at": "2021-09-30 19:27:47",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: grace",
    "number": 26385,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1012543135,
    "html_url": "https://github.com/spack/spack/issues/26385",
    "assignees": [],
    "comments": 3
}