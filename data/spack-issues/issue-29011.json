{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack spec -I go-bootstrap\r\nInput spec\r\n--------------------------------\r\n -   go-bootstrap\r\n\r\nConcretized\r\n--------------------------------\r\n -   go-bootstrap@1.4-bootstrap-20171003%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]      ^git@2.35.1%apple-clang@13.0.0+man+nls+perl~svn~tcltk arch=darwin-monterey-x86_64\r\n[+]          ^autoconf@2.69%apple-clang@13.0.0 patches=35c449281546376449766f92d49fc121ca50e330e60fefcfc9be2af3253082c2,7793209b33013dc0f81208718c68440c5aae80e7a1c4b8d336e382525af791a7,a49dd5bac3b62daa0ff688ab4d508d71dbd2f4f8d7e2a02321926346161bf3ee arch=darwin-monterey-x86_64\r\n[+]              ^m4@1.4.19%apple-clang@13.0.0+sigsegv patches=9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573,bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89 arch=darwin-monterey-x86_64\r\n[+]                  ^libsigsegv@2.13%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]              ^perl@5.34.0%apple-clang@13.0.0+cpanm+shared+threads arch=darwin-monterey-x86_64\r\n[+]                  ^berkeley-db@18.1.40%apple-clang@13.0.0+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=darwin-monterey-x86_64\r\n[+]                  ^bzip2@1.0.8%apple-clang@13.0.0~debug~pic+shared arch=darwin-monterey-x86_64\r\n[+]                      ^diffutils@3.8%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]                          ^libiconv@1.16%apple-clang@13.0.0 libs=shared,static arch=darwin-monterey-x86_64\r\n[+]                  ^gdbm@1.19%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]                      ^readline@8.1%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]                          ^ncurses@6.2%apple-clang@13.0.0~symlinks+termlib abi=none arch=darwin-monterey-x86_64\r\n[+]                              ^pkgconf@1.8.0%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]                  ^zlib@1.2.11%apple-clang@13.0.0+optimize+pic+shared arch=darwin-monterey-x86_64\r\n[+]          ^automake@1.16.5%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]          ^curl@7.80.0%apple-clang@13.0.0~gssapi~ldap~libidn2~librtmp~libssh~libssh2~nghttp2 tls=secure_transport arch=darwin-monterey-x86_64\r\n[+]          ^expat@2.4.4%apple-clang@13.0.0~libbsd arch=darwin-monterey-x86_64\r\n[+]          ^gettext@0.21%apple-clang@13.0.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-monterey-x86_64\r\n[+]              ^libxml2@2.9.12%apple-clang@13.0.0~python arch=darwin-monterey-x86_64\r\n[+]                  ^xz@5.2.5%apple-clang@13.0.0~pic libs=shared,static arch=darwin-monterey-x86_64\r\n[+]              ^tar@1.34%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]          ^libidn2@2.3.0%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]              ^libunistring@0.9.10%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]          ^libtool@2.4.6%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]          ^openssh@8.6p1%apple-clang@13.0.0 arch=darwin-monterey-x86_64\r\n[+]          ^openssl@1.1.1m%apple-clang@13.0.0~docs certs=system arch=darwin-monterey-x86_64\r\n[+]          ^pcre2@10.36%apple-clang@13.0.0~jit+multibyte arch=darwin-monterey-x86_64\r\n```\r\n\n\n### Error message\n\n```\r\n==> Error: ProcessError: Command exited with status 2:\r\n    '/usr/local/bin/bash' 'make.bash'\r\n```\r\nand in the log:\r\n```\r\nfatal error: runtime: bsdthread_register error\r\n\r\nruntime stack:\r\nruntime.throw(0x3ed895)\r\n\t/rnsdhpc/code/spack/opt/spack/apple-clang-13.0.0/go-bootstrap/tdt5b4q/src/runtime/panic.go:491 +0xad fp=0x7ff7bfefbaf0 sp=0x7ff7bfefbac0\r\nruntime.goenvs()\r\n\t/rnsdhpc/code/spack/opt/spack/apple-clang-13.0.0/go-bootstrap/tdt5b4q/src/runtime/os_darwin.c:104 +0x70 fp=0x7ff7bfefbb08 sp=0x7ff7bfefbaf0\r\nruntime.schedinit()\r\n\t/rnsdhpc/code/spack/opt/spack/apple-clang-13.0.0/go-bootstrap/tdt5b4q/src/runtime/proc.c:141 +0x5f fp=0x7ff7bfefbb30 sp=0x7ff7bfefbb08\r\nruntime.rt0_go(0x7ff7bfefbb60, 0x4, 0x7ff7bfefbb60, 0x1000, 0x4, 0x7ff7bfefc048, 0x7ff7bfefc10f, 0x7ff7bfefc115, 0x7ff7bfefc118, 0x0, ...)\r\n\t/rnsdhpc/code/spack/opt/spack/apple-clang-13.0.0/go-bootstrap/tdt5b4q/src/runtime/asm_amd64.s:95 +0x116 fp=0x7ff7bfefbb38 sp=0x7ff7bfefbb30\r\n```\n\n### Information on your system\n\n* **Spack:** 0.17.1-1184-e68182dcb4\r\n* **Python:** 3.8.5\r\n* **Platform:** darwin-monterey-skylake\r\n* **Concretizer:** clingo\n\n### Additional information\n\n- [spack-build-env.txt](https://github.com/spack/spack/files/8080808/spack-build-env.txt)\r\n- [spack-build-out.txt](https://github.com/spack/spack/files/8080809/spack-build-out.txt)\r\n\r\nGo bootstrap also failed on bigsur/M1, but this failure is on an x86 machine. At this point I think we really need spack bootstrap to add a version of `go`... @alalazo ? \ud83d\ude2c \n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "sethrj",
    "url": "https://api.github.com/repos/spack/spack/issues/29011",
    "updated_at": "2022-02-21 08:08:09",
    "created_at": "2022-02-16 14:59:06",
    "closed_at": "2022-02-21 08:08:09",
    "state": "closed",
    "title": "Installation issue: go-bootstrap fails on monterey (x86_64)",
    "number": 29011,
    "milestone": null,
    "labels": [
        "macOS",
        "build-error"
    ],
    "id": 1140131504,
    "html_url": "https://github.com/spack/spack/issues/29011",
    "assignees": [],
    "comments": 0
}