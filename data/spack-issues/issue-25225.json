{
    "body": "### Steps to reproduce the issue\n\n`strumpack@5.1.1 +rocm` builds recently began failing using:\r\n* `spack@develop` (5698850dc47b20a6fc648a7b15b1ee37fa170c16 from `Tue Aug 3 17:18:19 2021 +0530`)\r\n* Ubuntu 20.04 (GCC 9.3.0)\r\n* Ubuntu 18.04 (GCC 7.5.0)\r\n* RHEL 7 (GCC 9.3.0)\r\n* RHEL 8 (GCC 8.4.1)\r\n\r\nConcrete spec: [strumpack-z7u4ht.spec.yaml.txt](https://github.com/spack/spack/files/6926021/strumpack-z7u4ht.spec.yaml.txt)\r\n\r\nTo reproduce, you can use Docker container image:\r\n* `ecpe4s/ubuntu20.04-runner-x86_64:2021-07-01`\r\n```\r\n$> git clone https://github.com/spack/spack\r\n$> (cd spack && git checkout 5698850dc4)\r\n$> . spack/share/spack/setup-env.sh\r\n\r\n$> spack mirror add E4S https://cache.e4s.io\r\n$> spack buildcache keys -it\r\n...\r\n\r\n$> spack install --cache-only --include-build-deps --only dependencies -f ./strumpack-z7u4ht.spec.yaml\r\n...\r\n\r\n$> spack install --no-cache -f ./strumpack-z7u4ht.spec.yaml\r\n...\r\n==> Installing strumpack-5.1.1-e74ixxdch4d55z2seg47hp46d4dzwd5b\r\n==> Using cached archive: /spack/var/spack/cache/_source-cache/archive/6c/6cf4eaae5beb9bd377f2abce9e4da9fd3e95bf086ae2f04554fad6dd561c28b9.tar.gz\r\n==> No patches needed for strumpack\r\n==> strumpack: Executing phase: 'cmake'\r\n==> strumpack: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j24'\r\n\r\n3 errors found in build log:\r\n     381    /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cmake-3.20.5-zyz2eldbrcih3f6l37dyvdxmyoiyvhv5/bin/cmake -E cmake_copy_f90_mod strumpack.mod CMakeFiles/strumpack.dir/strumpack.mod.stamp G\r\n            NU\r\n     382    /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cmake-3.20.5-zyz2eldbrcih3f6l37dyvdxmyoiyvhv5/bin/cmake -E touch CMakeFiles/strumpack.dir/src/fortran/strumpack.f90.o.provides.build\r\n     383    [100%] Linking CXX shared library libstrumpack.so\r\n     384    /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cmake-3.20.5-zyz2eldbrcih3f6l37dyvdxmyoiyvhv5/bin/cmake -E cmake_link_script CMakeFiles/strumpack.dir/link.txt --verbose=1\r\n     385    /spack/lib/spack/env/gcc/g++ -fPIC -O2 -g -DNDEBUG -Wl,-rpath -Wl,/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-nawpdrhj3qspz2o4tb7pc6mk2cafuklj/lib -L/spack/opt/spack/linu\r\n            x-ubuntu20.04-x86_64/gcc-9.3.0/hwloc-2.4.1-q6hzuh4lmnlthnlqphvvyuk557hej35c/lib -shared -Wl,-soname,libstrumpack.so -o libstrumpack.so CMakeFiles/strumpack.dir/src/StrumpackParameters.cpp.o\r\n            CMakeFiles/strumpack.dir/src/StrumpackOptions.cpp.o CMakeFiles/strumpack.dir/src/SparseSolverBase.cpp.o CMakeFiles/strumpack.dir/src/SparseSolver.cpp.o CMakeFiles/strumpack.dir/src/SparseSol\r\n            verMixedPrecision.cpp.o CMakeFiles/strumpack.dir/src/StrumpackSparseSolverC.cpp.o CMakeFiles/strumpack.dir/src/SparseSolverMPIDist.cpp.o CMakeFiles/strumpack.dir/src/SparseSolverMixedPrecisi\r\n            onMPIDist.cpp.o CMakeFiles/strumpack.dir/src/misc/TaskTimer.cpp.o CMakeFiles/strumpack.dir/src/misc/Triplet.cpp.o CMakeFiles/strumpack.dir/src/sparse/strumpack_mc64ad.c.o CMakeFiles/strumpac\r\n            k.dir/src/sparse/CompressedSparseMatrix.cpp.o CMakeFiles/strumpack.dir/src/sparse/CSRGraph.cpp.o CMakeFiles/strumpack.dir/src/sparse/CSRMatrix.cpp.o CMakeFiles/strumpack.dir/src/sparse/Elimi\r\n            nationTree.cpp.o CMakeFiles/strumpack.dir/src/sparse/SeparatorTree.cpp.o CMakeFiles/strumpack.dir/src/sparse/CSRMatrixMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/EliminationTreeMPI.cpp.o C\r\n            MakeFiles/strumpack.dir/src/sparse/EliminationTreeMPIDist.cpp.o CMakeFiles/strumpack.dir/src/sparse/PropMapSparseMatrix.cpp.o CMakeFiles/strumpack.dir/src/sparse/iterative/BiCGStab.cpp.o CMa\r\n            keFiles/strumpack.dir/src/sparse/iterative/GMRes.cpp.o CMakeFiles/strumpack.dir/src/sparse/iterative/IterativeRefinement.cpp.o CMakeFiles/strumpack.dir/src/sparse/iterative/GMResMPI.cpp.o CM\r\n            akeFiles/strumpack.dir/src/sparse/iterative/BiCGStabMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/iterative/IterativeRefinementMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/FrontFacto\r\n            ry.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/FrontalMatrix.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/FrontalMatrixDense.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/Frontal\r\n            MatrixHSS.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/FrontalMatrixMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/FrontalMatrixDenseMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/f\r\n            ronts/FrontalMatrixHSSMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/FrontalMatrixBLRMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/ExtendAdd.cpp.o CMakeFiles/strumpack.dir/src/s\r\n            parse/fronts/FrontalMatrixGPU.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/FrontalMatrixLossy.cpp.o CMakeFiles/strumpack.dir/src/sparse/fronts/FrontalMatrixHODLR.cpp.o CMakeFiles/strumpa\r\n            ck.dir/src/sparse/fronts/FrontalMatrixHODLRMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/ordering/GeometricReordering.cpp.o CMakeFiles/strumpack.dir/src/sparse/ordering/MatrixReordering.cpp.\r\n            o CMakeFiles/strumpack.dir/src/sparse/ordering/GeometricReorderingMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/ordering/MatrixReorderingMPI.cpp.o CMakeFiles/strumpack.dir/src/sparse/orderin\r\n            g/rcm/degree.f.o CMakeFiles/strumpack.dir/src/sparse/ordering/rcm/fnroot.f.o CMakeFiles/strumpack.dir/src/sparse/ordering/rcm/genrcm.f.o CMakeFiles/strumpack.dir/src/sparse/ordering/rcm/rcm.\r\n            f.o CMakeFiles/strumpack.dir/src/sparse/ordering/rcm/rootls.f.o CMakeFiles/strumpack.dir/src/sparse/MUMPS/ana_orderings.F.o CMakeFiles/strumpack.dir/src/kernel/Kernel.cpp.o CMakeFiles/strump\r\n            ack.dir/src/clustering/PCAPartitioning.cpp.o CMakeFiles/strumpack.dir/src/clustering/CobblePartitioning.cpp.o CMakeFiles/strumpack.dir/src/clustering/KMeans.cpp.o CMakeFiles/strumpack.dir/sr\r\n            c/clustering/KDTree.cpp.o CMakeFiles/strumpack.dir/src/clustering/NeighborSearch.cpp.o CMakeFiles/strumpack.dir/src/dense/BLASLAPACKWrapper.cpp.o CMakeFiles/strumpack.dir/src/dense/BLASLAPAC\r\n            KOpenMPTask.cpp.o CMakeFiles/strumpack.dir/src/dense/ACA.cpp.o CMakeFiles/strumpack.dir/src/dense/BACA.cpp.o CMakeFiles/strumpack.dir/src/dense/DenseMatrix.cpp.o CMakeFiles/strumpack.dir/src\r\n            /dense/ScaLAPACKWrapper.cpp.o CMakeFiles/strumpack.dir/src/dense/DistributedMatrix.cpp.o CMakeFiles/strumpack.dir/src/dense/HIPWrapper.cpp.o CMakeFiles/strumpack.dir/src/dense/lapack/sgeqp3t\r\n            ol.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dgeqp3tol.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cgeqp3tol.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zgeqp3tol.f.o CMakeFiles/stru\r\n            mpack.dir/src/dense/lapack/sgeqrfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dgeqrfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cgeqrfmod.f.o CMakeFiles/strumpack.dir/src/dense/la\r\n            pack/zgeqrfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/sgeqr2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dgeqr2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cgeqr2mod.f.o CMa\r\n            keFiles/strumpack.dir/src/dense/lapack/zgeqr2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/slaqpsmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dlaqpsmod.f.o CMakeFiles/strumpack.dir/\r\n            src/dense/lapack/claqpsmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zlaqpsmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/slaqp2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dlaqp\r\n            2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/claqp2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zlaqp2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/sgetrfmod.f.o CMakeFiles/st\r\n            rumpack.dir/src/dense/lapack/dgetrfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cgetrfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zgetrfmod.f.o CMakeFiles/strumpack.dir/src/dense/\r\n            lapack/sgetf2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dgetf2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cgetf2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zgetf2mod.f.o C\r\n            MakeFiles/strumpack.dir/src/dense/lapack/sorglqmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dorglqmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cunglqmod.f.o CMakeFiles/strumpack.di\r\n            r/src/dense/lapack/zunglqmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/sorgl2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dorgl2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cun\r\n            gl2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zungl2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/slarfbmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dlarfbmod.f.o CMakeFiles/\r\n            strumpack.dir/src/dense/lapack/clarfbmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zlarfbmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/slarftmod.f.o CMakeFiles/strumpack.dir/src/dens\r\n            e/lapack/dlarftmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/clarftmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zlarftmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/slarfmod.f.o\r\n            CMakeFiles/strumpack.dir/src/dense/lapack/dlarfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/clarfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zlarfmod.f.o CMakeFiles/strumpack.dir/\r\n            src/dense/lapack/sgelqfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dgelqfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cgelqfmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/zgelq\r\n            fmod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/sgelq2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/dgelq2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/cgelq2mod.f.o CMakeFiles/st\r\n            rumpack.dir/src/dense/lapack/zgelq2mod.f.o CMakeFiles/strumpack.dir/src/dense/lapack/pcgeqpftol.f.o CMakeFiles/strumpack.dir/src/dense/lapack/pdgeqpftol.f.o CMakeFiles/strumpack.dir/src/dens\r\n            e/lapack/psgeqpftol.f.o CMakeFiles/strumpack.dir/src/dense/lapack/pzgeqpftol.f.o CMakeFiles/strumpack.dir/src/HSS/HSSMatrixBase.cpp.o CMakeFiles/strumpack.dir/src/HSS/HSSMatrix.cpp.o CMakeFi\r\n            les/strumpack.dir/src/HSS/HSSOptions.cpp.o CMakeFiles/strumpack.dir/src/HSS/HSSMatrixMPI.cpp.o CMakeFiles/strumpack.dir/src/HODLR/HODLROptions.cpp.o CMakeFiles/strumpack.dir/src/HODLR/HODLRM\r\n            atrix.cpp.o CMakeFiles/strumpack.dir/src/HODLR/ButterflyMatrix.cpp.o CMakeFiles/strumpack.dir/src/HODLR/HODLRWrapper.cpp.o CMakeFiles/strumpack.dir/src/BLR/BLRMatrix.cpp.o CMakeFiles/strumpa\r\n            ck.dir/src/BLR/BLROptions.cpp.o CMakeFiles/strumpack.dir/src/BLR/DenseTile.cpp.o CMakeFiles/strumpack.dir/src/BLR/LRTile.cpp.o CMakeFiles/strumpack.dir/src/BLR/BLRMatrixMPI.cpp.o CMakeFiles/\r\n            strumpack.dir/src/BLR/BLRExtendAdd.cpp.o CMakeFiles/strumpack.dir/src/fortran/strumpack.f90.o CMakeFiles/strumpack.dir/src/sparse/fronts/strumpack_generated_FrontalMatrixHIP.hip.cpp.o  -Wl,-\r\n            rpath,/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/netlib-scalapack-2.1.0-3leitkz4777h5jvfkhico7d7fx3zodlj/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/openblas-0.3.17-q42q\r\n            d65ugkxmj6jsvjm6kng4dbylxp32/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/zfp-0.5.5-bu5zrporgont6p2ppehprhd3j7w22uxt/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/butter\r\n            flypack-1.2.1-xr64oqutguponm7k2m252cdyxpe7ndus/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-nawpdrhj3qspz2o4tb7pc6mk2cafuklj/lib:/spack/opt/spack/linux-ubuntu20.04-x86\r\n            _64/gcc-9.3.0/hipblas-4.2.0-hnr6sro7h7s6xvdxsyg5iqxp6z364bws/hipblas/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/rocsolver-4.2.0-efs6jkuxldtr7rat2rbsxu7r5c7igtx5/rocsolver/lib:/s\r\n            pack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/metis-5.1.0-lxkd2thzi5xc5z3aqvw4eodot57r53y5/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/parmetis-4.0.3-rdrwwqrizoiz4h3xiehqqwfz\r\n            impuv5zh/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/arpack-ng-3.8.0-o7pap5jpyni2wzebkmlw4sabijabqmkl/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/rocblas-4.2.0-5sfe5w\r\n            jjm6g6nqqjpzn5o4swk3mxugjp/rocblas/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hip-4.2.0-6ztqrqnwwfcholfcndkn4niectkxmlda/lib:/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/\r\n            hsa-rocr-dev-4.2.0-i4ob2ubvtr4dpaogzjqi2ux4z24yjzkg/lib:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\n            :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/netlib-\r\n            scalapack-2.1.0-3leitkz4777h5jvfkhico7d7fx3zodlj/lib/libscalapack.so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/openblas-0.3.17-q42qd65ugkxmj6jsvjm6kng4dbylxp32/lib/libopenblas.so /\r\n            spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/openblas-0.3.17-q42qd65ugkxmj6jsvjm6kng4dbylxp32/lib/libopenblas.so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/zfp-0.5.5-bu5zrporg\r\n            ont6p2ppehprhd3j7w22uxt/lib/libzfp.so.0.5.5 /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/butterflypack-1.2.1-xr64oqutguponm7k2m252cdyxpe7ndus/lib/libdbutterflypack.so.1.2.0 /spack/opt\r\n            /spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/butterflypack-1.2.1-xr64oqutguponm7k2m252cdyxpe7ndus/lib/libzbutterflypack.so.1.2.0 /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-\r\n            nawpdrhj3qspz2o4tb7pc6mk2cafuklj/lib/libmpifort.so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-nawpdrhj3qspz2o4tb7pc6mk2cafuklj/lib/libmpi.so /spack/opt/spack/linux-ubunt\r\n            u20.04-x86_64/gcc-9.3.0/hipblas-4.2.0-hnr6sro7h7s6xvdxsyg5iqxp6z364bws/hipblas/lib/libhipblas.so.0.1 /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/rocsolver-4.2.0-efs6jkuxldtr7rat2rbsx\r\n            u7r5c7igtx5/rocsolver/lib/librocsolver.so.0.1 /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-nawpdrhj3qspz2o4tb7pc6mk2cafuklj/lib/libmpicxx.so /usr/lib/gcc/x86_64-linux-gnu/\r\n            9/libgomp.so /usr/lib/x86_64-linux-gnu/libpthread.so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-nawpdrhj3qspz2o4tb7pc6mk2cafuklj/lib/libmpi.so /spack/opt/spack/linux-ubu\r\n            ntu20.04-x86_64/gcc-9.3.0/metis-5.1.0-lxkd2thzi5xc5z3aqvw4eodot57r53y5/lib/libmetis.so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/parmetis-4.0.3-rdrwwqrizoiz4h3xiehqqwfzimpuv5zh/lib\r\n            /libparmetis.so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/netlib-scalapack-2.1.0-3leitkz4777h5jvfkhico7d7fx3zodlj/lib/libscalapack.so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-\r\n            9.3.0/openblas-0.3.17-q42qd65ugkxmj6jsvjm6kng4dbylxp32/lib/libopenblas.so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/arpack-ng-3.8.0-o7pap5jpyni2wzebkmlw4sabijabqmkl/lib/libparpack.\r\n            so /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/arpack-ng-3.8.0-o7pap5jpyni2wzebkmlw4sabijabqmkl/lib/libarpack.so -lm /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/rocblas-4.2.0\r\n            -5sfe5wjjm6g6nqqjpzn5o4swk3mxugjp/rocblas/lib/librocblas.so.0.1 /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hip-4.2.0-6ztqrqnwwfcholfcndkn4niectkxmlda/lib/libamdhip64.so.4.2.0 -lgfor\r\n            tran -lquadmath -Wl,-rpath-link,/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hsa-rocr-dev-4.2.0-i4ob2ubvtr4dpaogzjqi2ux4z24yjzkg/lib\r\n     386    /usr/bin/ld: CMakeFiles/strumpack.dir/src/sparse/fronts/strumpack_generated_FrontalMatrixHIP.hip.cpp.o: relocation R_X86_64_32 against symbol `_ZN9strumpack3gpu33__device_stub__assemble_11_k\r\n            ernelIfEEvjPNS0_12AssembleDataIT_EE' can not be used when making a shared object; recompile with -fPIC\r\n  >> 387    collect2: error: ld returned 1 exit status\r\n  >> 388    make[2]: *** [CMakeFiles/strumpack.dir/build.make:2256: libstrumpack.so] Error 1\r\n     389    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-strumpack-5.1.1-e74ixxdch4d55z2seg47hp46d4dzwd5b/spack-build-e74ixxd'\r\n  >> 390    make[1]: *** [CMakeFiles/Makefile2:962: CMakeFiles/strumpack.dir/all] Error 2\r\n     391    make[1]: Leaving directory '/tmp/root/spack-stage/spack-stage-strumpack-5.1.1-e74ixxdch4d55z2seg47hp46d4dzwd5b/spack-build-e74ixxd'\r\n     392    make: *** [Makefile:149: all] Error 2\r\n```\r\n\r\n\n\n### Information on your system\n\n* **Spack:** 0.13.3-8988-5698850dc4\r\n* **Python:** 3.8.5\r\n* **Platform:** linux-ubuntu20.04-cascadelake\r\n* **Concretizer:** original\n\n### Additional information\n\nBuild log: [strumpack-build-out.txt](https://github.com/spack/spack/files/6926060/strumpack-build-out.txt)\r\nBuild env: [strumpack-build-env.txt](https://github.com/spack/spack/files/6926061/strumpack-build-env.txt)\r\n\r\n@pghysels @balay @sethrj \n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "eugeneswalker",
    "url": "https://api.github.com/repos/spack/spack/issues/25225",
    "updated_at": "2021-08-12 17:51:59",
    "created_at": "2021-08-03 17:43:34",
    "closed_at": "2021-08-12 17:51:59",
    "state": "closed",
    "title": "Installation issue: strumpack@5.1.1 +rocm: relocation R_X86_64_32 against symbol... recompile with -fPIC",
    "number": 25225,
    "milestone": null,
    "labels": [
        "build-error",
        "ecp",
        "e4s",
        "ROCm/hip"
    ],
    "id": 959346767,
    "html_url": "https://github.com/spack/spack/issues/25225",
    "assignees": [],
    "comments": 4
}