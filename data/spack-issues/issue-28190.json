{
    "body": "I started from a clean repository updated to the latest develop branch (c2e1a12cdf44edd7f29e465bbdfdc511b97d9669).\r\n\r\n\r\n```\r\n$ spack compilers\r\n==> Available compilers\r\n-- apple-clang bigsur-arm64 -------------------------------------\r\napple-clang@12.0.0\r\n~ $ spack spec qemu\r\nInput spec\r\n--------------------------------\r\nqemu\r\n\r\nConcretized\r\n--------------------------------\r\n==> Bootstrapping clingo from pre-built binaries\r\n==> Bootstrapping clingo from sources\r\n==> Installing gnuconfig-2021-08-14-gedovjnheiii5r4na5e3pjlekcergep6\r\n==> No binary for gnuconfig-2021-08-14-gedovjnheiii5r4na5e3pjlekcergep6 found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/69/69b6d2868e70167ba1bdb9030b49beeb20f00b37e30825e83fd04291d96bc5f7.tar.gz\r\n==> No patches needed for gnuconfig\r\n==> gnuconfig: Executing phase: 'install'\r\n==> gnuconfig: Successfully installed gnuconfig-2021-08-14-gedovjnheiii5r4na5e3pjlekcergep6\r\n  Fetch: 0.85s.  Build: 0.19s.  Total: 1.03s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/gnuconfig-2021-08-14-gedovjnheiii5r4na5e3pjlekcergep6\r\n==> Installing zlib-1.2.11-a3p23rnymc7d6ens3mk7wj75r5sucdvr\r\n==> No binary for zlib-1.2.11-a3p23rnymc7d6ens3mk7wj75r5sucdvr found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/c3/c3e5e9fdd5004dcb542feda5ee4f0ff0744628baf8ed2dd5d66f8ca1197cb1a1.tar.gz\r\n==> No patches needed for zlib\r\n==> zlib: Executing phase: 'install'\r\n==> zlib: Successfully installed zlib-1.2.11-a3p23rnymc7d6ens3mk7wj75r5sucdvr\r\n  Fetch: 1.06s.  Build: 1.68s.  Total: 2.74s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/zlib-1.2.11-a3p23rnymc7d6ens3mk7wj75r5sucdvr\r\n[+] /Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8 (external python-3.8-yumcagn3zdktmhjepxgxvbokqdl24zaz)\r\n==> Installing libiconv-1.16-fyaei4lfz3n7nzpna2vetg4a5uq7pdbk\r\n==> No binary for libiconv-1.16-fyaei4lfz3n7nzpna2vetg4a5uq7pdbk found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/e6/e6a1b1b589654277ee790cce3734f07876ac4ccfaecbee8afa0b649cf529cc04.tar.gz\r\n==> No patches needed for libiconv\r\n==> libiconv: Executing phase: 'autoreconf'\r\n==> libiconv: Executing phase: 'configure'\r\n==> libiconv: Executing phase: 'build'\r\n==> libiconv: Executing phase: 'install'\r\n==> libiconv: Successfully installed libiconv-1.16-fyaei4lfz3n7nzpna2vetg4a5uq7pdbk\r\n  Fetch: 2.18s.  Build: 18.15s.  Total: 20.34s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/libiconv-1.16-fyaei4lfz3n7nzpna2vetg4a5uq7pdbk\r\n==> Installing libsigsegv-2.13-jx46dmox6wtqotnsvvcrqwx6jfuj72pc\r\n==> No binary for libsigsegv-2.13-jx46dmox6wtqotnsvvcrqwx6jfuj72pc found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/be/be78ee4176b05f7c75ff03298d84874db90f4b6c9d5503f0da1226b3a3c48119.tar.gz\r\n==> No patches needed for libsigsegv\r\n==> libsigsegv: Executing phase: 'autoreconf'\r\n==> libsigsegv: Executing phase: 'configure'\r\n==> libsigsegv: Executing phase: 'build'\r\n==> libsigsegv: Executing phase: 'install'\r\n==> libsigsegv: Successfully installed libsigsegv-2.13-jx46dmox6wtqotnsvvcrqwx6jfuj72pc\r\n  Fetch: 0.96s.  Build: 4.42s.  Total: 5.38s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/libsigsegv-2.13-jx46dmox6wtqotnsvvcrqwx6jfuj72pc\r\n==> Installing berkeley-db-18.1.40-7q4rqdl4vtulxj4jx56l2mac2d2embea\r\n==> No binary for berkeley-db-18.1.40-7q4rqdl4vtulxj4jx56l2mac2d2embea found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/0c/0cecb2ef0c67b166de93732769abdeba0555086d51de1090df325e18ee8da9c8.tar.gz\r\n==> Applied patch /Users/ondrej/repos/spack/var/spack/repos/builtin/packages/berkeley-db/drop-docs.patch\r\n==> Ran patch() for berkeley-db\r\n==> berkeley-db: Executing phase: 'autoreconf'\r\n==> berkeley-db: Executing phase: 'configure'\r\n==> berkeley-db: Executing phase: 'build'\r\n==> berkeley-db: Executing phase: 'install'\r\n==> berkeley-db: Successfully installed berkeley-db-18.1.40-7q4rqdl4vtulxj4jx56l2mac2d2embea\r\n  Fetch: 9.03s.  Build: 26.26s.  Total: 35.30s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/berkeley-db-18.1.40-7q4rqdl4vtulxj4jx56l2mac2d2embea\r\n==> Installing re2c-2.2-ahy7ntwn3wjqkphsppo2cixexk62gmau\r\n==> No binary for re2c-2.2-ahy7ntwn3wjqkphsppo2cixexk62gmau found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/0f/0fc45e4130a8a555d68e230d1795de0216dfe99096b61b28e67c86dfd7d86bda.tar.xz\r\n==> No patches needed for re2c\r\n==> re2c: Executing phase: 'autoreconf'\r\n==> re2c: Executing phase: 'configure'\r\n==> re2c: Executing phase: 'build'\r\n==> re2c: Executing phase: 'install'\r\n==> re2c: Successfully installed re2c-2.2-ahy7ntwn3wjqkphsppo2cixexk62gmau\r\n  Fetch: 1.38s.  Build: 20.24s.  Total: 21.62s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/re2c-2.2-ahy7ntwn3wjqkphsppo2cixexk62gmau\r\n==> Installing pkgconf-1.8.0-crd2i745cj5p6am2m5sajcycuvr3jonc\r\n==> No binary for pkgconf-1.8.0-crd2i745cj5p6am2m5sajcycuvr3jonc found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/ef/ef9c7e61822b7cb8356e6e9e1dca58d9556f3200d78acab35e4347e9d4c2bbaf.tar.xz\r\n==> No patches needed for pkgconf\r\n==> pkgconf: Executing phase: 'autoreconf'\r\n==> pkgconf: Executing phase: 'configure'\r\n==> pkgconf: Executing phase: 'build'\r\n==> pkgconf: Executing phase: 'install'\r\n==> pkgconf: Successfully installed pkgconf-1.8.0-crd2i745cj5p6am2m5sajcycuvr3jonc\r\n  Fetch: 1.07s.  Build: 5.01s.  Total: 6.08s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/pkgconf-1.8.0-crd2i745cj5p6am2m5sajcycuvr3jonc\r\n==> Installing diffutils-3.8-tps25qichnyhdskh2yoimpoeersmou27\r\n==> No binary for diffutils-3.8-tps25qichnyhdskh2yoimpoeersmou27 found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/a6/a6bdd7d1b31266d11c4f4de6c1b748d4607ab0231af5188fc2533d0ae2438fec.tar.xz\r\n==> No patches needed for diffutils\r\n==> diffutils: Executing phase: 'autoreconf'\r\n==> diffutils: Executing phase: 'configure'\r\n==> diffutils: Executing phase: 'build'\r\n==> diffutils: Executing phase: 'install'\r\n==> diffutils: Successfully installed diffutils-3.8-tps25qichnyhdskh2yoimpoeersmou27\r\n  Fetch: 1.41s.  Build: 32.46s.  Total: 33.87s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/diffutils-3.8-tps25qichnyhdskh2yoimpoeersmou27\r\n==> Installing m4-1.4.19-ghuewuay4dqfxf35fzbqknakd5juhl7a\r\n==> No binary for m4-1.4.19-ghuewuay4dqfxf35fzbqknakd5juhl7a found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/3b/3be4a26d825ffdfda52a56fc43246456989a3630093cced3fbddf4771ee58a70.tar.gz\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/bf/bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/9d/9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573\r\n==> Applied patch http://git.savannah.gnu.org/cgit/m4.git/patch/?id=a1354086\r\n==> Applied patch http://git.savannah.gnu.org/cgit/m4.git/patch/?id=cd7f4d15\r\n==> Ran patch() for m4\r\n==> m4: Executing phase: 'autoreconf'\r\n==> m4: Executing phase: 'configure'\r\n==> m4: Executing phase: 'build'\r\n==> m4: Executing phase: 'install'\r\n==> m4: Successfully installed m4-1.4.19-ghuewuay4dqfxf35fzbqknakd5juhl7a\r\n  Fetch: 1.88s.  Build: 47.45s.  Total: 49.33s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/m4-1.4.19-ghuewuay4dqfxf35fzbqknakd5juhl7a\r\n==> Installing ncurses-6.2-exubvurzson2t7xztjvlg7gayp65kg7p\r\n==> No binary for ncurses-6.2-exubvurzson2t7xztjvlg7gayp65kg7p found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/30/30306e0c76e0f9f1f0de987cf1c82a5c21e1ce6568b9227f7da5b71cbea86c9d.tar.gz\r\n==> No patches needed for ncurses\r\n==> ncurses: Executing phase: 'autoreconf'\r\n==> ncurses: Executing phase: 'configure'\r\n==> ncurses: Executing phase: 'build'\r\n==> ncurses: Executing phase: 'install'\r\n==> ncurses: Successfully installed ncurses-6.2-exubvurzson2t7xztjvlg7gayp65kg7p\r\n  Fetch: 2.19s.  Build: 55.02s.  Total: 57.21s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/ncurses-6.2-exubvurzson2t7xztjvlg7gayp65kg7p\r\n==> Installing bzip2-1.0.8-xoi7soo72qnpkswxbdby3a4kmip2e3ro\r\n==> No binary for bzip2-1.0.8-xoi7soo72qnpkswxbdby3a4kmip2e3ro found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/ab/ab5a03176ee106d3f0fa90e381da478ddae405918153cca248e682cd0c4a2269.tar.gz\r\n==> Ran patch() for bzip2\r\n==> bzip2: Executing phase: 'install'\r\n==> bzip2: Successfully installed bzip2-1.0.8-xoi7soo72qnpkswxbdby3a4kmip2e3ro\r\n  Fetch: 1.22s.  Build: 1.03s.  Total: 2.25s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/bzip2-1.0.8-xoi7soo72qnpkswxbdby3a4kmip2e3ro\r\n==> Installing readline-8.1-odmkrknw6jd6bu2rdomd5ivloae6gwig\r\n==> No binary for readline-8.1-odmkrknw6jd6bu2rdomd5ivloae6gwig found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/f8/f8ceb4ee131e3232226a17f51b164afc46cd0b9e6cef344be87c65962cb82b02.tar.gz\r\n==> Ran patch() for readline\r\n==> readline: Executing phase: 'autoreconf'\r\n==> readline: Executing phase: 'configure'\r\n==> readline: Executing phase: 'build'\r\n==> readline: Executing phase: 'install'\r\n==> readline: Successfully installed readline-8.1-odmkrknw6jd6bu2rdomd5ivloae6gwig\r\n  Fetch: 1.89s.  Build: 8.31s.  Total: 10.20s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/readline-8.1-odmkrknw6jd6bu2rdomd5ivloae6gwig\r\n==> Installing gdbm-1.19-tcvwmvv2iq7slyhayv5wswqpt7oy3ynw\r\n==> No binary for gdbm-1.19-tcvwmvv2iq7slyhayv5wswqpt7oy3ynw found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/37/37ed12214122b972e18a0d94995039e57748191939ef74115b1d41d8811364bc.tar.gz\r\n==> No patches needed for gdbm\r\n==> gdbm: Executing phase: 'autoreconf'\r\n==> gdbm: Executing phase: 'configure'\r\n==> gdbm: Executing phase: 'build'\r\n==> gdbm: Executing phase: 'install'\r\n==> gdbm: Successfully installed gdbm-1.19-tcvwmvv2iq7slyhayv5wswqpt7oy3ynw\r\n  Fetch: 0.95s.  Build: 8.24s.  Total: 9.19s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/gdbm-1.19-tcvwmvv2iq7slyhayv5wswqpt7oy3ynw\r\n==> Installing perl-5.34.0-xzib42oxhft2bgakyhhovjy5o3lvip4w\r\n==> No binary for perl-5.34.0-xzib42oxhft2bgakyhhovjy5o3lvip4w found: installing from source\r\n==> Warning: Failed to detect macOS command line tools version: No receipt for 'com.apple.pkg.CLTools_Executables' found at '/'.\r\n\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/55/551efc818b968b05216024fb0b727ef2ad4c100f8cb6b43fab615fa78ae5be9a.tar.gz\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/9d/9da50e155df72bce55cb69f51f1dbb4b62d23740fb99f6178bb27f22ebdf8a46.tar.gz\r\n==> Moving resource stage\r\n\tsource : /var/folders/wm/h8g03zb53_sgm6r8r8h9pmpw0000gp/T/ondrej/spack-stage/resource-cpanm-xzib42oxhft2bgakyhhovjy5o3lvip4w/spack-src/\r\n\tdestination : /var/folders/wm/h8g03zb53_sgm6r8r8h9pmpw0000gp/T/ondrej/spack-stage/spack-stage-perl-5.34.0-xzib42oxhft2bgakyhhovjy5o3lvip4w/spack-src/cpanm/cpanm\r\n==> Ran patch() for perl\r\n==> perl: Executing phase: 'configure'\r\n==> perl: Executing phase: 'build'\r\n==> perl: Executing phase: 'install'\r\n==> perl: Successfully installed perl-5.34.0-xzib42oxhft2bgakyhhovjy5o3lvip4w\r\n  Fetch: 6.44s.  Build: 1m 30.54s.  Total: 1m 36.98s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/perl-5.34.0-xzib42oxhft2bgakyhhovjy5o3lvip4w\r\n==> Installing bison-3.8.2-comfky2x72qyu32uakmlltap4sc5jfit\r\n==> No binary for bison-3.8.2-comfky2x72qyu32uakmlltap4sc5jfit found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/06/06c9e13bdf7eb24d4ceb6b59205a4f67c2c7e7213119644430fe82fbd14a0abb.tar.gz\r\n==> No patches needed for bison\r\n==> bison: Executing phase: 'autoreconf'\r\n==> bison: Executing phase: 'configure'\r\n==> bison: Executing phase: 'build'\r\n==> bison: Executing phase: 'install'\r\n==> bison: Successfully installed bison-3.8.2-comfky2x72qyu32uakmlltap4sc5jfit\r\n  Fetch: 2.27s.  Build: 34.04s.  Total: 36.31s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/bison-3.8.2-comfky2x72qyu32uakmlltap4sc5jfit\r\n==> Installing openssl-1.1.1l-xq4viuhggqsoqii6osjf5k25ugjizejv\r\n==> No binary for openssl-1.1.1l-xq4viuhggqsoqii6osjf5k25ugjizejv found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/0b/0b7a3e5e59c34827fe0c3a74b7ec8baef302b98fa80088d7f9153aa16fa76bd1.tar.gz\r\n==> Ran patch() for openssl\r\n==> openssl: Executing phase: 'install'\r\n==> openssl: Successfully installed openssl-1.1.1l-xq4viuhggqsoqii6osjf5k25ugjizejv\r\n  Fetch: 3.51s.  Build: 24.16s.  Total: 27.67s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/openssl-1.1.1l-xq4viuhggqsoqii6osjf5k25ugjizejv\r\n==> Installing cmake-3.22.1-i4ydo5hgu5g5dzybpmqznbihusnz7hwq\r\n==> No binary for cmake-3.22.1-i4ydo5hgu5g5dzybpmqznbihusnz7hwq found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/0e/0e998229549d7b3f368703d20e248e7ee1f853910d42704aa87918c213ea82c0.tar.gz\r\n==> No patches needed for cmake\r\n==> cmake: Executing phase: 'bootstrap'\r\n==> cmake: Executing phase: 'build'\r\n==> cmake: Executing phase: 'install'\r\n==> cmake: Successfully installed cmake-3.22.1-i4ydo5hgu5g5dzybpmqznbihusnz7hwq\r\n  Fetch: 3.90s.  Build: 3m 22.81s.  Total: 3m 26.71s.\r\n[+] /Users/ondrej/.spack/bootstrap/store/darwin-bigsur-aarch64/apple-clang-12.0.5/cmake-3.22.1-i4ydo5hgu5g5dzybpmqznbihusnz7hwq\r\n==> Installing clingo-bootstrap-spack-7ctouvxrqj6vs2mw2txgl5jfsqfrnpuc\r\n==> No binary for clingo-bootstrap-spack-7ctouvxrqj6vs2mw2txgl5jfsqfrnpuc found: installing from source\r\n==> Error: RuntimeError: Unable to locate Python3.framework/Versions/3.8/Python3 libraries in /Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib\r\n\r\n/Users/ondrej/repos/spack/var/spack/repos/builtin/packages/python/package.py:828, in libs:\r\n        825                return LibraryList(os.path.join(macos_developerdir, ldlibrary))\r\n        826            else:\r\n        827                msg = 'Unable to locate {0} libraries in {1}'\r\n  >>    828                raise RuntimeError(msg.format(ldlibrary, libdir))\r\n        829        else:\r\n        830            library = self.config_vars['LIBRARY']\r\n        831\r\n\r\n\r\n==> Error: cannot bootstrap the \"clingo\" Python module from spec \"clingo-bootstrap@spack+python %apple-clang target=aarch64\" due to the following failures:\r\n    'spack-install' raised InstallError: Terminating after first install failure: RuntimeError: Unable to locate Python3.framework/Versions/3.8/Python3 libraries in /Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.8/lib\r\n    Please run `spack -d spec zlib` for more verbose error messages\r\n```",
    "user": "certik",
    "url": "https://api.github.com/repos/spack/spack/issues/28190",
    "updated_at": "2022-02-26 16:51:00",
    "created_at": "2021-12-30 16:43:57",
    "closed_at": "None",
    "state": "open",
    "title": "macOS M1: Spack fails to bootstrap without Xcode",
    "number": 28190,
    "milestone": null,
    "labels": [
        "macOS",
        "bootstrap"
    ],
    "id": 1091205703,
    "html_url": "https://github.com/spack/spack/issues/28190",
    "assignees": [
        "alalazo"
    ],
    "comments": 19
}