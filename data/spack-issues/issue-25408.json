{
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\njohn@db:~/spack$ spack install serf\r\n[+] /usr (external pkg-config-0.29-fukfk6l4tzx3lh4wbjke75edolkiasdq)\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/libmd-1.0.3-2ox3m5sig5n66u77xhmsnfjbs4y2yyq2\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/libiconv-1.16-n5mty2tapodwhvzuykmv2x4eh3phg75k\r\n[+] /usr (external openssl-1.1.1d-muc7ortvzalm2ifjm5xmmp5hyti7ptjq)\r\n[+] /usr (external python-3.7.3-7dxgyxzwshmclqhhgjh4fjg3hbwhlphe)\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/zlib-1.2.11-cm2rer67jxgcavsf4rwvlrf55krx57ty\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/util-linux-uuid-2.36.2-itppd7b2patntyrzoxzlemfkjahycwf5\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/libbsd-0.11.3-xfpeph2iqfgvhvadayqjg4y4fseuzbco\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/py-setuptools-50.3.2-p47p7tm3dnvve4khzkv7hawqss2zx2h3\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-1.7.0-uxdrito5p6qy5vmis56k7fn5ouh6weua\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/expat-2.4.1-uarymwtsx7hvhnzsitrz6ubkglmqog5n\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/scons-3.1.2-mdvp73nxmwbhydcubbjjv7i4npihw6oy\r\n[+] /home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-util-1.6.1-d3kyegyiezhlevlmmb6zmxk3xormlsbv\r\n==> Installing serf-1.3.9-wgjpwsrj3ibxhp54l4lvricr4s5vxlba\r\n==> No binary for serf-1.3.9-wgjpwsrj3ibxhp54l4lvricr4s5vxlba found: installing from source\r\n==> Using cached archive: /home/john/spack/var/spack/cache/_source-cache/archive/54/549c2d21c577a8a9c0450facb5cca809f26591f048e466552240947bdf7a87cc.tar.bz2\r\n==> Applied patch /home/john/spack/var/spack/repos/builtin/packages/serf/py3syntax.patch\r\n==> serf: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 127:\r\n    'scons' '-j12' 'PREFIX=/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/serf-1.3.9-wgjpwsrj3ibxhp54l4lvricr4s5vxlba' 'APR=/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-1.7.0-uxdrito5p6qy5vmis56k7fn5ouh6weua' 'APU=/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-util-1.6.1-d3kyegyiezhlevlmmb6zmxk3xormlsbv' 'OPENSSL=/usr' 'ZLIB=/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/zlib-1.2.11-cm2rer67jxgcavsf4rwvlrf55krx57ty' 'DEBUG=no' 'CC=/usr/bin/gcc' 'LINKFLAGS=-L/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-1.7.0-uxdrito5p6qy5vmis56k7fn5ouh6weua/lib -L/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-util-1.6.1-d3kyegyiezhlevlmmb6zmxk3xormlsbv/lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/python3.7/config-3.7m-x86_64-linux-gnu -L/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/zlib-1.2.11-cm2rer67jxgcavsf4rwvlrf55krx57ty/lib -L/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/util-linux-uuid-2.36.2-itppd7b2patntyrzoxzlemfkjahycwf5/lib -Wl,-rpath,/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-1.7.0-uxdrito5p6qy5vmis56k7fn5ouh6weua/lib -Wl,-rpath,/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-util-1.6.1-d3kyegyiezhlevlmmb6zmxk3xormlsbv/lib -Wl,-rpath,/usr/lib/x86_64-linux-gnu -Wl,-rpath,/usr/lib/python3.7/config-3.7m-x86_64-linux-gnu -Wl,-rpath,/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/zlib-1.2.11-cm2rer67jxgcavsf4rwvlrf55krx57ty/lib -Wl,-rpath,/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/util-linux-uuid-2.36.2-itppd7b2patntyrzoxzlemfkjahycwf5/lib' 'CPPFLAGS=-I/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-1.7.0-uxdrito5p6qy5vmis56k7fn5ouh6weua/include -I/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-util-1.6.1-d3kyegyiezhlevlmmb6zmxk3xormlsbv/include -I/usr/include -I/usr/include/python3.7m -I/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/zlib-1.2.11-cm2rer67jxgcavsf4rwvlrf55krx57ty/include -I/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/util-linux-uuid-2.36.2-itppd7b2patntyrzoxzlemfkjahycwf5/include'\r\n\r\n1 error found in build log:\r\n     2    ==> [2021-08-13-09:20:12.888070] '/usr/bin/python3.7' '-c' 'from dist\r\n          utils.sysconfig import get_config_var; print(get_config_var('\"'\"'LIBD\r\n          IR'\"'\"'))'\r\n     3    ==> [2021-08-13-09:20:12.903608] '/usr/bin/python3.7' '-c' 'from dist\r\n          utils.sysconfig import get_config_var; print(get_config_var('\"'\"'LIBP\r\n          L'\"'\"'))'\r\n     4    ==> [2021-08-13-09:20:12.918569] '/usr/bin/python3.7' '-c' 'from dist\r\n          utils.sysconfig import get_config_var; print(get_config_var('\"'\"'PYTH\r\n          ONFRAMEWORKPREFIX'\"'\"'))'\r\n     5    ==> [2021-08-13-09:20:12.933809] '/usr/bin/python3.7' '-c' 'from dist\r\n          utils.sysconfig import get_config_var; print(get_config_var('\"'\"'LDLI\r\n          BRARY'\"'\"'))'\r\n     6    ==> [2021-08-13-09:20:12.948606] '/usr/bin/python3.7' '-c' 'from dist\r\n          utils.sysconfig import get_config_h_filename; print(get_config_h_file\r\n          name())'\r\n     7    ==> [2021-08-13-09:20:12.969899] 'scons' '-j12' 'PREFIX=/home/john/sp\r\n          ack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/serf-1.3.9-wgjpwsrj3ibx\r\n          hp54l4lvricr4s5vxlba' 'APR=/home/john/spack/opt/spack/linux-devuan3-s\r\n          kylake/gcc-8.3.0/apr-1.7.0-uxdrito5p6qy5vmis56k7fn5ouh6weua' 'APU=/ho\r\n          me/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-util-1.6.\r\n          1-d3kyegyiezhlevlmmb6zmxk3xormlsbv' 'OPENSSL=/usr' 'ZLIB=/home/john/s\r\n          pack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/zlib-1.2.11-cm2rer67jx\r\n          gcavsf4rwvlrf55krx57ty' 'DEBUG=no' 'CC=/usr/bin/gcc' 'LINKFLAGS=-L/ho\r\n          me/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-1.7.0-uxd\r\n          rito5p6qy5vmis56k7fn5ouh6weua/lib -L/home/john/spack/opt/spack/linux-\r\n          devuan3-skylake/gcc-8.3.0/apr-util-1.6.1-d3kyegyiezhlevlmmb6zmxk3xorm\r\n          lsbv/lib -L/usr/lib/x86_64-linux-gnu -L/usr/lib/python3.7/config-3.7m\r\n          -x86_64-linux-gnu -L/home/john/spack/opt/spack/linux-devuan3-skylake/\r\n          gcc-8.3.0/zlib-1.2.11-cm2rer67jxgcavsf4rwvlrf55krx57ty/lib -L/home/jo\r\n          hn/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/util-linux-uuid-2.\r\n          36.2-itppd7b2patntyrzoxzlemfkjahycwf5/lib -Wl,-rpath,/home/john/spack\r\n          /opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-1.7.0-uxdrito5p6qy5vmi\r\n          s56k7fn5ouh6weua/lib -Wl,-rpath,/home/john/spack/opt/spack/linux-devu\r\n          an3-skylake/gcc-8.3.0/apr-util-1.6.1-d3kyegyiezhlevlmmb6zmxk3xormlsbv\r\n          /lib -Wl,-rpath,/usr/lib/x86_64-linux-gnu -Wl,-rpath,/usr/lib/python3\r\n          .7/config-3.7m-x86_64-linux-gnu -Wl,-rpath,/home/john/spack/opt/spack\r\n          /linux-devuan3-skylake/gcc-8.3.0/zlib-1.2.11-cm2rer67jxgcavsf4rwvlrf5\r\n          5krx57ty/lib -Wl,-rpath,/home/john/spack/opt/spack/linux-devuan3-skyl\r\n          ake/gcc-8.3.0/util-linux-uuid-2.36.2-itppd7b2patntyrzoxzlemfkjahycwf5\r\n          /lib' 'CPPFLAGS=-I/home/john/spack/opt/spack/linux-devuan3-skylake/gc\r\n          c-8.3.0/apr-1.7.0-uxdrito5p6qy5vmis56k7fn5ouh6weua/include -I/home/jo\r\n          hn/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/apr-util-1.6.1-d3k\r\n          yegyiezhlevlmmb6zmxk3xormlsbv/include -I/usr/include -I/usr/include/p\r\n          ython3.7m -I/home/john/spack/opt/spack/linux-devuan3-skylake/gcc-8.3.\r\n          0/zlib-1.2.11-cm2rer67jxgcavsf4rwvlrf55krx57ty/include -I/home/john/s\r\n          pack/opt/spack/linux-devuan3-skylake/gcc-8.3.0/util-linux-uuid-2.36.2\r\n          -itppd7b2patntyrzoxzlemfkjahycwf5/include'\r\n  >> 8    /usr/bin/env: 'python': No such file or directory\r\n\r\nSee build log for details:\r\n  /tmp/john/spack-stage/spack-stage-serf-1.3.9-wgjpwsrj3ibxhp54l4lvricr4s5vxlba/spack-build-out.txt\r\n\r\njohn@db:~$ find . /usr -path '*/bin/*' -name 'python*'\r\n/usr/bin/python3.7m\r\n/usr/bin/python3m-config\r\n/usr/bin/python3.7\r\n/usr/bin/python3-config\r\n/usr/bin/python3m\r\n/usr/bin/python3.7-config\r\n/usr/bin/python3.7m-config\r\n/usr/bin/python3\r\n```\r\n\r\n### Information on your system\r\n\r\n(Spack code from PR #22720, the system is a Linux container)\r\n\r\n```console\r\njohn@db:~/spack$ spack debug report\r\n* **Spack:** 0.16.2-3819-861e474c22\r\n* **Python:** 3.7.3\r\n* **Platform:** linux-devuan3-skylake\r\n* **Concretizer:** original\r\njohn@db:~/spack$ cat /etc/os-release \r\nPRETTY_NAME=\"Devuan GNU/Linux 3 (beowulf)\"\r\nNAME=\"Devuan GNU/Linux\"\r\nVERSION_ID=\"3\"\r\nVERSION=\"3 (beowulf)\"\r\nVERSION_CODENAME=beowulf\r\nID=devuan\r\nID_LIKE=debian\r\nHOME_URL=\"https://www.devuan.org/\"\r\nSUPPORT_URL=\"https://devuan.org/os/community\"\r\nBUG_REPORT_URL=\"https://bugs.devuan.org/\"\r\n```\r\n\r\n### Additional information\r\n\r\n* [spack-build-env.txt](https://github.com/spack/spack/files/6981352/spack-build-env.txt)\r\n* [spack-build-out.txt](https://github.com/spack/spack/files/6981353/spack-build-out.txt)\r\n\r\nAdding `depends_on(\"python\")` does not help because the presence of an executable named `python` cannot be assumed anymore.\r\n\r\n### General information\r\n\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\r\n- [X] I have uploaded the build log and environment files\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "christoph-conrads",
    "url": "https://api.github.com/repos/spack/spack/issues/25408",
    "updated_at": "2021-08-21 11:42:05",
    "created_at": "2021-08-13 09:30:13",
    "closed_at": "2021-08-21 11:42:05",
    "state": "closed",
    "title": "Installation issue: serf relies on \"python\" executable being present",
    "number": 25408,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 970230600,
    "html_url": "https://github.com/spack/spack/issues/25408",
    "assignees": [],
    "comments": 6
}