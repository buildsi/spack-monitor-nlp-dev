{
    "body": "### Steps to reproduce the issue\n\n`parsec` fails at CMake stage using:\r\n* `spack@develop` (81be31aee091a6d108a40e0f3dc7ff3bdfa93f26 from `Mon Aug 9 16:07:39 2021 +0200`)\r\n* Ubuntu 20.04, GCC 9.3.0\r\n\r\nConcrete spec: [parsec.spec.yaml.txt](https://github.com/spack/spack/files/6963572/parsec.spec.yaml.txt)\r\n\r\nUsing DockerHub container image `ecpe4s/ubuntu20.04-runner-x86_64:2021-07-01` for reproducer below:\r\n\r\n```\r\n$> git clone https://github.com/spack/spack\r\n$> (cd spack && git checkout 81be31aee091)\r\n$> . spack/share/spack/setup-env.sh\r\n\r\n$> spack mirror add E4S https://cache.e4s.io\r\n$> spack buildcache keys -it\r\n\r\n$> spack install -f ./parsec.spec.yaml\r\n...\r\n==> Installing parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4\r\n==> No binary for parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4 found: installing from source\r\n==> Using cached archive: /spack/var/spack/cache/_source-cache/archive/f5/f565bcfffe106be8237b6aea3e83a5770607b7236606414b6f270244fa6ec3bc.tar.bz2\r\n==> No patches needed for parsec\r\n==> parsec: Executing phase: 'cmake'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    'cmake' '-G' 'Unix Makefiles' '-DCMAKE_INSTALL_PREFIX:STRING=/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4' '-DCMAKE_BUILD_TYPE:STRING=RelWithDebInfo' '-DCMAKE_INTERPROCEDURAL_OPTIMIZATION:BOOL=OFF' '-DCMAKE_VERBOSE_MAKEFILE:BOOL=ON' '-DCMAKE_INSTALL_RPATH_USE_LINK_PATH:BOOL=OFF' '-DCMAKE_INSTALL_RPATH:STRING=/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4/lib64;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/libxml2-2.9.10-qlt5ajqqmtin3atqcycnv67oex63cvny/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/libiconv-1.16-w6zptbclncs3jsnl3i4qtg72fgheiwdf/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/xz-5.2.5-ynkyqliadxgrqpk4mavevv3onehjrdco/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/zlib-1.2.11-p7dmb5pqi6svirhovljrkp3uyfiytz3m/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hwloc-2.4.1-eeigvjc57oehl37canx4h5lfganpvdq2/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/libpciaccess-0.16-ux5xkhgfhhmitpkxfuf5h6ooudsiwhd4/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/ncurses-6.2-n5vhymfigwg6e45k7thdfyeswuhxojtx/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/libfabric-1.12.1-lgug4cxazbl24jdtmttovd5qpnr6os7z/lib;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/lib64' '-DCMAKE_PREFIX_PATH:STRING=/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/python-3.8.10-4hkgzkkd2svggorn2u2yvtiwrb6ndwfl;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/libfabric-1.12.1-lgug4cxazbl24jdtmttovd5qpnr6os7z;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hwloc-2.4.1-eeigvjc57oehl37canx4h5lfganpvdq2;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/libpciaccess-0.16-ux5xkhgfhhmitpkxfuf5h6ooudsiwhd4;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/libxml2-2.9.10-qlt5ajqqmtin3atqcycnv67oex63cvny;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/xz-5.2.5-ynkyqliadxgrqpk4mavevv3onehjrdco;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cmake-3.20.5-zyz2eldbrcih3f6l37dyvdxmyoiyvhv5;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/zlib-1.2.11-p7dmb5pqi6svirhovljrkp3uyfiytz3m;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/libiconv-1.16-w6zptbclncs3jsnl3i4qtg72fgheiwdf;/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/ncurses-6.2-n5vhymfigwg6e45k7thdfyeswuhxojtx' '-DBUILD_SHARED_LIBS:BOOL=ON' '-DPARSEC_GPU_WITH_CUDA:BOOL=ON' '-DPARSEC_PROF_TRACE:BOOL=OFF' '-DPARSEC_DEBUG_HISTORY:BOOL=OFF' '-DPARSEC_DEBUG_PARANOID:BOOL=OFF' '/tmp/root/spack-stage/spack-stage-parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4/spack-src'\r\n\r\n1 error found in build log:\r\n     181    -- Looking for cudaDeviceCanAccessPeer\r\n     182    -- Looking for cudaDeviceCanAccessPeer - found\r\n     183    -- Looking for shm_open\r\n     184    -- Looking for shm_open - not found\r\n     185    -- Looking for shm_open in rt\r\n     186    -- Looking for shm_open in rt - found\r\n  >> 187    CMake Error at parsec/CMakeLists.txt:39 (FLEX_TARGET):\r\n     188      Unknown CMake command \"FLEX_TARGET\".\r\n     189\r\n     190\r\n     191    -- Configuring incomplete, errors occurred!\r\n     192    See also \"/tmp/root/spack-stage/spack-stage-parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4/spack-build-27wbe2d/CMakeFiles/CMakeOutput.log\".\r\n     193    See also \"/tmp/root/spack-stage/spack-stage-parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4/spack-build-27wbe2d/CMakeFiles/CMakeError.log\".\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-parsec-3.0.2012-27wbe2dfa5kf66pjltlewvhujxhplok4/spack-build-out.txt\r\n```\n\n### Information on your system\n\n* **Spack:** 0.13.3-9086-c5229a3913\r\n* **Python:** 3.8.5\r\n* **Platform:** linux-ubuntu20.04-cascadelake\r\n* **Concretizer:** original\n\n### Additional information\n\nBuild log: [parsec-build-out.txt](https://github.com/spack/spack/files/6963587/parsec-build-out.txt)\r\nCMake log: [parsec-01-cmake-out.txt](https://github.com/spack/spack/files/6963585/parsec-01-cmake-out.txt)\r\n\r\n@abouteiller @bosilca @herault\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "eugeneswalker",
    "url": "https://api.github.com/repos/spack/spack/issues/25339",
    "updated_at": "2021-08-12 06:22:46",
    "created_at": "2021-08-10 18:11:02",
    "closed_at": "2021-08-12 06:22:46",
    "state": "closed",
    "title": "Installation issue: parsec 3.0.2012: Unknown CMake command \"FLEX_TARGET\"",
    "number": 25339,
    "milestone": null,
    "labels": [
        "build-error",
        "e4s"
    ],
    "id": 965218058,
    "html_url": "https://github.com/spack/spack/issues/25339",
    "assignees": [],
    "comments": 3
}