{
    "body": "### Steps to reproduce the issue\n\n```\r\n$ spack install gmsh ^openblas ^openmpi %gcc@10.3.0\r\n\r\n=> Installing fltk-1.3.3-ho3ibyy7ye36opuutfjdodljwr3t77pk\r\n==> No binary for fltk-1.3.3-ho3ibyy7ye36opuutfjdodljwr3t77pk found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/f8/f8398d98d7221d40e77bc7b19e761adaf2f1ef8bb0c30eceb7beb4f2273d0d97.tar.gz\r\n==> Applied patch /home/cessenat/spack/var/spack/repos/builtin/packages/fltk/font.patch\r\n==> Applied patch /home/cessenat/spack/var/spack/repos/builtin/packages/fltk/fix_compare_val.patch\r\n==> Applied patch /home/cessenat/spack/var/spack/repos/builtin/packages/fltk/type_cast.patch\r\n==> Ran patch() for fltk\r\n==> fltk: Executing phase: 'install'\r\n==> fltk: Successfully installed fltk-1.3.3-ho3ibyy7ye36opuutfjdodljwr3t77pk\r\n  Fetch: 5.12s.  Build: 1m 6.69s.  Total: 1m 11.81s.\r\n[+] /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/fltk-1.3.3-ho3ibyy7ye36opuutfjdodljwr3t77pk\r\n==> Installing gmsh-4.8.4-dyc3aomfbb4iajqa6wj6gbkv36bt22b7\r\n==> No binary for gmsh-4.8.4-dyc3aomfbb4iajqa6wj6gbkv36bt22b7 found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/76/760dbdc072eaa3c82d066c5ba3b06eacdd3304eb2a97373fe4ada9509f0b6ace.tgz\r\n==> No patches needed for gmsh\r\n==> gmsh: Executing phase: 'cmake'\r\n==> gmsh: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j2'\r\n\r\n8 errors found in build log:\r\n     1679    [ 95%] Linking CXX executable t9\r\n     1680    /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/cmake-3.21.3-36k3lwt4\r\n             lt6otzgzhbyy5ozclcaktwgr/bin/cmake -E cmake_link_script CMakeFiles/t9.dir/link.txt --verbos\r\n             e=1\r\n     1681    /home/cessenat/spack/lib/spack/env/gcc/g++ -O2 -g -DNDEBUG -rdynamic CMakeFiles/t9.dir/tuto\r\n             rial/c++/t9.cpp.o -o t9  -Wl,-rpath,/tmp/cessenat/spack-stage/spack-stage-gmsh-4.8.4-dyc3ao\r\n             mfbb4iajqa6wj6gbkv36bt22b7/spack-build-dyc3aom:/home/cessenat/spack/opt/spack/linux-ubuntu2\r\n             1.04-x86_64_v2/gcc-10.3.0/gmp-6.2.1-kmvgnnl7n6kmrbwb4iejoqthfl4kqgmk/lib:/home/cessenat/spa\r\n             ck/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/mmg-5.5.2-t5w5i7njejurht2lit7iauikxve4r\r\n             rio/lib:/home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/cgns-4.2.0-5x\r\n             6bss36ipawp2mzu6fnytq6hpaorce7/lib:/home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_\r\n             v2/gcc-10.3.0/hdf5-1.10.7-3yil2ograiogsnp6fwggdid5xepa4lyq/lib:/home/cessenat/spack/opt/spa\r\n             ck/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/mesa-21.2.1-tr3qa73kcyybletytopcr5imdolh4qlt/lib \r\n             libgmsh.so.4.8.4 -L/home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/fl\r\n             tk-1.3.3-ho3ibyy7ye36opuutfjdodljwr3t77pk/lib -Wl,-rpath,/home/cessenat/spack/opt/spack/lin\r\n             ux-ubuntu21.04-x86_64_v2/gcc-10.3.0/fltk-1.3.3-ho3ibyy7ye36opuutfjdodljwr3t77pk/lib -lfltk_\r\n             images -lfltk_png -lfltk_z -lfltk_jpeg -lfltk_gl -lGLU -lGL -lfltk -lXext -lpthread -ldl -l\r\n             m -lX11 /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/gmp-6.2.1-kmv\r\n             gnnl7n6kmrbwb4iejoqthfl4kqgmk/lib/libgmp.so /home/cessenat/spack/opt/spack/linux-ubuntu21.0\r\n             4-x86_64_v2/gcc-10.3.0/mmg-5.5.2-t5w5i7njejurht2lit7iauikxve4rrio/lib/libmmg.so /home/cesse\r\n             nat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/med-4.0.0-r3keblhdneidv3algsad3d\r\n             i2fnbaztoj/lib/libmedC.a /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.\r\n             3.0/cgns-4.2.0-5x6bss36ipawp2mzu6fnytq6hpaorce7/lib/libcgns.so /home/cessenat/spack/opt/spa\r\n             ck/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/hdf5-1.10.7-3yil2ograiogsnp6fwggdid5xepa4lyq/lib/\r\n             libhdf5.so.103.3.0 /usr/lib/x86_64-linux-gnu/libsz.so -ldl /home/cessenat/spack/opt/spack/l\r\n             inux-ubuntu21.04-x86_64_v2/gcc-10.3.0/mesa-21.2.1-tr3qa73kcyybletytopcr5imdolh4qlt/lib/libG\r\n             L.so /usr/lib/x86_64-linux-gnu/libGLU.so -L/home/cessenat/spack/opt/spack/linux-ubuntu21.04\r\n             -x86_64_v2/gcc-10.3.0/openblas-0.3.17-65xx5tikdbe6preumsddancentravxei/lib -lopenblas\r\n     1682    [ 95%] Linking CXX executable t8\r\n     1683    /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/cmake-3.21.3-36k3lwt4\r\n             lt6otzgzhbyy5ozclcaktwgr/bin/cmake -E cmake_link_script CMakeFiles/t8.dir/link.txt --verbos\r\n             e=1\r\n     1684    /home/cessenat/spack/lib/spack/env/gcc/g++ -O2 -g -DNDEBUG -rdynamic CMakeFiles/t8.dir/tuto\r\n             rial/c++/t8.cpp.o -o t8  -Wl,-rpath,/tmp/cessenat/spack-stage/spack-stage-gmsh-4.8.4-dyc3ao\r\n             mfbb4iajqa6wj6gbkv36bt22b7/spack-build-dyc3aom:/home/cessenat/spack/opt/spack/linux-ubuntu2\r\n             1.04-x86_64_v2/gcc-10.3.0/gmp-6.2.1-kmvgnnl7n6kmrbwb4iejoqthfl4kqgmk/lib:/home/cessenat/spa\r\n             ck/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/mmg-5.5.2-t5w5i7njejurht2lit7iauikxve4r\r\n             rio/lib:/home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/cgns-4.2.0-5x\r\n             6bss36ipawp2mzu6fnytq6hpaorce7/lib:/home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_\r\n             v2/gcc-10.3.0/hdf5-1.10.7-3yil2ograiogsnp6fwggdid5xepa4lyq/lib:/home/cessenat/spack/opt/spa\r\n             ck/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/mesa-21.2.1-tr3qa73kcyybletytopcr5imdolh4qlt/lib \r\n             libgmsh.so.4.8.4 -L/home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/fl\r\n             tk-1.3.3-ho3ibyy7ye36opuutfjdodljwr3t77pk/lib -Wl,-rpath,/home/cessenat/spack/opt/spack/lin\r\n             ux-ubuntu21.04-x86_64_v2/gcc-10.3.0/fltk-1.3.3-ho3ibyy7ye36opuutfjdodljwr3t77pk/lib -lfltk_\r\n             images -lfltk_png -lfltk_z -lfltk_jpeg -lfltk_gl -lGLU -lGL -lfltk -lXext -lpthread -ldl -l\r\n             m -lX11 /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/gmp-6.2.1-kmv\r\n             gnnl7n6kmrbwb4iejoqthfl4kqgmk/lib/libgmp.so /home/cessenat/spack/opt/spack/linux-ubuntu21.0\r\n             4-x86_64_v2/gcc-10.3.0/mmg-5.5.2-t5w5i7njejurht2lit7iauikxve4rrio/lib/libmmg.so /home/cesse\r\n             nat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/med-4.0.0-r3keblhdneidv3algsad3d\r\n             i2fnbaztoj/lib/libmedC.a /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.\r\n             3.0/cgns-4.2.0-5x6bss36ipawp2mzu6fnytq6hpaorce7/lib/libcgns.so /home/cessenat/spack/opt/spa\r\n             ck/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/hdf5-1.10.7-3yil2ograiogsnp6fwggdid5xepa4lyq/lib/\r\n             libhdf5.so.103.3.0 /usr/lib/x86_64-linux-gnu/libsz.so -ldl /home/cessenat/spack/opt/spack/l\r\n             inux-ubuntu21.04-x86_64_v2/gcc-10.3.0/mesa-21.2.1-tr3qa73kcyybletytopcr5imdolh4qlt/lib/libG\r\n             L.so /usr/lib/x86_64-linux-gnu/libGLU.so -L/home/cessenat/spack/opt/spack/linux-ubuntu21.04\r\n             -x86_64_v2/gcc-10.3.0/openblas-0.3.17-65xx5tikdbe6preumsddancentravxei/lib -lopenblas\r\n  >> 1685    /usr/bin/ld: /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/fltk-1.3\r\n             .3-ho3ibyy7ye36opuutfjdodljwr3t77pk/lib/libfltk_gl.so: undefined reference to `XGetUtf8Font\r\n             AndGlyph'\r\n  >> 1686    /usr/bin/ld: /home/cessenat/spack/opt/spack/linux-ubuntu21.04-x86_64_v2/gcc-10.3.0/fltk-1.3\r\n             .3-ho3ibyy7ye36opuutfjdodljwr3t77pk/lib/libfltk_gl.so: undefined reference to `XGetUtf8Font\r\n             AndGlyph'\r\n  >> 1687    collect2: error: ld returned 1 exit status\r\n  >> 1688    make[2]: *** [CMakeFiles/t9.dir/build.make:109: t9] Error 1\r\n     1689    make[2]: Leaving directory '/tmp/cessenat/spack-stage/spack-stage-gmsh-4.8.4-dyc3aomfbb4iaj\r\n             qa6wj6gbkv36bt22b7/spack-build-dyc3aom'\r\n  >> 1690    make[1]: *** [CMakeFiles/Makefile2:741: CMakeFiles/t9.dir/all] Error 2\r\n     1691    make[1]: *** Waiting for unfinished jobs....\r\n  >> 1692    collect2: error: ld returned 1 exit status\r\n  >> 1693    make[2]: *** [CMakeFiles/t8.dir/build.make:109: t8] Error 1\r\n     1694    make[2]: Leaving directory '/tmp/cessenat/spack-stage/spack-stage-gmsh-4.8.4-dyc3aomfbb4iaj\r\n             qa6wj6gbkv36bt22b7/spack-build-dyc3aom'\r\n  >> 1695    make[1]: *** [CMakeFiles/Makefile2:793: CMakeFiles/t8.dir/all] Error 2\r\n     1696    make[1]: Leaving directory '/tmp/cessenat/spack-stage/spack-stage-gmsh-4.8.4-dyc3aomfbb4iaj\r\n             qa6wj6gbkv36bt22b7/spack-build-dyc3aom'\r\n     1697    make: *** [Makefile:169: all] Error 2\r\n\r\nSee build log for details:\r\n  /tmp/cessenat/spack-stage/spack-stage-gmsh-4.8.4-dyc3aomfbb4iajqa6wj6gbkv36bt22b7/spack-build-out.txt\r\n\r\n```\n\n### Information on your system\n\n$ spack debug report\r\n* **Spack:** 0.16.2-4553-b96d836a72\r\n* **Python:** 3.9.5\r\n* **Platform:** linux-ubuntu21.04-x86_64_v2\r\n* **Concretizer:** clingo\r\n\n\n### Additional information\n\n[spack-build-env.txt](https://github.com/spack/spack/files/7267724/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7267725/spack-build-out.txt)\r\n\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "cessenat",
    "url": "https://api.github.com/repos/spack/spack/issues/26408",
    "updated_at": "2021-10-03 08:55:39",
    "created_at": "2021-10-01 14:01:02",
    "closed_at": "2021-10-03 08:55:39",
    "state": "closed",
    "title": "Installation issue: gmsh",
    "number": 26408,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1013384661,
    "html_url": "https://github.com/spack/spack/issues/26408",
    "assignees": [],
    "comments": 3
}