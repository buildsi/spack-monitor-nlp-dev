{
    "body": "`configure` fails immediately if the `PETSC_DIR` environment variable is already set. Spack should unset this.\r\n```\r\n===============================================================================\r\n             Configuring PETSc to compile on your system                       \r\n===============================================================================\r\nTESTING: configureExternalPackagesDir from config.framework(/scratch/ajstewart/spack-stage/spack-stage-sFRYcv/petsc-3.7.4/config/BuildSystem/config/framework.py:834)\r\nTESTING: configureDebuggers from config.utilities.debuggers(/scratch/ajstewart/spack-stage/spack-stage-sFRYcv/petsc-3.7.4/config/BuildSystem/config/utilities/debuggers.py:22)\r\nTESTING: configureGit from config.sourceControl(/scratch/ajstewart/spack-stage/spack-stage-sFRYcv/petsc-3.7.4/config/BuildSystem/config/sourceControl.py:24)\r\nTESTING: configureMercurial from config.sourceControl(/scratch/ajstewart/spack-stage/spack-stage-sFRYcv/petsc-3.7.4/config/BuildSystem/config/sourceControl.py:35)\r\nTESTING: configureCLanguage from PETSc.options.languages(/scratch/ajstewart/spack-stage/spack-stage-sFRYcv/petsc-3.7.4/config/PETSc/options/languages.py:27)\r\nTESTING: configureDirectories from PETSc.options.petscdir(/scratch/ajstewart/spack-stage/spack-stage-sFRYcv/petsc-3.7.4/config/PETSc/options/petscdir.py:23)\r\n*******************************************************************************\r\n         UNABLE to CONFIGURE with GIVEN OPTIONS    (see configure.log for details):\r\n-------------------------------------------------------------------------------\r\nThe environmental variable PETSC_DIR /home/ajstewart/petsc MUST be the current directory /scratch/ajstewart/spack-stage/spack-stage-sFRYcv/petsc-3.7.4\r\n*******************************************************************************\r\n```",
    "user": "adamjstewart",
    "url": "https://api.github.com/repos/spack/spack/issues/2767",
    "updated_at": "2020-08-23 16:18:42",
    "created_at": "2017-01-06 22:36:41",
    "closed_at": "2017-01-08 01:38:54",
    "state": "closed",
    "title": "Unable to build PETSc, PETSC_DIR already set",
    "number": 2767,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 199307993,
    "html_url": "https://github.com/spack/spack/issues/2767",
    "assignees": [],
    "comments": 33
}