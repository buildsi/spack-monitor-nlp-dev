{
    "body": "### Steps to reproduce the issue\r\n\r\n`dealii@9.3.1 +cuda cuda_arch=70` build fails using:\r\n* `spack@develop` (f1fb816d93821a19046474a9252a5b6fb2c9cd00 from `Tue Nov 2 17:36:53 2021 -0400`)\r\n* Ubuntu 20.04, x86_64, GCC 9.3.0\r\n\r\nI am also using a cherry-pick of https://github.com/spack/spack/pull/27169 to get around the current build issue with `gmsh`.\r\n\r\nConcrete spec: [dealii.spec.yaml.txt](https://github.com/spack/spack/files/7465305/dealii.spec.yaml.txt)\r\n\r\nConcretization:\r\n```\r\nInput spec\r\n--------------------------------\r\n -   dealii+cuda cuda_arch=70\r\n\r\nConcretized\r\n--------------------------------\r\n -   dealii@9.3.1%gcc@9.3.0+adol-c+arborx+arpack+assimp+cuda~doc+examples+ginkgo+gmsh+gsl+hdf5~int64~ipo+metis+mpi+muparser~nanoflann~netcdf+oce~optflags+p4est+petsc~python+scalapack+simplex+slepc+sundials+symengine+threads~trilinos build_type=DebugRelease cuda_arch=70 cxxstd=default arch=linux-ubuntu20.04-x86_64\r\n[+]      ^adol-c@2.7.2%gcc@9.3.0~advanced_branching+atrig_erf~boost+doc+examples~openmp~sparse arch=linux-ubuntu20.04-x86_64\r\n[+]      ^arborx@1.1%gcc@9.3.0~cuda~ipo+mpi~openmp~rocm+serial~sycl~trilinos build_type=RelWithDebInfo arch=linux-ubuntu20.04-x86_64\r\n[+]          ^cmake@3.21.4%gcc@9.3.0~doc+ncurses+openssl+ownlibs~qt build_type=Release arch=linux-ubuntu20.04-x86_64\r\n[+]              ^ncurses@6.2%gcc@9.3.0~symlinks+termlib abi=none arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^pkgconf@1.8.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^openssl@1.1.1l%gcc@9.3.0~docs certs=system arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^perl@5.34.0%gcc@9.3.0+cpanm+shared+threads arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^berkeley-db@18.1.40%gcc@9.3.0+cxx~docs+stl patches=b231fcc4d5cff05e5c3a4814f6a5af0e9a966428dc2176540d2c05aff41de522 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^bzip2@1.0.8%gcc@9.3.0~debug~pic+shared arch=linux-ubuntu20.04-x86_64\r\n[+]                          ^diffutils@3.8%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                              ^libiconv@1.16%gcc@9.3.0 libs=shared,static arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^gdbm@1.19%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                          ^readline@8.1%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^zlib@1.2.11%gcc@9.3.0+optimize+pic+shared arch=linux-ubuntu20.04-x86_64\r\n[+]          ^kokkos@3.4.01%gcc@9.3.0~aggressive_vectorization~compiler_warnings~cuda~cuda_constexpr~cuda_lambda~cuda_ldg_intrinsic~cuda_relocatable_device_code~cuda_uvm~debug~debug_bounds_check~debug_dualview_modify_check~deprecated_code~examples~explicit_instantiation~hpx~hpx_async_dispatch~hwloc~ipo~memkind~numactl~openmp~pic+profiling~profiling_load_print~pthread~qthread~rocm+serial+shared~sycl~tests~tuning~wrapper amdgpu_target=none build_type=RelWithDebInfo cuda_arch=none std=14 arch=linux-ubuntu20.04-x86_64\r\n[+]          ^mpich@3.4.2%gcc@9.3.0~argobots+fortran+hwloc+hydra+libxml2+pci+romio~slurm~verbs~wrapperrpath device=ch4 netmod=ofi pmi=pmi arch=linux-ubuntu20.04-x86_64\r\n[+]              ^findutils@4.8.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^hwloc@2.5.0%gcc@9.3.0~cairo~cuda~gl~libudev+libxml2~netloc~nvml~opencl+pci~rocm+shared arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^libpciaccess@0.16%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^libtool@2.4.6%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                          ^m4@1.4.19%gcc@9.3.0+sigsegv patches=9dc5fbd0d5cb1037ab1e6d0ecc74a30df218d0a94bdd5a02759a97f62daca573,bfdffa7c2eb01021d5849b36972c069693654ad826c1a20b53534009a4ec7a89 arch=linux-ubuntu20.04-x86_64\r\n[+]                              ^libsigsegv@2.13%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^util-macros@1.19.3%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^libxml2@2.9.12%gcc@9.3.0~python arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^xz@5.2.5%gcc@9.3.0+pic libs=shared,static arch=linux-ubuntu20.04-x86_64\r\n[+]              ^libfabric@1.13.1%gcc@9.3.0~debug~kdreg fabrics=rxm,sockets,tcp,udp arch=linux-ubuntu20.04-x86_64\r\n[+]      ^arpack-ng@3.8.0%gcc@9.3.0+mpi+shared arch=linux-ubuntu20.04-x86_64\r\n[+]          ^openblas@0.3.18%gcc@9.3.0~bignuma~consistent_fpcsr~ilp64+locking+pic+shared threads=openmp arch=linux-ubuntu20.04-x86_64\r\n[+]      ^assimp@5.0.1%gcc@9.3.0~ipo+shared build_type=RelWithDebInfo arch=linux-ubuntu20.04-x86_64\r\n[+]          ^boost@1.76.0%gcc@9.3.0+atomic+chrono~clanglibcpp~container~context~coroutine+date_time~debug+exception~fiber+filesystem+graph~icu+iostreams+locale+log+math~mpi+multithreaded~numpy~pic+program_options~python+random+regex+serialization+shared+signals~singlethreaded+system~taggedlayout+test+thread+timer~versionedlayout+wave cxxstd=98 visibility=global arch=linux-ubuntu20.04-x86_64\r\n[+]      ^cuda@11.4.2%gcc@9.3.0~dev arch=linux-ubuntu20.04-x86_64\r\n[+]      ^ginkgo@1.4.0%gcc@9.3.0~cuda~develtools~full_optimizations~hwloc~ipo+openmp~rocm+shared amdgpu_target=none build_type=Release cuda_arch=none patches=43e571a49ea774793d89d145571c95ae7cdf991f5220d8fe84db217a3c613a32 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^gmsh@4.8.4%gcc@9.3.0+alglib~cairo+cgns+compression~eigen~external+fltk+gmp~hdf5~ipo+med+metis+mmg+mpi+netgen+oce~opencascade~openmp~petsc~privateapi+shared~slepc+tetgen+voropp build_type=RelWithDebInfo arch=linux-ubuntu20.04-x86_64\r\n[+]          ^cgns@4.2.0%gcc@9.3.0~base_scope~fortran+hdf5~int64~ipo~legacy~mem_debug+mpi+scoping+shared~static~testing build_type=RelWithDebInfo arch=linux-ubuntu20.04-x86_64\r\n[+]              ^hdf5@1.10.7%gcc@9.3.0~cxx+fortran+hl~ipo~java+mpi+shared~szip~threadsafe+tools api=v18 build_type=RelWithDebInfo arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^numactl@2.0.14%gcc@9.3.0 patches=4e1d78cbbb85de625bad28705e748856033eaafab92a66dffd383a3d7e00cc94,62fc8a8bf7665a60e8f4c93ebbd535647cebf74198f7afafec4c085a8825c006,ff37630df599cfabf0740518b91ec8daaf18e8f288b19adaae5364dc1f6b2296 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^autoconf@2.69%gcc@9.3.0 patches=35c449281546376449766f92d49fc121ca50e330e60fefcfc9be2af3253082c2,7793209b33013dc0f81208718c68440c5aae80e7a1c4b8d336e382525af791a7,a49dd5bac3b62daa0ff688ab4d508d71dbd2f4f8d7e2a02321926346161bf3ee arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^automake@1.16.3%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]          ^fltk@1.3.7%gcc@9.3.0+gl+shared~xft arch=linux-ubuntu20.04-x86_64\r\n[+]              ^libx11@1.7.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^inputproto@2.3.2%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^kbproto@1.0.7%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^libxcb@1.14%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^libpthread-stubs@0.4%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^libxau@1.0.8%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                          ^xproto@7.0.31%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^libxdmcp@1.1.2%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                          ^libbsd@0.11.3%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                              ^libmd@1.0.3%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^xcb-proto@1.14.1%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^xextproto@7.3.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^xtrans@1.3.5%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^mesa18@18.3.6%gcc@9.3.0+glx~llvm~opengles+osmesa patches=55a5611ca9fcbe8324c4d68a07b338134954ff12c5b122dc78ff376f012a1414 swr=none arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^binutils@2.36.1%gcc@9.3.0~gas+gold+headers~interwork+ld+libiberty~lto~nls+plugins libs=shared,static patches=a51b7bf4607645235be01683a3e2deb3a87d767cc124ea4ef6febf9f32abf4a7 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^bison@3.8.2%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^expat@2.4.1%gcc@9.3.0+libbsd arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^flex@2.6.4%gcc@9.3.0+lex~nls patches=09c22e5c6fef327d3e48eb23f0d610dcd3a35ab9207f12e0f875701c677978d3 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^gettext@0.21%gcc@9.3.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=linux-ubuntu20.04-x86_64\r\n[+]                          ^tar@1.34%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^help2man@1.47.16%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^glproto@1.4.17%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^libxext@1.3.3%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                  ^py-mako@1.1.4%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                      ^py-markupsafe@2.0.1%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                          ^py-setuptools@58.2.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]                              ^python@3.8.12%gcc@9.3.0+bz2+ctypes+dbm~debug+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93189bc278fbc37a50ed7f183bd8aaf249a8e1670a465f0db6bb4f8cf87,4c2457325f2b608b1b6a2c63087df8c26e07db3e3d493caf36a56f0ecf6fb768,f2fd060afc4b4618fe8104c4c5d771f36dc55b1db5a4623785a4ea707ec72fb4 arch=linux-ubuntu20.04-x86_64\r\n[+]                                  ^libffi@3.3%gcc@9.3.0 patches=26f26c6f29a7ce9bf370ad3ab2610f99365b4bdd7b82e7c31df41a3370d685c0 arch=linux-ubuntu20.04-x86_64\r\n[+]                                  ^sqlite@3.36.0%gcc@9.3.0+column_metadata+fts~functions~rtree arch=linux-ubuntu20.04-x86_64\r\n[+]                                  ^util-linux-uuid@2.36.2%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]          ^freetype@2.11.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^libpng@1.6.37%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]          ^gmp@6.2.1%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]          ^med@4.0.0%gcc@9.3.0+api23~fortran~ipo+mpi~shared build_type=RelWithDebInfo patches=ba351973779de38d658c62db0f97180449b40540c7e5be28dccf6098966cbf2a arch=linux-ubuntu20.04-x86_64\r\n[+]          ^mesa-glu@9.0.1%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]          ^mmg@5.5.2%gcc@9.3.0~doc~ipo+scotch+shared build_type=RelWithDebInfo arch=linux-ubuntu20.04-x86_64\r\n[+]              ^scotch@6.1.1%gcc@9.3.0+compression~esmumps~int64~metis+mpi+shared arch=linux-ubuntu20.04-x86_64\r\n[+]          ^oce@0.18.3%gcc@9.3.0~X11+tbb arch=linux-ubuntu20.04-x86_64\r\n[+]              ^intel-tbb@2020.3%gcc@9.3.0~ipo+shared+tm build_type=RelWithDebInfo cxxstd=default patches=62ba015ebd1819c45bef47411540b789b493e31ca668c4ff4cb2afcbc306b476,ce1fb16fb932ce86a82ca87cf0431d1a8c83652af9f552b264213b2ff2945d73,d62cb666de4010998c339cde6f41c7623a07e9fc69e498f2e149821c0c2c6dd0 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^gsl@2.7%gcc@9.3.0~external-cblas arch=linux-ubuntu20.04-x86_64\r\n[+]      ^metis@5.1.0%gcc@9.3.0~gdb~int64~real64+shared build_type=Release patches=4991da938c1d3a1d3dea78e49bbebecba00273f98df2a656e38b83d55b281da1,b1225da886605ea558db7ac08dd8054742ea5afe5ed61ad4d0fe7a495b1270d2 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^muparser@2.2.6.1%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^netlib-scalapack@2.1.0%gcc@9.3.0~ipo~pic+shared build_type=Release patches=1c9ce5fee1451a08c2de3cc87f446aeda0b818ebbce4ad0d980ddf2f2a0b2dc4,f2baedde688ffe4c20943c334f580eb298e04d6f35c86b90a1f4e8cb7ae344a2 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^ninja@1.10.2%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^p4est@2.8%gcc@9.3.0+mpi~openmp arch=linux-ubuntu20.04-x86_64\r\n[+]      ^petsc@3.16.0%gcc@9.3.0~X~batch~cgns~complex~cuda~debug+double~exodusii~fftw~giflib+hdf5~hpddm~hwloc+hypre~int64~jpeg~knl~libpng~libyaml~memkind+metis~mkl-pardiso~mmg~moab~mpfr+mpi~mumps~openmp~p4est~parmmg~ptscotch~random123~rocm~saws~scalapack+shared~strumpack~suite-sparse+superlu-dist~tetgen~trilinos~valgrind amdgpu_target=none clanguage=C cuda_arch=none arch=linux-ubuntu20.04-x86_64\r\n[+]          ^hypre@2.23.0%gcc@9.3.0~complex~cuda~debug+fortran~int64~internal-superlu~mixedint+mpi~openmp+shared~superlu-dist~unified-memory cuda_arch=none arch=linux-ubuntu20.04-x86_64\r\n[+]          ^parmetis@4.0.3%gcc@9.3.0~gdb~int64~ipo+shared build_type=RelWithDebInfo patches=4f892531eb0a807eb1b82e683a416d3e35154a455274cf9b162fb02054d11a5b,50ed2081bc939269689789942067c58b3e522c269269a430d5d34c00edbc5870,704b84f7c7444d4372cb59cca6e1209df4ef3b033bc4ee3cf50f369bce972a9d arch=linux-ubuntu20.04-x86_64\r\n[+]          ^superlu-dist@7.1.1%gcc@9.3.0~cuda~int64~ipo~openmp+shared build_type=RelWithDebInfo cuda_arch=none arch=linux-ubuntu20.04-x86_64\r\n[+]      ^slepc@3.16.0%gcc@9.3.0+arpack~blopex~cuda~rocm amdgpu_target=none cuda_arch=none arch=linux-ubuntu20.04-x86_64\r\n[+]      ^suite-sparse@5.10.1%gcc@9.3.0~cuda~openmp+pic~tbb arch=linux-ubuntu20.04-x86_64\r\n[+]          ^mpfr@4.1.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^autoconf-archive@2019.01.06%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n[+]              ^texinfo@6.5%gcc@9.3.0 patches=12f6edb0c6b270b8c8dba2ce17998c580db01182d871ee32b7b6e4129bd1d23a,1732115f651cff98989cb0215d8f64da5e0f7911ebf0c13b064920f088f2ffe1 arch=linux-ubuntu20.04-x86_64\r\n[+]      ^sundials@5.8.0%gcc@9.3.0+ARKODE+CVODE+CVODES+IDA+IDAS+KINSOL~cuda+examples+examples-install~f2003~fcmix+generic-math~hypre~int64~ipo~klu~lapack~monitoring+mpi~openmp~petsc~pthread~raja~rocm+shared+static~superlu-dist~superlu-mt~sycl~trilinos amdgpu_target=none build_type=RelWithDebInfo cuda_arch=none precision=double arch=linux-ubuntu20.04-x86_64\r\n[+]      ^symengine@0.7.0%gcc@9.3.0~boostmp~flint~ipo~llvm+mpc+mpfr~openmp~piranha+shared+thread_safe build_type=Release arch=linux-ubuntu20.04-x86_64\r\n[+]          ^mpc@1.1.0%gcc@9.3.0 arch=linux-ubuntu20.04-x86_64\r\n```\r\n\r\n```\r\n$> spack install -f dealii.spec.yaml\r\n...\r\n==> Installing dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up\r\n==> No binary for dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/a6/a62f4676ab2dc029892251d141427fb75cbb83cddd606019f615d0dde9c61ab8.tar.gz\r\n==> No patches needed for dealii\r\n==> dealii: Executing phase: 'cmake'\r\n==> dealii: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 1:\r\n    'ninja' '-j16' '-v'\r\n...\r\n     1682    [923/1232] /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-kzvgtazryflfa75sldlpt3wbbyk3nvfs/bin/mpic++ -DBOOST_NO_AUTO_PTR -I/tmp/root/spac\r\n             k-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-build-uubbc62/source/sundials -I/tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubb\r\n             c62yai3lwx6meyrl6eodk5av53up/spack-build-uubbc62/include -I/tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/includ\r\n             e -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.2-fqzkwga5t4jkbfhlbi6sj774t5uwaed5/include -isystem /spack/opt/spack/linux-ubuntu2\r\n             0.04-x86_64/gcc-9.3.0/openblas-0.3.18-xsf3dfivb2jyrdfnh6wc37kqkk6tsrvm/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/intel-tbb-2020.\r\n             3-zny3kzndwitr3jdic6atzx4bpatfda5t/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/zlib-1.2.11-ufqpqnpj5gjkfx5sd2o3twwveuowcz2b/includ\r\n             e -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/boost-1.76.0-ozz2ae6ekwldfpu5ecx2i2r6zty7klkt/include -isystem /spack/opt/spack/linux-ubuntu\r\n             20.04-x86_64/gcc-9.3.0/ginkgo-1.4.0-vyyohp3cyytuu674vulcww7vqwd2xv5y/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/metis-5.1.0-vds2a\r\n             7ehbmqig5t4e5albl6ivgtl4mvm/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/suite-sparse-5.10.1-tbtm5oscdd2k25jjz6sa7vfveq2efmvk/inclu\r\n             de -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/kokkos-3.4.01-du7czquoetgvdnp6zrnzcmovasxjzbra/include -isystem /spack/opt/spack/linux-ubun\r\n             tu20.04-x86_64/gcc-9.3.0/petsc-3.16.0-r5v2pbyxi7pexe4qqg5x653rs6cjraal/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hypre-2.23.0-6o\r\n             peow2daktv7g7iwuvk7zzanjo6dlx6/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/superlu-dist-7.1.1-a63lsyd2n5amyyzrnhuumgljy5stvgaj/inc\r\n             lude -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.10.7-jqlpmecvqqsutiptq4w2quiljuh3tfvk/include -isystem /spack/opt/spack/linux-ubun\r\n             tu20.04-x86_64/gcc-9.3.0/parmetis-4.0.3-n3nusc6bzub6bqxmecqp5vsdcfbc3u46/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/arborx-1.1-zj\r\n             gqvsbz6rdzoktll763ncl5hnss3ooq/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/arborx-1.1-zjgqvsbz6rdzoktll763ncl5hnss3ooq/include/det\r\n             ails -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/adol-c-2.7.2-fcrbyxpjgnrzjdjqzxl57r235zz4smnj/include -isystem /spack/opt/spack/linux-ubu\r\n             ntu20.04-x86_64/gcc-9.3.0/assimp-5.0.1-utcczxcdvuviqpqf6utiy45zh4pkygdw/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/gmsh-4.8.4-smu\r\n             54z7pb76eydeigl37wqcov7by4xaz/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/gsl-2.7-qw4kvgzejoc7pldkcyoz4t4xtlrtjgxl/include -isyste\r\n             m /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/muparser-2.2.6.1-2yzckb5imvbksbqpapxhbld4c7d2rhdy/include -isystem /spack/opt/spack/linux-ubuntu20.04\r\n             -x86_64/gcc-9.3.0/oce-0.18.3-3e5ykiszvbvkfpjqrwwjkfw2kxbhtptt/include/oce -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/p4est-2.8-xjndnbeo7h\r\n             4gbdi3dlwf324c7e3o5o3z/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/netlib-scalapack-2.1.0-ocz2byjvblv63eeo746hyo3t3wqqtxlv/include\r\n              -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/slepc-3.16.0-m4sjgrdnwqbkcgn2qjrhkrazxbd4os5a/include -isystem /spack/opt/spack/linux-ubuntu2\r\n             0.04-x86_64/gcc-9.3.0/sundials-5.8.0-5xm35a345ib4xuav4dbfp66u3c3zyykv/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/symengine-0.7.0-\r\n             l5vur43rcbvyqm2ivmstxapvk6rezs32/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/gmp-6.2.1-hsp3nftsp3fgaexctosrnlyvfyjhsib4/include -i\r\n             system /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpc-1.1.0-4qx6quc77s2kzkexrwkglyfreg6egyqe/include -isystem /spack/opt/spack/linux-ubuntu20.04-x\r\n             86_64/gcc-9.3.0/mpfr-4.1.0-y2yc3axva6cdixjlx2wndrvld4nto6o5/include -fPIC -Wall -Wextra -Wmissing-braces -Woverloaded-virtual -Wpointer-arith -Wsign-compar\r\n             e -Wsuggest-override -Wswitch -Wsynth -Wwrite-strings -Wno-placement-new -Wno-deprecated-declarations -Wno-literal-suffix -Wno-psabi -Wno-class-memaccess -\r\n             fopenmp-simd -march=x86-64 -mtune=generic -Wno-unused-local-typedefs -O2 -funroll-loops -funroll-all-loops -fstrict-aliasing -MD -MT source/sundials/CMakeF\r\n             iles/obj_sundials_release.dir/n_vector.cc.o -MF source/sundials/CMakeFiles/obj_sundials_release.dir/n_vector.cc.o.d -o source/sundials/CMakeFiles/obj_sundi\r\n             als_release.dir/n_vector.cc.o -c /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/source/sundials/n_vector.cc\r\n  >> 1683    FAILED: source/sundials/CMakeFiles/obj_sundials_release.dir/n_vector.cc.o\r\n     1684    /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-kzvgtazryflfa75sldlpt3wbbyk3nvfs/bin/mpic++ -DBOOST_NO_AUTO_PTR -I/tmp/root/spack-stage/spa\r\n             ck-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-build-uubbc62/source/sundials -I/tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6\r\n             meyrl6eodk5av53up/spack-build-uubbc62/include -I/tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/include -isystem\r\n             /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.2-fqzkwga5t4jkbfhlbi6sj774t5uwaed5/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64\r\n             /gcc-9.3.0/openblas-0.3.18-xsf3dfivb2jyrdfnh6wc37kqkk6tsrvm/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/intel-tbb-2020.3-zny3kzndw\r\n             itr3jdic6atzx4bpatfda5t/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/zlib-1.2.11-ufqpqnpj5gjkfx5sd2o3twwveuowcz2b/include -isystem\r\n             /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/boost-1.76.0-ozz2ae6ekwldfpu5ecx2i2r6zty7klkt/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_6\r\n             4/gcc-9.3.0/ginkgo-1.4.0-vyyohp3cyytuu674vulcww7vqwd2xv5y/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/metis-5.1.0-vds2a7ehbmqig5t4\r\n             e5albl6ivgtl4mvm/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/suite-sparse-5.10.1-tbtm5oscdd2k25jjz6sa7vfveq2efmvk/include -isystem\r\n              /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/kokkos-3.4.01-du7czquoetgvdnp6zrnzcmovasxjzbra/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86\r\n             _64/gcc-9.3.0/petsc-3.16.0-r5v2pbyxi7pexe4qqg5x653rs6cjraal/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hypre-2.23.0-6opeow2daktv7\r\n             g7iwuvk7zzanjo6dlx6/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/superlu-dist-7.1.1-a63lsyd2n5amyyzrnhuumgljy5stvgaj/include -isyst\r\n             em /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.10.7-jqlpmecvqqsutiptq4w2quiljuh3tfvk/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86\r\n             _64/gcc-9.3.0/parmetis-4.0.3-n3nusc6bzub6bqxmecqp5vsdcfbc3u46/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/arborx-1.1-zjgqvsbz6rdzo\r\n             ktll763ncl5hnss3ooq/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/arborx-1.1-zjgqvsbz6rdzoktll763ncl5hnss3ooq/include/details -isyst\r\n             em /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/adol-c-2.7.2-fcrbyxpjgnrzjdjqzxl57r235zz4smnj/include -isystem /spack/opt/spack/linux-ubuntu20.04-x8\r\n             6_64/gcc-9.3.0/assimp-5.0.1-utcczxcdvuviqpqf6utiy45zh4pkygdw/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/gmsh-4.8.4-smu54z7pb76eyd\r\n             eigl37wqcov7by4xaz/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/gsl-2.7-qw4kvgzejoc7pldkcyoz4t4xtlrtjgxl/include -isystem /spack/op\r\n             t/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/muparser-2.2.6.1-2yzckb5imvbksbqpapxhbld4c7d2rhdy/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc\r\n             -9.3.0/oce-0.18.3-3e5ykiszvbvkfpjqrwwjkfw2kxbhtptt/include/oce -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/p4est-2.8-xjndnbeo7h4gbdi3dlwf3\r\n             24c7e3o5o3z/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/netlib-scalapack-2.1.0-ocz2byjvblv63eeo746hyo3t3wqqtxlv/include -isystem /\r\n             spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/slepc-3.16.0-m4sjgrdnwqbkcgn2qjrhkrazxbd4os5a/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64\r\n             /gcc-9.3.0/sundials-5.8.0-5xm35a345ib4xuav4dbfp66u3c3zyykv/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/symengine-0.7.0-l5vur43rcbv\r\n             yqm2ivmstxapvk6rezs32/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/gmp-6.2.1-hsp3nftsp3fgaexctosrnlyvfyjhsib4/include -isystem /spa\r\n             ck/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpc-1.1.0-4qx6quc77s2kzkexrwkglyfreg6egyqe/include -isystem /spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9\r\n             .3.0/mpfr-4.1.0-y2yc3axva6cdixjlx2wndrvld4nto6o5/include -fPIC -Wall -Wextra -Wmissing-braces -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wsuggest\r\n             -override -Wswitch -Wsynth -Wwrite-strings -Wno-placement-new -Wno-deprecated-declarations -Wno-literal-suffix -Wno-psabi -Wno-class-memaccess -fopenmp-sim\r\n             d -march=x86-64 -mtune=generic -Wno-unused-local-typedefs -O2 -funroll-loops -funroll-all-loops -fstrict-aliasing -MD -MT source/sundials/CMakeFiles/obj_su\r\n             ndials_release.dir/n_vector.cc.o -MF source/sundials/CMakeFiles/obj_sundials_release.dir/n_vector.cc.o.d -o source/sundials/CMakeFiles/obj_sundials_release\r\n             .dir/n_vector.cc.o -c /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/source/sundials/n_vector.cc\r\n     1685    In file included from /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/source/sundials/n_vector.cc:20:\r\n     1686    /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/include/deal.II/sundials/n_vector.templates.h: In instantiation o\r\n             f 'void* dealii::SUNDIALS::internal::NVectorOperations::get_communicator_as_void_ptr(N_Vector) [with VectorType = dealii::LinearAlgebra::distributed::Vecto\r\n             r<double>; typename std::enable_if<(! dealii::is_serial_vector<T>::value), int>::type <anonymous> = 0; N_Vector = _generic_N_Vector*]':\r\n     1687    /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/include/deal.II/sundials/n_vector.templates.h:948:29:   required\r\n             from '_generic_N_Vector* dealii::SUNDIALS::internal::create_empty_nvector() [with VectorType = dealii::LinearAlgebra::distributed::Vector<double>; N_Vector\r\n              = _generic_N_Vector*]'\r\n     1688    /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/include/deal.II/sundials/n_vector.templates.h:419:48:   required\r\n             from '_generic_N_Vector* dealii::SUNDIALS::internal::create_nvector(dealii::SUNDIALS::internal::NVectorContent<VectorType>*) [with VectorType = dealii::Lin\r\n             earAlgebra::distributed::Vector<double>; N_Vector = _generic_N_Vector*]'\r\n     1689    /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/include/deal.II/sundials/n_vector.templates.h:388:21:   required\r\n             from 'dealii::SUNDIALS::internal::NVectorView<VectorType>::NVectorView(VectorType&) [with VectorType = dealii::LinearAlgebra::distributed::Vector<double>]'\r\n     1690    /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-build-uubbc62/source/sundials/n_vector.inst:74:37:   required from he\r\n             re\r\n  >> 1691    /tmp/root/spack-stage/spack-stage-dealii-9.3.1-uubbc62yai3lwx6meyrl6eodk5av53up/spack-src/include/deal.II/sundials/n_vector.templates.h:534:38: error: inva\r\n             lid conversion from 'MPI_Comm' {aka 'int'} to 'void*' [-fpermissive]\r\n     1692      534 |   return get_communicator<VectorType>(v);\r\n     1693          |          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~\r\n     1694          |                                      |\r\n     1695          |                                      MPI_Comm {aka int}\r\n...\r\n```\r\n\r\n### Information on your system\r\n\r\n* **Spack:** 0.16.3-5208-f1fb816d93\r\n* **Python:** 3.8.10\r\n* **Platform:** linux-ubuntu20.04-cascadelake\r\n* **Concretizer:** clingo\r\n\r\n### Additional information\r\n\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7465308/spack-build-out.txt)\r\n[spack-build-env.txt](https://github.com/spack/spack/files/7465310/spack-build-env.txt)\r\n\r\n@luca-heltai @jppelteret @balay @sethrj \r\n\r\n\r\n\r\n### General information\r\n\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\r\n- [X] I have uploaded the build log and environment files\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "eugeneswalker",
    "url": "https://api.github.com/repos/spack/spack/issues/27183",
    "updated_at": "2021-12-13 17:38:52",
    "created_at": "2021-11-03 04:32:33",
    "closed_at": "None",
    "state": "open",
    "title": "dealii +cuda build fails: invalid conversion from 'MPI_Comm' {aka 'int'} to 'void*'",
    "number": 27183,
    "milestone": null,
    "labels": [
        "build-error",
        "cuda",
        "e4s"
    ],
    "id": 1043077414,
    "html_url": "https://github.com/spack/spack/issues/27183",
    "assignees": [],
    "comments": 10
}