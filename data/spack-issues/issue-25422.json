{
    "body": "### Steps to reproduce the issue\n\n`axom +cuda` fails during build phase using:\r\n\r\n- spack@develop [f0875b2](https://github.com/spack/spack/commit/f0875b2fef8e495809854141785c1fc7f5d86407)\r\n- Ubuntu 20.04, GCC 9.3.0\r\n- Docker container: `ecpe4s/ubuntu20.04-runner-x86_64:2021-07-01`\r\n\r\nSpec: [axom-cuda-spack.yaml.txt](https://github.com/spack/spack/files/6985330/axom-cuda-spack.yaml.txt)\r\n\r\nHow to reproduce:\r\n```\r\n$ git clone https://github.com/spack/spack\r\n$ cd spack\r\n$ git checkout f0875b2\r\n$ . share/spack/setup-env.sh\r\n$ spack env create test ~/axom-cuda-spack.yaml\r\n$ spack env activate test\r\n$ spack buildcache keys -it\r\n$ spack concretize -f\r\n$ spack install\r\n==> Installing axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam\r\n==> No binary for axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam found: installing from source\r\n==> Using cached archive: /root/spack/var/spack/cache/_source-cache/git//LLNL/axom.git/v0.5.0.tar.gz\r\n==> Warning: Fetching from mirror without a checksum!\r\n  This package is normally checked out from a version control system, but it has been archived on a spack mirror.  This means we cannot know a checksum for the tarball in advance. Be sure that your connection to this mirror is secure!\r\n==> Ran patch() for axom\r\n==> axom: Executing phase: 'initconfig'\r\n==> axom: Executing phase: 'cmake'\r\n==> axom: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16'\r\n\r\n17 errors found in build log:\r\n     309    [  8%] Building CXX object axom/inlet/CMakeFiles/inlet.dir/Field.cpp.o\r\n     310    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/slam/examples/tinyHydro && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-sta\r\n            ge/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/root/spack/opt/spack/linux-ubuntu2\r\n            0.04-x86_64/gcc-9.3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ub\r\n            untu20.04-x86_64/gcc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem /root/spack/opt/s\r\n            pack/linux-ubuntu20.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -Wall\r\n             -Wextra  -O2 -g -DNDEBUG -fPIC -fopenmp -std=c++14 -MD -MT axom/slam/examples/tinyHydro/CMakeFiles/slam_tinyHydro_ex.dir/TinyHydroTypes.cpp.o -MF CMakeFiles/slam_tinyHydro_ex.dir/TinyHydroTypes.cpp.o.d -o CMakeFiles/s\r\n            lam_tinyHydro_ex.dir/TinyHydroTypes.cpp.o -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/slam/examples/tinyHydro/TinyHydroTypes.cpp\r\n     311    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/mint && /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/bi\r\n            n/nvcc -forward-unknown-to-host-compiler -ccbin=/usr/bin/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-s\r\n            tage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ub\r\n            untu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem=/tmp/root/spack-s\r\n            tage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem=/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem=/ro\r\n            ot/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -isystem=/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3l\r\n            h/include -isystem=/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include/conduit -isystem=/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.8.22-g\r\n            jp7zblr42pnecabd7utj6ic6b4s34f3/include -restrict --expt-extended-lambda -arch sm_70  -std=c++14 -O2 -g -DNDEBUG --generate-code=arch=compute_70,code=[compute_70,sm_70] -Xcompiler=-fPIC -Xcompiler= -Xcompiler=-fopenmp \r\n            -std=c++14 -MD -MT axom/mint/CMakeFiles/mint.dir/fem/FiniteElement.cpp.o -MF CMakeFiles/mint.dir/fem/FiniteElement.cpp.o.d -x cu -dc /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-s\r\n            rc/src/axom/mint/fem/FiniteElement.cpp -o CMakeFiles/mint.dir/fem/FiniteElement.cpp.o\r\n     312    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/inlet && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stage-axo\r\n            m-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.\r\n            3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/g\r\n            cc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem /root/spack/opt/spack/linux-ubuntu2\r\n            0.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -isystem /root/spack/op\r\n            t/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include\r\n            /conduit -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.8.22-gjp7zblr42pnecabd7utj6ic6b4s34f3/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/lua-5.3.5-xgdyl636qj2wrc\r\n            ylr5256xgxsjpmjybv/include -Wall -Wextra  -O2 -g -DNDEBUG -fPIC -fopenmp -Wno-class-memaccess -std=c++14 -MD -MT axom/inlet/CMakeFiles/inlet.dir/Field.cpp.o -MF CMakeFiles/inlet.dir/Field.cpp.o.d -o CMakeFiles/inlet.di\r\n            r/Field.cpp.o -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/inlet/Field.cpp\r\n     313    [  9%] Building Fortran object axom/sidre/CMakeFiles/sidre.dir/interface/c_fortran/wrapfsidre.F.o\r\n     314    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/sidre && /root/spack/lib/spack/env/gcc/gfortran -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stag\r\n            e-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkp\r\n            qpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/lib/fortran -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86\r\n            _64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -I/tmp/root/spack-stage/spack-stage-axo\r\n            m-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -I/root/spack/opt/spack/linux-ubuntu20.\r\n            04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include -I/root/spack/opt/spack/linux-u\r\n            buntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include/conduit -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.8.22-gjp7zblr42pnecabd7utj6ic6b4s34f3/include -O2 -g -DNDEBUG\r\n             -J../../lib/fortran -fPIC -fopenmp -ffree-form -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/sidre/interface/c_fortran/wrapfsidre.F -o CMakeFiles/sidre.dir/interfa\r\n            ce/c_fortran/wrapfsidre.F.o\r\n  >> 315    g++: error: unrecognized command line option '-Xcompiler=-fopenmp'\r\n  >> 316    g++: error: unrecognized command line option '-Xcompiler=-fopenmp'\r\n  >> 317    g++: error: unrecognized command line option '-Xcompiler=-fopenmp'\r\n  >> 318    g++: error: unrecognized command line option '-Xcompiler=-fopenmp'\r\n  >> 319    make[2]: *** [axom/core/CMakeFiles/core.dir/build.make:79: axom/core/CMakeFiles/core.dir/utilities/FileUtilities.cpp.o] Error 1\r\n     320    make[2]: *** Waiting for unfinished jobs....\r\n  >> 321    make[2]: *** [axom/primal/CMakeFiles/primal.dir/build.make:79: axom/primal/CMakeFiles/primal.dir/operators/detail/intersect_impl.cpp.o] Error 1\r\n     322    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri'\r\n  >> 323    g++: error: unrecognized command line option '-Xcompiler=-fopenmp'\r\n  >> 324    make[1]: *** [CMakeFiles/Makefile2:1501: axom/primal/CMakeFiles/primal.dir/all] Error 2\r\n     325    make[1]: *** Waiting for unfinished jobs....\r\n  >> 326    make[2]: *** [axom/core/CMakeFiles/core.dir/build.make:93: axom/core/CMakeFiles/core.dir/utilities/StringUtilities.cpp.o] Error 1\r\n     327    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri'\r\n  >> 328    make[1]: *** [CMakeFiles/Makefile2:810: axom/core/CMakeFiles/core.dir/all] Error 2\r\n  >> 329    make[2]: *** [axom/spin/CMakeFiles/spin.dir/build.make:79: axom/spin/CMakeFiles/spin.dir/__/Axom.cpp.o] Error 1\r\n     330    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri'\r\n  >> 331    make[1]: *** [CMakeFiles/Makefile2:2198: axom/spin/CMakeFiles/spin.dir/all] Error 2\r\n  >> 332    make[2]: *** [axom/mint/CMakeFiles/mint.dir/build.make:79: axom/mint/CMakeFiles/mint.dir/fem/FiniteElement.cpp.o] Error 1\r\n     333    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri'\r\n  >> 334    make[1]: *** [C* **Spack:** 0.16.2-3907-f0875b2fef\r\nMakeFiles/Makefile2:1872: axom/mint/CMakeFiles/mint.dir/all] Error 2\r\n     335    [  9%] Building CXX object axom/slic/CMakeFiles/slic.dir/core/Logger.cpp.o\r\n     336    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/slic && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stage-axom\r\n            -0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2q\r\n            xuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/lib/fortran -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gc\r\n            c-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem /tmp/root/spack-stage/spack-stage-ax\r\n            om-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem /root/spack/opt/spack/\r\n            linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -Wall -Wextra  -O2 -g -DNDEBUG -fPIC -fopenmp -std=c++14 -MD -MT axom/slic/CMakeFiles/slic.dir/core/Logger.cpp.o -MF CMakeFiles/sl\r\n            ic.dir/core/Logger.cpp.o.d -o CMakeFiles/slic.dir/core/Logger.cpp.o -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/slic/core/Logger.cpp\r\n     337    [ 10%] Building CXX object axom/lumberjack/CMakeFiles/lumberjack.dir/RootCommunicator.cpp.o\r\n     338    [ 11%] Building CXX object axom/inlet/CMakeFiles/inlet.dir/Function.cpp.o\r\n     339    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/lumberjack && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stag\r\n            e-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/g\r\n            cc-9.3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86\r\n            _64/gcc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem /root/spack/opt/spack/linux-ub\r\n            untu20.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -Wall -Wextra  -O2\r\n             -g -DNDEBUG -fPIC -fopenmp -std=c++14 -MD -MT axom/lumberjack/CMakeFiles/lumberjack.dir/RootCommunicator.cpp.o -MF CMakeFiles/lumberjack.dir/RootCommunicator.cpp.o.d -o CMakeFiles/lumberjack.dir/RootCommunicator.cpp.o\r\n             -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/lumberjack/RootCommunicator.cpp\r\n     340    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/inlet && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stage-axo\r\n            m-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.\r\n            3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/g\r\n            cc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem /root/spack/opt/spack/linux-ubuntu2\r\n            0.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -isystem /root/spack/op\r\n            t/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include\r\n            /conduit -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.8.22-gjp7zblr42pnecabd7utj6ic6b4s34f3/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/lua-5.3.5-xgdyl636qj2wrc\r\n            ylr5256xgxsjpmjybv/include -Wall -Wextra  -O2 -g -DNDEBUG -fPIC -fopenmp -Wno-class-memaccess -std=c++14 -MD -MT axom/inlet/CMakeFiles/inlet.dir/Function.cpp.o -MF CMakeFiles/inlet.dir/Function.cpp.o.d -o CMakeFiles/in\r\n            let.dir/Function.cpp.o -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/inlet/Function.cpp\r\n\r\n     ...\r\n\r\n     343    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/slam/examples/lulesh2.0.3_orig && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DUSE_MPI=1 -Dslam_lulesh_orig_\r\n            ex_EXPORTS -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -isys\r\n            tem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -Wall -Wextra  -O2 -g -DNDEBUG -fPIE -fopenmp -std=c++14   -Wno-unused-parameter   -MD -MT axom/slam/exa\r\n            mples/lulesh2.0.3_orig/CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-comm.cc.o -MF CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-comm.cc.o.d -o CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-comm.cc.o -c /tmp/root/spack-stage/spack\r\n            -stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/slam/examples/lulesh2.0.3_orig/lulesh-comm.cc\r\n     344    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/slam/examples/lulesh2.0.3_orig && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DUSE_MPI=1 -Dslam_lulesh_orig_\r\n            ex_EXPORTS -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -isys\r\n            tem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -Wall -Wextra  -O2 -g -DNDEBUG -fPIE -fopenmp -std=c++14   -Wno-unused-parameter   -MD -MT axom/slam/exa\r\n            mples/lulesh2.0.3_orig/CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-init.cc.o -MF CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-init.cc.o.d -o CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-init.cc.o -c /tmp/root/spack-stage/spack\r\n            -stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/slam/examples/lulesh2.0.3_orig/lulesh-init.cc\r\n     345    [ 12%] Building CXX object axom/inlet/CMakeFiles/inlet.dir/Inlet.cpp.o\r\n     346    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/inlet && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stage-axo\r\n            m-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.\r\n            3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/g\r\n            cc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem /root/spack/opt/spack/linux-ubuntu2\r\n            0.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -isystem /root/spack/op\r\n            t/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include\r\n            /conduit -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.8.22-gjp7zblr42pnecabd7utj6ic6b4s34f3/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/lua-5.3.5-xgdyl636qj2wrc\r\n            ylr5256xgxsjpmjybv/include -Wall -Wextra  -O2 -g -DNDEBUG -fPIC -fopenmp -Wno-class-memaccess -std=c++14 -MD -MT axom/inlet/CMakeFiles/inlet.dir/Inlet.cpp.o -MF CMakeFiles/inlet.dir/Inlet.cpp.o.d -o CMakeFiles/inlet.di\r\n            r/Inlet.cpp.o -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/inlet/Inlet.cpp\r\n     347    [ 12%] Building CUDA object axom/quest/CMakeFiles/quest.dir/AllNearestNeighbors.cpp.o\r\n     348    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/quest && /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/b\r\n            in/nvcc -forward-unknown-to-host-compiler -ccbin=/usr/bin/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-\r\n            stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/lib/fortran -I/root/spack/opt/spack/linux-\r\n            ubuntu20.04-x86_64/gcc-9.3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/l\r\n            inux-ubuntu20.04-x86_64/gcc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem=/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem=/root/spac\r\n            k/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem=/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/includ\r\n            e -isystem=/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include -isystem=/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbu\r\n            qsgfr4ouirgsdj3lh/include/conduit -isystem=/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.8.22-gjp7zblr42pnecabd7utj6ic6b4s34f3/include -restrict --expt-extended-lambda -arch sm_70  -std=c++14 -O2 -g -\r\n            DNDEBUG --generate-code=arch=compute_70,code=[compute_70,sm_70] -Xcompiler=-fPIC -Xcompiler= -Xcompiler=-fopenmp -std=c++14 -MD -MT axom/quest/CMakeFiles/quest.dir/AllNearestNeighbors.cpp.o -MF CMakeFiles/quest.dir/All\r\n            NearestNeighbors.cpp.o.d -x cu -dc /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/quest/AllNearestNeighbors.cpp -o CMakeFiles/quest.dir/AllNearestNeighbors.cpp.o\r\n  >> 349    g++: error: unrecognized command line option '-Xcompiler=-fopenmp'\r\n  >> 350    make[2]: *** [axom/quest/CMakeFiles/quest.dir/build.make:79: axom/quest/CMakeFiles/quest.dir/AllNearestNeighbors.cpp.o] Error 1\r\n     351    make[2]: Leaving directory '/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri'\r\n  >> 352    make[1]: *** [CMakeFiles/Makefile2:2521: axom/quest/CMakeFiles/quest.dir/all] Error 2\r\n     353    [ 13%] Building CXX object axom/inlet/CMakeFiles/inlet.dir/Container.cpp.o\r\n     354    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/inlet && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-stage/spack-stage-axo\r\n            m-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.\r\n            3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/g\r\n            cc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem /root/spack/opt/spack/linux-ubuntu2\r\n            0.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -isystem /root/spack/op\r\n            t/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/conduit-0.7.2-qjz5r7hnmlyesbuqsgfr4ouirgsdj3lh/include\r\n            /conduit -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/hdf5-1.8.22-gjp7zblr42pnecabd7utj6ic6b4s34f3/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/lua-5.3.5-xgdyl636qj2wrc\r\n            ylr5256xgxsjpmjybv/include -Wall -Wextra  -O2 -g -DNDEBUG -fPIC -fopenmp -Wno-class-memaccess -std=c++14 -MD -MT axom/inlet/CMakeFiles/inlet.dir/Container.cpp.o -MF CMakeFiles/inlet.dir/Container.cpp.o.d -o CMakeFiles/\r\n            inlet.dir/Container.cpp.o -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/inlet/Container.cpp\r\n     355    [ 13%] Building CXX object axom/slam/examples/lulesh2.0.3_orig/CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-util.cc.o\r\n     356    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/slam/examples/lulesh2.0.3_orig && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DUSE_MPI=1 -Dslam_lulesh_orig_\r\n            ex_EXPORTS -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -isys\r\n            tem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -Wall -Wextra  -O2 -g -DNDEBUG -fPIE -fopenmp -std=c++14   -Wno-unused-parameter   -MD -MT axom/slam/exa\r\n            mples/lulesh2.0.3_orig/CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-util.cc.o -MF CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-util.cc.o.d -o CMakeFiles/slam_lulesh_orig_ex.dir/lulesh-util.cc.o -c /tmp/root/spack-stage/spack\r\n            -stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/slam/examples/lulesh2.0.3_orig/lulesh-util.cc\r\n     357    [ 13%] Building CXX object axom/slam/examples/tinyHydro/CMakeFiles/slam_tinyHydro_ex.dir/HydroC.cpp.o\r\n     358    cd /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/axom/slam/examples/tinyHydro && /root/spack/lib/spack/env/gcc/g++ -DAXOM_DEBUG -DCAMP_HAVE_CUDA -I/tmp/root/spack-sta\r\n            ge/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-mkpqpri/include -I/tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src -I/root/spack/opt/spack/linux-ubuntu2\r\n            0.04-x86_64/gcc-9.3.0/camp-0.1.0-cussmlr7jvcnoxx4aoh67dqq7w66oa4q/include -I/root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/cuda-11.4.0-vklb4yvqfk6r4n4ezstwd65ytmigvfed/include -I/root/spack/opt/spack/linux-ub\r\n            untu20.04-x86_64/gcc-9.3.0/raja-0.13.0-t37jg2krdltm7b3aq3kyph3yfff6clqi/include -isystem /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/thirdparty -isystem /root/spack/opt/s\r\n            pack/linux-ubuntu20.04-x86_64/gcc-9.3.0/umpire-4.1.2-sdpng6rxj3nwdnmiqozpvlrjhopgvk4y/include -isystem /root/spack/opt/spack/linux-ubuntu20.04-x86_64/gcc-9.3.0/mpich-3.4.2-z3qvcplqpvri2tliohtqp7ei2lnvqsf3/include -Wall\r\n             -Wextra  -O2 -g -DNDEBUG -fPIC -fopenmp -std=c++14 -MD -MT axom/slam/examples/tinyHydro/CMakeFiles/slam_tinyHydro_ex.dir/HydroC.cpp.o -MF CMakeFiles/slam_tinyHydro_ex.dir/HydroC.cpp.o.d -o CMakeFiles/slam_tinyHydro_ex\r\n            .dir/HydroC.cpp.o -c /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-src/src/axom/slam/examples/tinyHydro/HydroC.cpp\r\n\r\nSee build log for details:\r\n  /tmp/root/spack-stage/spack-stage-axom-0.5.0-mkpqpri2qxuvga4ol7v6zd3i32lgmyam/spack-build-out.txt\r\n\r\n```\n\n### Information on your system\n\n```\r\n* **Spack:** 0.16.2-3907-f0875b2fef\r\n* **Python:** 3.8.5\r\n* **Platform:** linux-ubuntu20.04-zen3\r\n* **Concretizer:** original\r\n```\n\n### Additional information\n\nBuild log: [axom-cuda-build-out.txt](https://github.com/spack/spack/files/6985334/axom-cuda-build-out.txt)\r\nBuild log 03: [spack-build-03-build-out.txt](https://github.com/spack/spack/files/6985335/spack-build-03-build-out.txt)\r\n\r\nThis issue is similar but not quite the same as issue [#23339](https://github.com/spack/spack/issues/23339). \r\nHere g++ does not seem to recognize `-Xcompiler=-fopenmp` as an option.\r\n\r\n@white238 @scheibelp @alalazo\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "superNick459",
    "url": "https://api.github.com/repos/spack/spack/issues/25422",
    "updated_at": "2021-09-12 02:17:09",
    "created_at": "2021-08-13 22:39:06",
    "closed_at": "None",
    "state": "open",
    "title": "axom +cuda build fails: g++: unrecognized command line option '-Xcompiler=-fopenmp'",
    "number": 25422,
    "milestone": null,
    "labels": [
        "build-error",
        "ecp",
        "e4s"
    ],
    "id": 970749938,
    "html_url": "https://github.com/spack/spack/issues/25422",
    "assignees": [],
    "comments": 0
}