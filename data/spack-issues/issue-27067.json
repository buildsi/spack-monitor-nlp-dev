{
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\n$ git clone -c feature.manyFiles=true https://github.com/spack/spack.git\r\n$ cd spack/bin\r\n$ ./spack compiler find\r\n$ spack install emacs+X@27.2 target=x86_64 toolkit=athena %gcc@8.3.0\r\n```\r\n\r\n### Error\r\nThe error seems to occur when building the re2c package (as part of clingo-bootstrap-spack):\r\n```console\r\n[holyjacob01 spack]$ spack install emacs+X@27.2 target=x86_64 toolkit=athena %gcc@8.3.0\r\n==> Bootstrapping clingo from pre-built binaries\r\n==> Bootstrapping clingo from sources\r\n[+] /usr (external bison-3.0.4-4dqf73pvmrzpdvlnl7e4j5anon27kgd2)\r\n[+] /n/helmod/apps/centos7/Core/cmake/3.17.3-fasrc01 (external cmake-3.17.3-toayplkqdzdh5vxv7lu2rpbhahn54der)\r\n[+] /usr (external python-3.6-hkzlf2bhr5lcdws3cqcprilro6pi5vjl)\r\n==> Installing re2c-2.2-moacqbir3mb2jgjsvyr63y3curugpz64\r\n==> No binary for re2c-2.2-moacqbir3mb2jgjsvyr63y3curugpz64 found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/0f/0fc45e4130a8a555d68e230d1795de0216dfe99096b61b28e67c86dfd7d86bda.tar.xz\r\n==> Error: FileNotFoundError: [Errno 2] No such file or directory: '/tmp/ryantosca/spack-stage/spack-stage-re2c-2.2-moacqbir3mb2jgjsvyr63y3curugpz64/re2c-2.2.tar.xz'\r\n\r\n/n/home09/ryantosca/spack/lib/spack/spack/package.py:1387, in do_fetch:\r\n       1384\r\n       1385        self.stage.create()\r\n       1386        err_msg = None if not self.manual_download else self.download_instr\r\n  >>   1387        start_time = time.time()\r\n       1388        self.stage.fetch(mirror_only, err_msg=err_msg)\r\n       1389        self._fetch_time = time.time() - start_time\r\n       1390\r\n\r\nSee build log for details:\r\n  /tmp/ryantosca/spack-stage/spack-stage-re2c-2.2-moacqbir3mb2jgjsvyr63y3curugpz64/spack-build-out.txt\r\n\r\n==> Warning: Skipping build of clingo-bootstrap-spack-zlphtbaxb6yvlqrggaul6ds33tcqmxvf since re2c-2.2-moacqbir3mb2jgjsvyr63y3curugpz64 failed\r\n==> Error: cannot bootstrap the \"clingo\" Python module from spec \"clingo-bootstrap@spack+python %gcc target=x86_64\" due to the following failures:\r\n    'spack-install' raised InstallError: Terminating after first install failure: FileNotFoundError: [Errno 2] No such file or directory: '/tmp/ryantosca/spack-stage/spack-stage-re2c-2.2-moacqbir3mb2jgjsvyr63y3curugpz64/re2c-2.2.tar.xz'\r\n    Please run `spack -d spec zlib` for more verbose error messages\r\n\r\n```\r\n\r\n\r\n### Information on your system\r\n\r\n* **Spack:** 0.16.3-5107-962d06441e\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos7-haswell\r\n* **Concretizer:** clingo\r\n\r\n\r\n### Additional information\r\n\r\nThis seems similar but not quite identical to #26938.\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7443195/spack-build-out.txt)\r\n[spack-build-env.txt](https://github.com/spack/spack/files/7443218/spack-build-env.txt)\r\n[compilers.yaml.txt](https://github.com/spack/spack/files/7443349/compilers.yaml.txt)\r\n\r\nAlso tagging maintainers of clingo: @alalazo @tgamblin\r\n\r\n\r\n### General information\r\n\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\r\n- [X] I have uploaded the build log and environment files\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "yantosca",
    "url": "https://api.github.com/repos/spack/spack/issues/27067",
    "updated_at": "2021-10-29 18:32:46",
    "created_at": "2021-10-29 15:50:49",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: emacs+X@27.2 build halts during re2c installation as part of clingo-bootstrap-spack",
    "number": 27067,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1039709538,
    "html_url": "https://github.com/spack/spack/issues/27067",
    "assignees": [],
    "comments": 2
}