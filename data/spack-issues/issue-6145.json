{
    "body": "Trying to build a package that depends on elpa. I was able to build elpa manually and then I added it to `packages.yaml`:\r\n\r\n~~~yaml\r\nelpa:\r\n  paths:\r\n    elpa@2016.05.004: /share/apps/elpa-2016.05.004\r\n  buildable: False\r\n~~~\r\n\r\nNow when I do `spack install`, I get this error:\r\n\r\n    ==> elpa@2016.05.004 : externally installed in /share/apps/elpa-2016.05.004\r\n    ==> elpa@2016.05.004 : generating module file\r\n    ==> Error: 'No spec with name mpi in elpa@2016.05.004%intel@2018.0.128.6.4.0 cflags=\"-fPIC -O3 -xHost\" cxxflags=\"-fPIC -O3 -xHost\" fflags=\"-fPIC -O3 -xHost\" ~openmp arch=linux-centos6-x86_64'\r\n\r\nAre there any other settings I should add to `packages.yaml`?",
    "user": "baip",
    "url": "https://api.github.com/repos/spack/spack/issues/6145",
    "updated_at": "2022-03-10 09:16:11",
    "created_at": "2017-11-05 00:11:06",
    "closed_at": "2022-03-10 09:16:11",
    "state": "closed",
    "title": "Error with external package that depends_on('mpi'): No spec with name mpi in ...",
    "number": 6145,
    "milestone": null,
    "labels": [
        "bug",
        "modules",
        "external-packages",
        "not-a-bug"
    ],
    "id": 271236864,
    "html_url": "https://github.com/spack/spack/issues/6145",
    "assignees": [
        "scheibelp",
        "alalazo"
    ],
    "comments": 4
}