{
    "body": "### Steps to reproduce\r\n\r\n```\r\n$ spack install zlib\r\n$ spack find -p zlib\r\n/spack/opt/spack/linux-ubuntu20.04-zen2/gcc-10.3.0/zlib-1.2.11-6g6ahoqlyqjbpwbxlcej3hwhrbngkt5i\r\n$ spack edit zlib # change make('install') into make('agjaeoigjaerogiaeorgaejoaejoaejigaeorgi')\r\n$ spack install --overwrite zlib\r\n$ ls /spack/opt/spack/linux-ubuntu20.04-zen2/gcc-10.3.0/zlib-1.2.11-6g6ahoqlyqjbpwbxlcej3hwhrbngkt5i\r\nls: cannot access '/spack/opt/spack/linux-ubuntu20.04-zen2/gcc-10.3.0/zlib-1.2.11-6g6ahoqlyqjbpwbxlcej3hwhrbngkt5i': No such file or directory\r\n```\r\n\r\n### Error message\r\n\r\n```\r\n==> Error: Failed to install zlib due to RuntimeError: the transactional move of \"/spack/opt/spack/linux-ubuntu20.04-zen2/gcc-10.3.0/zlib-1.2.11-6g6ahoqlyqjbpwbxlcej3hwhrbngkt5i\" failed.\r\n```\r\n\r\n### Information on your system\r\n\r\n* **Spack:** 0.16.2-4012-c3b1bae67b\r\n* **Python:** 3.8.11\r\n* **Platform:** linux-ubuntu20.04-zen2\r\n* **Concretizer:** clingo\r\n\r\n\r\n### General information\r\n\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate\r\n- [X] I have run the failing commands in debug mode and reported the output",
    "user": "haampie",
    "url": "https://api.github.com/repos/spack/spack/issues/25582",
    "updated_at": "2021-08-27 19:41:25",
    "created_at": "2021-08-24 11:54:32",
    "closed_at": "2021-08-27 19:41:25",
    "state": "closed",
    "title": "`spack install --overwrite ...` install prefix backup doesn't work, leaving spec installed in db without install prefix dir",
    "number": 25582,
    "milestone": null,
    "labels": [
        "bug",
        "triage"
    ],
    "id": 978015748,
    "html_url": "https://github.com/spack/spack/issues/25582",
    "assignees": [
        "tldahlgren"
    ],
    "comments": 1
}