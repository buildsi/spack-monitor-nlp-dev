{
    "body": "### Steps to reproduce the issue\r\n\r\n```console\r\nspack install gmt@5.4.4 %gcc@11.1.0\r\n```\r\nresults in the following error, possibly because of an incompatibility with the compiler version\r\n```\r\n==> Installing gmt-5.4.4-e2nhnrqrlxqwjtwonvrumozmqvsjqyuo\r\n==> No binary for gmt-5.4.4-e2nhnrqrlxqwjtwonvrumozmqvsjqyuo found: installing from source\r\n==> Fetching https://mirror.spack.io/_source-cache/archive/b5/b593dfb101e6507c467619f3d2190a9f78b09d49fe2c27799750b8c4c0cd2da0.tar.gz\r\n==> No patches needed for gmt\r\n==> gmt: Executing phase: 'install'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j10'\r\n\r\n4 errors found in build log:\r\n     936    **/usr/bin/ld: Dwarf Error: found dwarf version '5', this reader only handles version 2, 3 and 4 information.**\r\n     937    CMakeFiles/supplib.dir/potential/grdgravmag3d.c.o:(.bss+0x0): multiple definition of `okabe_mag_var'\r\n     938    /usr/bin/ld: Dwarf Error: found dwarf version '3072', this reader only handles version 2, 3 and 4 information.\r\n     939    CMakeFiles/supplib.dir/potential/okbfuns.c.o:(.bss+0x0): first defined here\r\n     940    CMakeFiles/supplib.dir/potential/grdgravmag3d.c.o:(.bss+0x8): multiple definition of `okabe_mag_param'\r\n     941    CMakeFiles/supplib.dir/potential/okbfuns.c.o:(.bss+0x8): first defined here\r\n  >> 942    collect2: error: ld returned 1 exit status\r\n  >> 943    make[2]: *** [src/plugins/supplements.so] Error 1\r\n     944    make[2]: Leaving directory `/att/gpfsfs/briskfs01/ppl/sberton2/.tmp/spack-stage/spack-stage-gmt-5.4.4-e2nhnrqrlxqwjtwonvrumozmqvsjqyuo/spack-src/spack-build'\r\n  >> 945    make[1]: *** [src/CMakeFiles/supplib.dir/all] Error 2\r\n     946    make[1]: *** Waiting for unfinished jobs....\r\n     947    make[2]: Leaving directory `/att/gpfsfs/briskfs01/ppl/sberton2/.tmp/spack-stage/spack-stage-gmt-5.4.4-e2nhnrqrlxqwjtwonvrumozmqvsjqyuo/spack-src/spack-build'\r\n     948    [ 96%] Built target gmt\r\n     949    make[1]: Leaving directory `/att/gpfsfs/briskfs01/ppl/sberton2/.tmp/spack-stage/spack-stage-gmt-5.4.4-e2nhnrqrlxqwjtwonvrumozmqvsjqyuo/spack-src/spack-build'\r\n  >> 950    make: *** [all] Error 2\r\n```\r\n\r\n\r\n### Information on your system\r\n\r\n* **Spack:** 0.16.3-4760-b33a092\r\n* **Python:** 3.6.8\r\n* **Platform:** linux-centos7-broadwell\r\n* **Concretizer:** clingo\r\n\r\n### Additional information\r\n\r\nGoogling around, I found these pages which look relevant, but I'm unsure how to configure the package with the appropriate GLIBc option (GLIBC_EXTRA_CFLAGS) to produce gdwarf <=4\r\n[https://github.com/crosstool-ng/crosstool-ng/issues/1546](https://github.com/crosstool-ng/crosstool-ng/issues/1546)\r\n[https://gcc.gnu.org/gcc-11/changes.html](https://gcc.gnu.org/gcc-11/changes.html)\r\n\r\n@adamjstewart it would be great if you could help! Thanks!\r\n\r\n[spack-build-env.txt](https://github.com/spack/spack/files/7324562/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/7324563/spack-build-out.txt)\r\n\r\n\r\n\r\n### General information\r\n\r\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\r\n- [X] I have uploaded the build log and environment files\r\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "steo85it",
    "url": "https://api.github.com/repos/spack/spack/issues/26661",
    "updated_at": "2021-10-12 16:45:00",
    "created_at": "2021-10-11 18:14:27",
    "closed_at": "2021-10-12 05:00:20",
    "state": "closed",
    "title": "Installation issue: gmt@5.4.4 %gcc@11.1.0",
    "number": 26661,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1022988990,
    "html_url": "https://github.com/spack/spack/issues/26661",
    "assignees": [],
    "comments": 4
}