{
    "body": "<!-- Explain, in a clear and concise way, the command you ran and the result you were trying to achieve.\r\nExample: \"I ran `spack find` to list all the installed packages and ...\" -->\r\n\r\n### Steps to reproduce the issue\r\n\r\nI'm trying to build HDF5 with nvhpc 21.2 on a cluster. I've passed the flags target=x86_64 while building my packages. I'm also using perl 5.30.3 (hash: **f6wiogo**) since the latest version in incompatible with nvhpc.\r\n\r\n```console\r\n$ spack install hdf5 +hl +cxx +fortran target=x86_64 %nvhpc ^/f6wiogo\r\n```\r\n\r\n### Error Message\r\n\r\n```console\r\nError: Specs ncurses@6.2%nvhpc@21.2~symlinks+termlib arch=linux-centos7-x86_64 and ncurses@6.2%nvhpc@21.2~symlinks+termlib arch=linux-centos7-x86_64 ^pkgconf@1.7.3%nvhpc@21.2 patches=6e94c68d45d4cb8148c8c53699921d10b13784f758f0563ce64c838e0ca48ceb arch=linux-centos7-x86_64 have the same SHA-1 prefix!\r\n```\r\n\r\nHere is the input spec and it's concretized form\r\n```console\r\nInput spec\r\n--------------------------------\r\nhdf5%nvhpc+cxx+fortran+hl arch=linux-None-x86_64\r\n    ^perl@5.30.3%nvhpc@21.2+cpanm+shared+threads patches=d11fd1545df35266bda5cf67f4ed4babcd21caebb27db4146f14d8bb98a1cec4 arch=linux-centos7-x86_64\r\n        ^berkeley-db@18.1.40%nvhpc@21.2 arch=linux-centos7-x86_64\r\n        ^gdbm@1.18.1%nvhpc@21.2 arch=linux-centos7-x86_64\r\n            ^readline@8.0%nvhpc@21.2 arch=linux-centos7-x86_64\r\n                ^ncurses@6.2%nvhpc@21.2~symlinks+termlib arch=linux-centos7-x86_64\r\n\r\nConcretized\r\n--------------------------------\r\nhdf5@1.10.7%nvhpc@21.2+cxx~debug+fortran+hl~java+mpi+pic+shared~szip~threadsafe api=none arch=linux-centos7-x86_64\r\n    ^numactl@2.0.14%nvhpc@21.2 patches=4e1d78cbbb85de625bad28705e748856033eaafab92a66dffd383a3d7e00cc94 arch=linux-centos7-x86_64\r\n        ^autoconf@2.69%nvhpc@21.2 arch=linux-centos7-x86_64\r\n            ^m4@1.4.18%nvhpc@21.2+sigsegv patches=3877ab548f88597ab2327a2230ee048d2d07ace1062efe81fc92e91b7f39cd00,5746cf51f45b405661c3edae7a78c33d41e54d83f635d16e2bf1f956dbfbf635,fc9b61654a3ba1a8d6cd78ce087e7c96366c290bc8d2c299f09828d793b853c8 arch=linux-centos7-x86_64\r\n                ^libsigsegv@2.12%nvhpc@21.2 arch=linux-centos7-x86_64\r\n            ^perl@5.30.3%nvhpc@21.2+cpanm+shared+threads patches=d11fd1545df35266bda5cf67f4ed4babcd21caebb27db4146f14d8bb98a1cec4 arch=linux-centos7-x86_64\r\n                ^berkeley-db@18.1.40%nvhpc@21.2 arch=linux-centos7-x86_64\r\n                ^gdbm@1.18.1%nvhpc@21.2 arch=linux-centos7-x86_64\r\n                    ^readline@8.0%nvhpc@21.2 arch=linux-centos7-x86_64\r\n                        ^ncurses@6.2%nvhpc@21.2~symlinks+termlib arch=linux-centos7-x86_64\r\n        ^automake@1.16.3%nvhpc@21.2 arch=linux-centos7-x86_64\r\n        ^libtool@2.4.6%nvhpc@21.2 arch=linux-centos7-x86_64\r\n    ^openmpi@4.0.5%nvhpc@21.2~atomics~cuda~cxx~cxx_exceptions+gpfs~internal-hwloc~java~legacylaunchers~lustre~memchecker~pmi~singularity~sqlite3+static~thread_multiple+vt+wrapper-rpath fabrics=none patches=fba0d3a784a9723338722b48024a22bb32f6a951db841a4e9f08930a93f41d7a schedulers=none arch=linux-centos7-x86_64\r\n        ^hwloc@2.4.0%nvhpc@21.2~cairo~cuda~gl~libudev+libxml2~netloc~nvml+pci+shared arch=linux-centos7-x86_64\r\n            ^libpciaccess@0.16%nvhpc@21.2 patches=6e08dc445ece06e9e8b1344397f2d3f169005703ddc0f2ae24f366cde78c7377 arch=linux-centos7-x86_64\r\n                ^pkgconf@1.7.3%nvhpc@21.2 patches=6e94c68d45d4cb8148c8c53699921d10b13784f758f0563ce64c838e0ca48ceb arch=linux-centos7-x86_64\r\n                ^util-macros@1.19.1%nvhpc@21.2 arch=linux-centos7-x86_64\r\n            ^libxml2@2.9.10%nvhpc@21.2~python patches=05ff238cf435825ef835c7ae39376b52dc83d8caf19e962f0766c841386a305a,10a88ad47f9797cf7cf2d7d07241f665a3b6d1f31fa026728c8c2ae93e1664e9 arch=linux-centos7-x86_64\r\n                ^libiconv@1.16%nvhpc@21.2 arch=linux-centos7-x86_64\r\n                ^xz@5.2.5%nvhpc@21.2~pic arch=linux-centos7-x86_64\r\n                ^zlib@1.2.11%nvhpc@21.2+optimize+pic+shared arch=linux-centos7-x86_64\r\n        ^libevent@2.1.12%nvhpc@21.2+openssl arch=linux-centos7-x86_64\r\n            ^openssl@1.1.1j%nvhpc@21.2+systemcerts arch=linux-centos7-x86_64\r\n```\r\n\r\n### Information on your system\r\n\r\n<!-- Please include the output of `spack debug report` -->\r\n\r\n* **Spack**: 0.16.0-1384-26d2356\r\n* **Python**: 3.6.8\r\n* **Platform**: linux-centos7-nehalem\r\n* **Concretizer**: original\r\n\r\n<!-- If you have any relevant configuration detail (custom `packages.yaml` or `modules.yaml`, etc.) you can add that here as well. -->\r\n\r\n### Additional information\r\n\r\n<!-- These boxes can be checked by replacing [ ] with [x] or by clicking them after submitting the issue. -->\r\n- [x] I have run `spack debug report` and reported the version of Spack/Python/Platform\r\n- [x] I have searched the issues of this repo and believe this is not a duplicate\r\n- [x] I have run the failing commands in debug mode and reported the output\r\n\r\n<!-- We encourage you to try, as much as possible, to reduce your problem to the minimal example that still reproduces the issue. That would help us a lot in fixing it quickly and effectively!\r\n\r\nIf you want to ask a question about the tool (how to use it, what it can currently do, etc.), try the `#general` channel on our Slack first. We have a welcoming community and chances are you'll get your reply faster and without opening an issue.\r\n\r\nOther than that, thanks for taking the time to contribute to Spack! -->\r\n",
    "user": "Nischay-Pro",
    "url": "https://api.github.com/repos/spack/spack/issues/21839",
    "updated_at": "2021-02-23 17:53:08",
    "created_at": "2021-02-22 06:19:16",
    "closed_at": "2021-02-23 17:53:08",
    "state": "closed",
    "title": "SHA-1 prefix error when trying to build HDF5",
    "number": 21839,
    "milestone": null,
    "labels": [
        "bug",
        "concretization",
        "impact-high",
        "concretizer-use-case"
    ],
    "id": 813167030,
    "html_url": "https://github.com/spack/spack/issues/21839",
    "assignees": [],
    "comments": 12
}