{
    "body": "I suspect this is some issue with my environment (Mac), but I can't for the life of me figure it out. Most  packages I attempt to install fail with a similar error; only the directory the cd fails on seems to vary.\r\n\r\n```\r\ncavern% pwd\r\n/Users/aat\r\ncavern% git clone https://github.com/spack/spack.git\r\nCloning into 'spack'...\r\nremote: Enumerating objects: 85, done.\r\nremote: Counting objects: 100% (85/85), done.\r\nremote: Compressing objects: 100% (56/56), done.\r\nremote: Total 194755 (delta 35), reused 35 (delta 17), pack-reused 194670\r\nReceiving objects: 100% (194755/194755), 72.61 MiB | 5.37 MiB/s, done.\r\nResolving deltas: 100% (86594/86594), done.\r\nUpdating files: 100% (5567/5567), done.\r\ncavern% cd spack\r\ncavern% cd bin\r\ncavern% ./spack install libelf\r\n==> Warning: clang@11.0.0-apple cannot build optimized binaries for \"skylake\". Using best target possible: \"x86_64\"\r\n==> Installing libelf\r\n==> Searching for binary cache of libelf\r\n==> No binary for libelf found: installing from source\r\n==> Fetching https://fossies.org/linux/misc/old/libelf-0.8.13.tar.gz\r\n######################################################################################################################## 100.0%\r\n==> Staging archive: /var/folders/f9/mz2448js3l9076gcls3k_yt40000gn/T/aat/spack-stage/spack-stage-libelf-0.8.13-ui4nt6qzbmejbvasboz2s5rp2uyj7zai/libelf-0.8.13.tar.gz\r\n==> Created stage in /var/folders/f9/mz2448js3l9076gcls3k_yt40000gn/T/aat/spack-stage/spack-stage-libelf-0.8.13-ui4nt6qzbmejbvasboz2s5rp2uyj7zai\r\n==> No patches needed for libelf\r\n==> Building libelf [AutotoolsPackage]\r\n==> Executing phase: 'autoreconf'\r\n==> Executing phase: 'configure'\r\n==> Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j8'\r\n\r\n2 errors found in build log:\r\n     72    creating libelf.pc\r\n     73    creating config.h\r\n     74    creating lib/sys_elf.h\r\n     75    ==> Executing phase: 'build'\r\n     76    ==> [2020-02-08-18:24:05.076997] 'make' '-j8'\r\n     77    making all in lib\r\n  >> 78    /bin/sh: line 0: cd: lib: No such file or directory\r\n  >> 79    make: *** [all-recursive] Error 1\r\n\r\nSee build log for details:\r\n  /var/folders/f9/mz2448js3l9076gcls3k_yt40000gn/T/aat/spack-stage/spack-stage-libelf-0.8.13-ui4nt6qzbmejbvasboz2s5rp2uyj7zai/spack-build-out.txt\r\n```\r\n\r\nThe lib directory is present in the stage directory, so there's something else going on :(\r\n\r\n```\r\n$ ls /var/folders/f9/mz2448js3l9076gcls3k_yt40000gn/T/aat/spack-stage/spack-stage-libelf-0.8.13-ui4nt6qzbmejbvasboz2s5rp2uyj7zai/spack-src\r\nCOPYING.LIB    Makefile       acconfig.h     config.h       config.sub*    lib/           po/\r\nChangeLog      Makefile.in    aclocal.m4     config.h.in    configure*     libelf.pc      stamp-h\r\nINSTALL        README         config.cache   config.log     configure.in   libelf.pc.in   stamp-h.in\r\nMANIFEST       VERSION        config.guess*  config.status* install-sh*    mkinstalldirs*\r\n```\r\n\r\nInstalling `zlib` works though:\r\n\r\n```\r\ncavern% ./spack install zlib\r\n==> Warning: clang@11.0.0-apple cannot build optimized binaries for \"skylake\". Using best target possible: \"x86_64\"\r\n==> Installing zlib\r\n==> Searching for binary cache of zlib\r\n==> No binary for zlib found: installing from source\r\n==> Fetching http://zlib.net/fossils/zlib-1.2.11.tar.gz\r\n######################################################################################################################## 100.0%\r\n==> Staging archive: /var/folders/f9/mz2448js3l9076gcls3k_yt40000gn/T/aat/spack-stage/spack-stage-zlib-1.2.11-cvrek7vtvob6v2dfnvdowu2rkqtqtmmi/zlib-1.2.11.tar.gz\r\n==> Created stage in /var/folders/f9/mz2448js3l9076gcls3k_yt40000gn/T/aat/spack-stage/spack-stage-zlib-1.2.11-cvrek7vtvob6v2dfnvdowu2rkqtqtmmi\r\n==> No patches needed for zlib\r\n==> Building zlib [Package]\r\n==> Executing phase: 'install'\r\n==> Successfully installed zlib\r\n  Fetch: 1.72s.  Build: 2.84s.  Total: 4.55s.\r\n[+] /Users/aat/spack/opt/spack/darwin-catalina-x86_64/clang-11.0.0-apple/zlib-1.2.11-cvrek7vtvob6v2dfnvdowu2rkqtqtmmi\r\n```\r\n\r\nAny ideas?",
    "user": "alecthomas",
    "url": "https://api.github.com/repos/spack/spack/issues/14857",
    "updated_at": "2020-02-08 12:37:42",
    "created_at": "2020-02-08 07:31:00",
    "closed_at": "2020-02-08 12:37:42",
    "state": "closed",
    "title": "Most packages failing with \"cd: <dir>: No such file or directory\"",
    "number": 14857,
    "milestone": null,
    "labels": [
        "bug"
    ],
    "id": 561984048,
    "html_url": "https://github.com/spack/spack/issues/14857",
    "assignees": [],
    "comments": 3
}