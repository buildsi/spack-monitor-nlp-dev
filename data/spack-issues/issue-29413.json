{
    "body": "It is expected behavior for a software install to generate binaries that are naked, or not with a version. After perl 5.34.x it looks like this is not the case for perl, and all binaries are generated with a versioned suffix. This is not ideal for tools or people that use the install directory and expect to find, for example, just perl. This fix will, for versions 5.35.0 and later, ensure that we do a final pass through the install directory and given a binary that ends with the version, we also generate a link to its version-less self (only if it does not already exist). For some niche cache where this is not desired, a variant can be flipped to disable it.\r\nI have made it the default because as a user I expect my binaries without a weird version suffix. \r\n\r\nHere is a default install of the latest (5.35.0):\r\n\r\n```bash\r\n$ spack install perl@5.35.0\r\n```\r\nresults in a bin with and without versioned binaries:\r\n\r\n```bash\r\nopt/spack/linux-ubuntu20.04-skylake/gcc-9.3.0/perl-5.35.0-d5v2mtmjk7lu5k6f6gasm7y53ht4c452/bin/\r\n\u251c\u2500\u2500 corelist\r\n\u251c\u2500\u2500 corelist5.35.0\r\n\u251c\u2500\u2500 cpan\r\n\u251c\u2500\u2500 cpan5.35.0\r\n\u251c\u2500\u2500 cpanm\r\n\u251c\u2500\u2500 enc2xs\r\n\u251c\u2500\u2500 enc2xs5.35.0\r\n\u251c\u2500\u2500 encguess\r\n\u251c\u2500\u2500 encguess5.35.0\r\n\u251c\u2500\u2500 h2ph\r\n\u251c\u2500\u2500 h2ph5.35.0\r\n\u251c\u2500\u2500 h2xs\r\n\u251c\u2500\u2500 h2xs5.35.0\r\n\u251c\u2500\u2500 instmodsh\r\n\u251c\u2500\u2500 instmodsh5.35.0\r\n\u251c\u2500\u2500 json_pp\r\n\u251c\u2500\u2500 json_pp5.35.0\r\n\u251c\u2500\u2500 libnetcfg\r\n\u251c\u2500\u2500 libnetcfg5.35.0\r\n\u251c\u2500\u2500 perl\r\n\u251c\u2500\u2500 perl5.35.0\r\n\u251c\u2500\u2500 perlbug\r\n\u251c\u2500\u2500 perlbug5.35.0\r\n\u251c\u2500\u2500 perldoc\r\n\u251c\u2500\u2500 perldoc5.35.0\r\n\u251c\u2500\u2500 perlivp\r\n\u251c\u2500\u2500 perlivp5.35.0\r\n\u251c\u2500\u2500 perlthanks\r\n\u251c\u2500\u2500 perlthanks5.35.0\r\n\u251c\u2500\u2500 piconv\r\n\u251c\u2500\u2500 piconv5.35.0\r\n\u251c\u2500\u2500 pl2pm\r\n\u251c\u2500\u2500 pl2pm5.35.0\r\n\u251c\u2500\u2500 pod2html\r\n\u251c\u2500\u2500 pod2html5.35.0\r\n\u251c\u2500\u2500 pod2man\r\n\u251c\u2500\u2500 pod2man5.35.0\r\n\u251c\u2500\u2500 pod2text\r\n\u251c\u2500\u2500 pod2text5.35.0\r\n\u251c\u2500\u2500 pod2usage\r\n\u251c\u2500\u2500 pod2usage5.35.0\r\n\u251c\u2500\u2500 podchecker\r\n\u251c\u2500\u2500 podchecker5.35.0\r\n\u251c\u2500\u2500 prove\r\n\u251c\u2500\u2500 prove5.35.0\r\n\u251c\u2500\u2500 ptar\r\n\u251c\u2500\u2500 ptar5.35.0\r\n\u251c\u2500\u2500 ptardiff\r\n\u251c\u2500\u2500 ptardiff5.35.0\r\n\u251c\u2500\u2500 ptargrep\r\n\u251c\u2500\u2500 ptargrep5.35.0\r\n\u251c\u2500\u2500 shasum\r\n\u251c\u2500\u2500 shasum5.35.0\r\n\u251c\u2500\u2500 splain\r\n\u251c\u2500\u2500 splain5.35.0\r\n\u251c\u2500\u2500 streamzip\r\n\u251c\u2500\u2500 streamzip5.35.0\r\n\u251c\u2500\u2500 xsubpp\r\n\u251c\u2500\u2500 xsubpp5.35.0\r\n\u251c\u2500\u2500 zipdetails\r\n\u2514\u2500\u2500 zipdetails5.35.0\r\n```\r\n\r\nAnd to say \"only generate me a versioned bin I'm a monster\"\r\n\r\n```bash\r\n$ spack install perl +versioned-bin\r\n```\r\nresults in a monster's bin:\r\n\r\n```bash\r\n\u251c\u2500\u2500 corelist5.35.0\r\n\u251c\u2500\u2500 cpan5.35.0\r\n\u251c\u2500\u2500 cpanm\r\n\u251c\u2500\u2500 enc2xs5.35.0\r\n\u251c\u2500\u2500 encguess5.35.0\r\n\u251c\u2500\u2500 h2ph5.35.0\r\n\u251c\u2500\u2500 h2xs5.35.0\r\n\u251c\u2500\u2500 instmodsh5.35.0\r\n\u251c\u2500\u2500 json_pp5.35.0\r\n\u251c\u2500\u2500 libnetcfg5.35.0\r\n\u251c\u2500\u2500 perl5.35.0\r\n\u251c\u2500\u2500 perlbug5.35.0\r\n\u251c\u2500\u2500 perldoc5.35.0\r\n\u251c\u2500\u2500 perlivp5.35.0\r\n\u251c\u2500\u2500 perlthanks5.35.0\r\n\u251c\u2500\u2500 piconv5.35.0\r\n\u251c\u2500\u2500 pl2pm5.35.0\r\n\u251c\u2500\u2500 pod2html5.35.0\r\n\u251c\u2500\u2500 pod2man5.35.0\r\n\u251c\u2500\u2500 pod2text5.35.0\r\n\u251c\u2500\u2500 pod2usage5.35.0\r\n\u251c\u2500\u2500 podchecker5.35.0\r\n\u251c\u2500\u2500 prove5.35.0\r\n\u251c\u2500\u2500 ptar5.35.0\r\n\u251c\u2500\u2500 ptardiff5.35.0\r\n\u251c\u2500\u2500 ptargrep5.35.0\r\n\u251c\u2500\u2500 shasum5.35.0\r\n\u251c\u2500\u2500 splain5.35.0\r\n\u251c\u2500\u2500 streamzip5.35.0\r\n\u251c\u2500\u2500 xsubpp5.35.0\r\n\u2514\u2500\u2500 zipdetails5.35.0\r\n```\r\n:japanese_ogre: \r\n\r\nThis will close #29409\r\n\r\nSigned-off-by: vsoch <vsoch@users.noreply.github.com>",
    "user": "vsoch",
    "url": "https://api.github.com/repos/spack/spack/issues/29413",
    "updated_at": "2022-03-11 18:40:10",
    "created_at": "2022-03-09 02:41:37",
    "closed_at": "None",
    "state": "open",
    "title": "adding support for perl@5.35.0 and above to output version-less binaries",
    "number": 29413,
    "milestone": null,
    "labels": [
        "update-package",
        "new-variant"
    ],
    "id": 1163423078,
    "html_url": "https://github.com/spack/spack/pull/29413",
    "assignees": [
        "glennpj"
    ],
    "comments": 12
}