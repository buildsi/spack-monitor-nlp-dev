{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack spec -l perl %intel\r\nInput spec\r\n--------------------------------\r\nperl%intel\r\n\r\nConcretized\r\n--------------------------------\r\n3pa4roj  perl@5.34.0%intel@2021.5.0+cpanm+shared+threads arch=darwin-bigsur-skylake\r\nf6jxmec      ^berkeley-db@18.1.40%intel@2021.5.0+cxx~docs+stl patches=b231fcc arch=darwin-bigsur-skylake\r\nspjtv42      ^bzip2@1.0.8%intel@2021.5.0~debug~pic+shared arch=darwin-bigsur-skylake\r\nbmnbyaz          ^diffutils@3.8%intel@2021.5.0 arch=darwin-bigsur-skylake\r\nryeqkgf              ^libiconv@1.16%intel@2021.5.0 libs=shared,static arch=darwin-bigsur-skylake\r\nrt4lgcd      ^gdbm@1.19%intel@2021.5.0 arch=darwin-bigsur-skylake\r\n3e7oipg          ^readline@8.1%intel@2021.5.0 arch=darwin-bigsur-skylake\r\n4w3au7f              ^ncurses@6.2%intel@2021.5.0~symlinks+termlib abi=none arch=darwin-bigsur-skylake\r\no2m7idr                  ^pkgconf@1.8.0%intel@2021.5.0 arch=darwin-bigsur-skylake\r\n7p5qeo3      ^zlib@1.2.11%intel@2021.5.0+optimize+pic+shared arch=darwin-bigsur-skylakespack \r\n```\r\n\n\n### Error message\n\n<details><summary>Error message</summary><pre>\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j12'\r\n\r\n3 errors found in build log:\r\n     1432          ^\r\n     1433\r\n     1434    sv.c(2811): warning #161: unrecognized #pragma\r\n     1435          CLANG_DIAG_RESTORE_STMT;\r\n     1436          ^\r\n     1437\r\n  >> 1438    sv.c(3198): error: expression must be an integral constant expression\r\n     1439                          SNPRINTF_G(SvNVX(sv), s, SvLEN(sv), NV_DIG);\r\n     1440                          ^\r\n     1441\r\n     1442    In file included from pp.c(28):\r\n     1443    perl.h(3354): warning #1292: unknown attribute \"capability\"\r\n     1444      typedef pthread_mutex_t PERL_TSA_CAPABILITY(\"mutex\") perl_mutex;\r\n\r\n     ...\r\n\r\n     1461\r\n     1462    In file included from pp.c(28):\r\n     1463    perl.h(3385): warning #1292: unknown attribute \"no_thread_safety_analysis\"\r\n     1464        PERL_TSA_NO_TSA;\r\n     1465        ^\r\n     1466\r\n  >> 1467    sv.c(13093): error: expression must be an integral constant expression\r\n     1468                      WITH_LC_NUMERIC_SET_TO_NEEDED_IN(in_lc_numeric,\r\n     1469                      ^\r\n     1470\r\n     1471    In file included from scope.c(27):\r\n     1472    perl.h(3354): warning #1292: unknown attribute \"capability\"\r\n     1473      typedef pthread_mutex_t PERL_TSA_CAPABILITY(\"mutex\") perl_mutex;\r\n\r\n     ...\r\n\r\n     1491    In file included from scope.c(27):\r\n     1492    perl.h(3385): warning #1292: unknown attribute \"no_thread_safety_analysis\"\r\n     1493        PERL_TSA_NO_TSA;\r\n     1494        ^\r\n     1495\r\n     1496    compilation aborted for sv.c (code 2)\r\n  >> 1497    make: *** [GNUmakefile:261: sv.o] Error 2\r\n     1498    make: *** Waiting for unfinished jobs....\r\n     1499    In file included from pp_ctl.c(35):\r\n     1500    perl.h(3354): warning #1292: unknown attribute \"capability\"\r\n     1501      typedef pthread_mutex_t PERL_TSA_CAPABILITY(\"mutex\") perl_mutex;\r\n     1502                              ^\r\n     1503\r\n...\r\n</pre></details>\r\n\n\n### Information on your system\n\n* **Spack:** 0.17.1-1511-2dd9414bbb\r\n* **Python:** 3.9.10\r\n* **Platform:** darwin-bigsur-skylake\r\n* **Concretizer:** clingo\n\n### Additional information\n\n[spack-build-env.txt](https://github.com/spack/spack/files/8217108/spack-build-env.txt)\r\n[spack-build-out.txt](https://github.com/spack/spack/files/8217109/spack-build-out.txt)\r\n\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "pbrady",
    "url": "https://api.github.com/repos/spack/spack/issues/29427",
    "updated_at": "2022-03-13 13:27:08",
    "created_at": "2022-03-09 18:17:38",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: perl %intel on macos",
    "number": 29427,
    "milestone": null,
    "labels": [
        "macOS",
        "build-error",
        "intel"
    ],
    "id": 1164283400,
    "html_url": "https://github.com/spack/spack/issues/29427",
    "assignees": [],
    "comments": 3
}