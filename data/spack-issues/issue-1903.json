{
    "body": "This one is relatively new... Somewhere between 8249108cc6ef82b954ed5b5eabaff88be42ee2b8..544fa3eddb2e0e3830439204888a58a9c0e186e2 (current HEAD of develop). I'm on OS X 10.11.6:\n\n```\n$ sw_vers\nProductName:    Mac OS X\nProductVersion: 10.11.6\nBuildVersion:   15G1004\n```\n\n```\n$ ./bin/spack install boost\n==> Installing boost\n==> bzip2 is already installed in /Users/lee1001/projs/llnl/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/bzip2-1.0.6-gh6bktroppxbca4kxgmrjfezzrknb6he\n==> zlib is already installed in /Users/lee1001/projs/llnl/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/zlib-1.2.8-x6uezf2iognzftplcz4tiesur3pfe6yx\n==> Can not find version 1_62_0 in url_list\n==> Already downloaded /Users/lee1001/projs/llnl/spack/var/spack/stage/boost-1.62.0-uiqanyaxjhf4iv4al7zyqnhqana2eo2z/boost_1_62_0.tar.bz2\n==> Already staged boost-1.62.0-uiqanyaxjhf4iv4al7zyqnhqana2eo2z in /Users/lee1001/projs/llnl/spack/var/spack/stage/boost-1.62.0-uiqanyaxjhf4iv4al7zyqnhqana2eo2z\n==> No patches needed for boost\n==> Building boost\n==> Error: Command exited with status 1:\n'./b2' 'install' 'threading=multi' '-j' '8' 'variant=release' '-s' 'BZIP2_INCLUDE=/Users/lee1001/projs/llnl/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/bzip2-1.0.6-gh6bktroppxbca4kxgmrjfezzrknb6he/include' '-s' 'BZIP2_LIBPATH=/Users/lee1001/projs/llnl/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/bzip2-1.0.6-gh6bktroppxbca4kxgmrjfezzrknb6he/lib' '-s' 'ZLIB_INCLUDE=/Users/lee1001/projs/llnl/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/zlib-1.2.8-x6uezf2iognzftplcz4tiesur3pfe6yx/include' '-s' 'ZLIB_LIBPATH=/Users/lee1001/projs/llnl/spack/opt/spack/darwin-elcapitan-x86_64/gcc-4.2.1/zlib-1.2.8-x6uezf2iognzftplcz4tiesur3pfe6yx/lib' 'link=static,shared' '--layout=tagged' 'toolset=darwin'\n\nSee build log for details:\n  /private/var/folders/vr/7lfgcgzd0wb4brywdhg86ygw00157w/T/lee1001/spack-stage/spack-stage-PZdvqg/boost_1_62_0/spack-build.out\n\n/Users/lee1001/projs/llnl/spack/var/spack/repos/builtin/packages/boost/package.py:287, in install:\n     226      def install(self, spec, prefix):\n     227          # On Darwin, Boost expects the Darwin libtool. However, one of the\n     228          # dependencies may have pulled in Spack's GNU libtool, and these two\n     229          # are not compatible. We thus create a symlink to Darwin's libtool\n     230          # and add it at the beginning of PATH.\n     231          if sys.platform == 'darwin':\n     232              newdir = os.path.abspath('darwin-libtool')\n     233              mkdirp(newdir)\n     234              force_symlink('/usr/bin/libtool', join_path(newdir, 'libtool'))\n     235              env['PATH'] = newdir + ':' + env['PATH']\n     236\n     237          withLibs = list()\n     238          for lib in Boost.all_libs:\n     239              if \"+{0}\".format(lib) in spec:\n     240                  withLibs.append(lib)\n     241          if not withLibs:\n     242              # if no libraries are specified for compilation, then you dont have\n     243              # to configure/build anything, just copy over to the prefix\n     244              # directory.\n     245              src = join_path(self.stage.source_path, 'boost')\n     246              mkdirp(join_path(prefix, 'include'))\n     247              dst = join_path(prefix, 'include', 'boost')\n     248              install_tree(src, dst)\n     249              return\n     250\n     251          # Remove libraries that the release version does not support\n     252          if not spec.satisfies('@1.54.0:'):\n     253              withLibs.remove('log')\n     254          if not spec.satisfies('@1.53.0:'):\n     255              withLibs.remove('atomic')\n     256          if not spec.satisfies('@1.48.0:'):\n     257              withLibs.remove('locale')\n     258          if not spec.satisfies('@1.47.0:'):\n     259              withLibs.remove('chrono')\n     260          if not spec.satisfies('@1.43.0:'):\n     261              withLibs.remove('random')\n     262          if '+graph' in spec and '+mpi' in spec:\n     263              withLibs.remove('graph')\n     264              withLibs.append('graph_parallel')\n     265\n     266          # to make Boost find the user-config.jam\n     267          env['BOOST_BUILD_PATH'] = './'\n     268\n     269          bootstrap = Executable('./bootstrap.sh')\n     270\n     271          bootstrap_options = ['--prefix=%s' % prefix]\n     272          self.determine_bootstrap_options(spec, withLibs, bootstrap_options)\n     273\n     274          bootstrap(*bootstrap_options)\n     275\n     276          # b2 used to be called bjam, before 1.47 (sigh)\n     277          b2name = './b2' if spec.satisfies('@1.47:') else './bjam'\n     278\n     279          b2 = Executable(b2name)\n     280          b2_options = ['-j', '%s' % make_jobs]\n     281\n     282          threadingOpts = self.determine_b2_options(spec, b2_options)\n     283\n     284          # In theory it could be done on one call but it fails on\n     285          # Boost.MPI if the threading options are not separated.\n     286          for threadingOpt in threadingOpts:\n  >> 287              b2('install', 'threading=%s' % threadingOpt, *b2_options)\n     288\n     289          # The shared libraries are not installed correctly\n     290          # on Darwin; correct this\n     291          if (sys.platform == 'darwin') and ('+shared' in spec):\n     292              fix_darwin_install_name(prefix.lib)\n==> Error: Installation process had nonzero exit code : 256\n```\n\nFull log: [spack-build.txt](https://github.com/LLNL/spack/files/509426/spack-build.txt)\n",
    "user": "IanLee1521",
    "url": "https://api.github.com/repos/spack/spack/issues/1903",
    "updated_at": "2016-10-11 13:45:49",
    "created_at": "2016-10-04 20:12:08",
    "closed_at": "2016-10-11 13:45:49",
    "state": "closed",
    "title": "Boost 1.62 error",
    "number": 1903,
    "milestone": null,
    "labels": [
        "bug",
        "new-package"
    ],
    "id": 180992640,
    "html_url": "https://github.com/spack/spack/issues/1903",
    "assignees": [],
    "comments": 4
}