{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack install gcc\r\n==> Installing libiconv-1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3l\r\n==> No binary for libiconv-1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3l found: installing from source\r\n==> Using cached archive: /Users/certik/repos/spack/var/spack/cache/_source-cache/archive/e6/e6a1b1b589654277ee790cce3734f07876ac4ccfaecbee8afa0b649cf529cc04.tar.gz\r\n==> No patches needed for libiconv\r\n==> libiconv: Executing phase: 'autoreconf'\r\n==> libiconv: Executing phase: 'configure'\r\n==> libiconv: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16' 'V=1'\r\n\r\n3 errors found in build log:\r\n     866    \t      -e '/definition of _GL_WARN_ON_USE/r /var/folders/_w/414v9g5\r\n            d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-libiconv-1\r\n            .16-iz2heox76xgpuytug7zk2zeg3ywb7x3l/spack-src/srclib/warn-on-use.h\r\n            '; \\\r\n     867    \t      < /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/sp\r\n            ack-stage/spack-stage-libiconv-1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3\r\n            l/spack-src/srclib/string.in.h; \\\r\n     868    \t} > string.h-t && \\\r\n     869    \tmv string.h-t string.h\r\n     870    ../build-aux/install-sh -c -d sys\r\n     871    ../build-aux/install-sh -c -d sys\r\n  >> 872    make[1]: ../build-aux/install-sh: Permission denied\r\n     873    rm -f time.h-t time.h && \\\r\n     874    \t{ echo '/* DO NOT EDIT! GENERATED AUTOMATICALLY! */' && \\\r\n     875    \t  sed -e 's|@''GUARD_PREFIX''@|GL|g' \\\r\n     876    \t      -e 's|@''INCLUDE_NEXT''@|include_next|g' \\\r\n     877    \t      -e 's|@''PRAGMA_SYSTEM_HEADER''@|#pragma GCC system_header|g\r\n            ' \\\r\n     878    \t      -e 's|@''PRAGMA_COLUMNS''@||g' \\\r\n\r\n     ...\r\n\r\n     909    \t      -e '/definitions of _GL_FUNCDECL_RPL/r /var/folders/_w/414v9\r\n            g5d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-libiconv\r\n            -1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3l/spack-src/srclib/c++defs.h' \r\n            \\\r\n     910    \t      -e '/definition of _GL_ARG_NONNULL/r /var/folders/_w/414v9g5\r\n            d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-libiconv-1\r\n            .16-iz2heox76xgpuytug7zk2zeg3ywb7x3l/spack-src/srclib/arg-nonnull.h\r\n            ' \\\r\n     911    \t      -e '/definition of _GL_WARN_ON_USE/r /var/folders/_w/414v9g5\r\n            d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-libiconv-1\r\n            .16-iz2heox76xgpuytug7zk2zeg3ywb7x3l/spack-src/srclib/warn-on-use.h\r\n            ' \\\r\n     912    \t      < /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/sp\r\n            ack-stage/spack-stage-libiconv-1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3\r\n            l/spack-src/srclib/time.in.h; \\\r\n     913    \t} > time.h-t && \\\r\n     914    \tmv time.h-t time.h\r\n  >> 915    make[1]: *** [sys/types.h] Error 1\r\n     916    make[1]: *** Waiting for unfinished jobs....\r\n     917    rm -f sys/stat.h-t sys/stat.h && \\\r\n     918    \t{ echo '/* DO NOT EDIT! GENERATED AUTOMATICALLY! */'; \\\r\n     919    \t  sed -e 's|@''GUARD_PREFIX''@|GL|g' \\\r\n     920    \t      -e 's|@''INCLUDE_NEXT''@|include_next|g' \\\r\n     921    \t      -e 's|@''PRAGMA_SYSTEM_HEADER''@|#pragma GCC system_header|g\r\n            ' \\\r\n\r\n     ...\r\n\r\n     960    \t      -e '/definitions of _GL_FUNCDECL_RPL/r /var/folders/_w/414v9\r\n            g5d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-libiconv\r\n            -1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3l/spack-src/srclib/c++defs.h' \r\n            \\\r\n     961    \t      -e '/definition of _GL_ARG_NONNULL/r /var/folders/_w/414v9g5\r\n            d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-libiconv-1\r\n            .16-iz2heox76xgpuytug7zk2zeg3ywb7x3l/spack-src/srclib/arg-nonnull.h\r\n            ' \\\r\n     962    \t      -e '/definition of _GL_WARN_ON_USE/r /var/folders/_w/414v9g5\r\n            d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-libiconv-1\r\n            .16-iz2heox76xgpuytug7zk2zeg3ywb7x3l/spack-src/srclib/warn-on-use.h\r\n            ' \\\r\n     963    \t      < /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/sp\r\n            ack-stage/spack-stage-libiconv-1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3\r\n            l/spack-src/srclib/sys_stat.in.h; \\\r\n     964    \t} > sys/stat.h-t && \\\r\n     965    \tmv sys/stat.h-t sys/stat.h\r\n  >> 966    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-libiconv-1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3l/spack-build-out.txt\r\n\r\n==> Warning: Skipping build of diffutils-3.7-ejwsmwy33wbqh7kgabxlkxspibvfp4o6 since libiconv-1.16-iz2heox76xgpuytug7zk2zeg3ywb7x3l failed\r\n==> Warning: Skipping build of gcc-11.2.0-y27yc7w3npmkr4gptld374oko6ioa6x4 since diffutils-3.7-ejwsmwy33wbqh7kgabxlkxspibvfp4o6 failed\r\n==> Warning: Skipping build of bzip2-1.0.8-l7gigul5b6m7mnktgrf5k2inhxjsw2qp since diffutils-3.7-ejwsmwy33wbqh7kgabxlkxspibvfp4o6 failed\r\n==> Warning: Skipping build of perl-5.34.0-raet62cbqjvruuyakb7bji4zatspx4ph since bzip2-1.0.8-l7gigul5b6m7mnktgrf5k2inhxjsw2qp failed\r\n==> Warning: Skipping build of automake-1.16.3-3swhpbg4coyxznqrzc7s3tcmn74kidk6 since perl-5.34.0-raet62cbqjvruuyakb7bji4zatspx4ph failed\r\n==> Warning: Skipping build of mpfr-4.1.0-v4n2u3ungjsdwniakpjx4blqidzwafdr since automake-1.16.3-3swhpbg4coyxznqrzc7s3tcmn74kidk6 failed\r\n==> Warning: Skipping build of mpc-1.1.0-7pjynjt6jhmhcig5rt2zw4ev4vovaod5 since mpfr-4.1.0-v4n2u3ungjsdwniakpjx4blqidzwafdr failed\r\n==> Warning: Skipping build of gmp-6.2.1-tj6535ofltre66s7dw3ubqwws6ujypir since automake-1.16.3-3swhpbg4coyxznqrzc7s3tcmn74kidk6 failed\r\n==> Warning: Skipping build of autoconf-2.69-4iowwqb7qux5suznjqt2ui7x3mkpyvyn since perl-5.34.0-raet62cbqjvruuyakb7bji4zatspx4ph failed\r\n==> Warning: Skipping build of texinfo-6.5-aserqw4bceww4a6z7x7crca66ocneszq since perl-5.34.0-raet62cbqjvruuyakb7bji4zatspx4ph failed\r\n==> Warning: Skipping build of openssl-1.1.1l-7kfwzfjii2w2n6uoqu5wy3ehn56pvves since perl-5.34.0-raet62cbqjvruuyakb7bji4zatspx4ph failed\r\n==> Warning: Skipping build of cmake-3.21.1-ec2pfp5bbumzk6orji3rqrwelzmywp2n since openssl-1.1.1l-7kfwzfjii2w2n6uoqu5wy3ehn56pvves failed\r\n==> Warning: Skipping build of zstd-1.5.0-dqsnjth4pmxpgndjkvi2dvugea3lrqnh since cmake-3.21.1-ec2pfp5bbumzk6orji3rqrwelzmywp2n failed\r\n[+] /Users/certik/repos/spack/opt/spack/darwin-bigsur-skylake/apple-clang-12.0.0/libsigsegv-2.13-ythimqj3h43kskxgox6spraxrngmqgnq\r\n[+] /Users/certik/repos/spack/opt/spack/darwin-bigsur-skylake/apple-clang-12.0.0/berkeley-db-18.1.40-akjl2dis63jzm7ysvdpuxfpyknc566x3\r\n==> Installing pkgconf-1.8.0-sllelv43jlv3bul6t3twjfhhaluoruwq\r\n==> No binary for pkgconf-1.8.0-sllelv43jlv3bul6t3twjfhhaluoruwq found: installing from source\r\n==> Using cached archive: /Users/certik/repos/spack/var/spack/cache/_source-cache/archive/ef/ef9c7e61822b7cb8356e6e9e1dca58d9556f3200d78acab35e4347e9d4c2bbaf.tar.xz\r\n==> No patches needed for pkgconf\r\n==> pkgconf: Executing phase: 'autoreconf'\r\n==> pkgconf: Executing phase: 'configure'\r\n==> pkgconf: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16' 'V=1'\r\n\r\n4 errors found in build log:\r\n     111    config.status: creating tests/test_env.sh\r\n     112    config.status: creating libpkgconf/config.h\r\n     113    config.status: executing depfiles commands\r\n     114    config.status: executing libtool commands\r\n     115    ==> pkgconf: Executing phase: 'build'\r\n     116    ==> [2021-08-24-21:14:01.379656] 'make' '-j16' 'V=1'\r\n  >> 117    make: /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/spack\r\n            -stage/spack-stage-pkgconf-1.8.0-sllelv43jlv3bul6t3twjfhhaluoruwq/s\r\n            pack-src/install-sh: Permission denied\r\n  >> 118    make: /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/spack\r\n            -stage/spack-stage-pkgconf-1.8.0-sllelv43jlv3bul6t3twjfhhaluoruwq/s\r\n            pack-src/install-sh: Permission denied\r\n  >> 119    make: *** [libpkgconf/.deps/.dirstamp] Error 1\r\n     120    make: *** Waiting for unfinished jobs....\r\n  >> 121    make: *** [libpkgconf/.dirstamp] Error 1\r\n\r\nSee build log for details:\r\n  /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-pkgconf-1.8.0-sllelv43jlv3bul6t3twjfhhaluoruwq/spack-build-out.txt\r\n\r\n==> Warning: Skipping build of ncurses-6.2-xrklbl5ua7ivkmv5xawvbmh47fsj7bj2 since pkgconf-1.8.0-sllelv43jlv3bul6t3twjfhhaluoruwq failed\r\n==> Warning: Skipping build of readline-8.1-gmhw2jtxbpe5m5kvtzxegqsz2tmln6rw since ncurses-6.2-xrklbl5ua7ivkmv5xawvbmh47fsj7bj2 failed\r\n==> Warning: Skipping build of gdbm-1.19-xkdly6sxchcp33agsxfvacaklsybtfxy since readline-8.1-gmhw2jtxbpe5m5kvtzxegqsz2tmln6rw failed\r\n[+] /Users/certik/repos/spack/opt/spack/darwin-bigsur-skylake/apple-clang-12.0.0/zlib-1.2.11-xflsouiaysa3uizi6mjcwhv54aa5m6kd\r\n[+] /Users/certik/repos/spack/opt/spack/darwin-bigsur-skylake/apple-clang-12.0.0/autoconf-archive-2019.01.06-auex5sxftofnbrhmc5hrkcow6zyat4kk\r\n==> Installing m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw\r\n==> No binary for m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw found: installing from source\r\n==> Using cached archive: /Users/certik/repos/spack/var/spack/cache/_source-cache/archive/3b/3be4a26d825ffdfda52a56fc43246456989a3630093cced3fbddf4771ee58a70.tar.gz\r\n==> No patches needed for m4\r\n==> m4: Executing phase: 'autoreconf'\r\n==> m4: Executing phase: 'configure'\r\n==> m4: Executing phase: 'build'\r\n==> Error: ProcessError: Command exited with status 2:\r\n    'make' '-j16' 'V=1'\r\n\r\n6 errors found in build log:\r\n     1663    \t      -e '/definition of _GL_ARG_NONNULL/r /var/folders/_w/414v9g\r\n             5d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-m4-1.4.1\r\n             9-wnywal5c4qwym22mhigyfraekkl72qxw/spack-src/lib/arg-nonnull.h' \\\r\n     1664    \t      -e '/definition of _GL_WARN_ON_USE/r /var/folders/_w/414v9g\r\n             5d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-m4-1.4.1\r\n             9-wnywal5c4qwym22mhigyfraekkl72qxw/spack-src/lib/warn-on-use.h'; \\\r\n     1665    \t      < /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/s\r\n             pack-stage/spack-stage-m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw/\r\n             spack-src/lib/string.in.h; \\\r\n     1666    \t} > string.h-t && \\\r\n     1667    \tmv string.h-t string.h\r\n     1668    /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/spack-stag\r\n             e/spack-stage-m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw/spack-src\r\n             /build-aux/install-sh -c -d sys\r\n  >> 1669    make[2]: /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/s\r\n             pack-stage/spack-stage-m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw/\r\n             spack-src/build-aux/install-sh: Permission denied\r\n     1670    /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/spack-stag\r\n             e/spack-stage-m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw/spack-src\r\n             /build-aux/install-sh -c -d sys\r\n  >> 1671    make[2]: /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/s\r\n             pack-stage/spack-stage-m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw/\r\n             spack-src/build-aux/install-sh: Permission denied\r\n  >> 1672    make[2]: *** [sys/random.h] Error 1\r\n     1673    make[2]: *** Waiting for unfinished jobs....\r\n  >> 1674    make[2]: *** [sys/stat.h] Error 1\r\n  >> 1675    make[1]: *** [all-recursive] Error 1\r\n  >> 1676    make: *** [all] Error 2\r\n\r\nSee build log for details:\r\n  /var/folders/_w/414v9g5d59gfc7f8qmgwl904000fsc/T/certik/spack-stage/spack-stage-m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw/spack-build-out.txt\r\n\r\n==> Warning: Skipping build of libtool-2.4.6-cpeyf2bup4calokr3aenwwt3f5lkbk7l since m4-1.4.19-wnywal5c4qwym22mhigyfraekkl72qxw failed\r\n==> Error: gcc-11.2.0-y27yc7w3npmkr4gptld374oko6ioa6x4: Package was not installed\r\n==> Error: Installation request failed.  Refer to reported errors for failing package(s).\r\n```\n\n### Information on your system\n\n```console\r\n$ spack debug report\r\n* **Spack:** 0.16.2-4020-99076660d4\r\n* **Python:** 3.8.2\r\n* **Platform:** darwin-bigsur-skylake\r\n* **Concretizer:** original\r\n```\r\n\r\n```console\r\n$ spack compilers\r\n==> Available compilers\r\n-- apple-clang bigsur-x86_64 ------------------------------------\r\napple-clang@12.0.0\r\n```\n\n### Additional information\n\nI couldn't find those files.\r\n\r\nGiven that the packages fails to build like this, I assume something is not configure properly.\r\n\r\nCC @alalazo  @michaelkuhn\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "certik",
    "url": "https://api.github.com/repos/spack/spack/issues/25598",
    "updated_at": "2021-10-12 14:46:09",
    "created_at": "2021-08-25 03:20:04",
    "closed_at": "2021-10-12 14:45:19",
    "state": "closed",
    "title": "Installation issue: gcc",
    "number": 25598,
    "milestone": null,
    "labels": [
        "build-error",
        "permissions"
    ],
    "id": 978666525,
    "html_url": "https://github.com/spack/spack/issues/25598",
    "assignees": [
        "michaelkuhn",
        "alalazo"
    ],
    "comments": 8
}