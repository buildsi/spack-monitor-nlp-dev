{
    "body": "### Steps to reproduce the issue\n\n```console\r\n$ spack spec -I py-tensorboard-data-server\r\nInput spec\r\n--------------------------------\r\n -   py-tensorboard-data-server\r\n\r\nConcretized\r\n--------------------------------\r\n -   py-tensorboard-data-server@0.6.1%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]      ^py-pip@21.3.1%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]          ^python@3.9.10%apple-clang@12.0.0+bz2+ctypes+dbm~debug+ensurepip+libxml2+lzma~nis~optimizations+pic+pyexpat+pythoncmd+readline+shared+sqlite3+ssl~tix~tkinter~ucs4+uuid+zlib patches=0d98e93,4c24573,f2fd060 arch=darwin-catalina-ivybridge\r\n[+]              ^apple-libuuid@1353.100.2%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]              ^bzip2@1.0.8%apple-clang@12.0.0~debug~pic+shared arch=darwin-catalina-ivybridge\r\n[+]                  ^diffutils@3.8%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]                      ^libiconv@1.16%apple-clang@12.0.0 libs=shared,static arch=darwin-catalina-ivybridge\r\n[+]              ^expat@2.4.6%apple-clang@12.0.0~libbsd arch=darwin-catalina-ivybridge\r\n[+]              ^gdbm@1.19%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]                  ^readline@8.1%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]                      ^ncurses@6.2%apple-clang@12.0.0~symlinks+termlib abi=none arch=darwin-catalina-ivybridge\r\n[+]                          ^pkgconf@1.8.0%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]              ^gettext@0.21%apple-clang@12.0.0+bzip2+curses+git~libunistring+libxml2+tar+xz arch=darwin-catalina-ivybridge\r\n[+]                  ^libxml2@2.9.12%apple-clang@12.0.0~python arch=darwin-catalina-ivybridge\r\n[+]                      ^xz@5.2.5%apple-clang@12.0.0~pic libs=shared,static arch=darwin-catalina-ivybridge\r\n[+]                      ^zlib@1.2.11%apple-clang@12.0.0+optimize+pic+shared arch=darwin-catalina-ivybridge\r\n[+]                  ^tar@1.34%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]              ^libffi@3.4.2%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]              ^openssl@1.1.1m%apple-clang@12.0.0~docs certs=system arch=darwin-catalina-ivybridge\r\n[+]                  ^perl@5.34.0%apple-clang@12.0.0+cpanm+shared+threads arch=darwin-catalina-ivybridge\r\n[+]                      ^berkeley-db@18.1.40%apple-clang@12.0.0+cxx~docs+stl patches=b231fcc arch=darwin-catalina-ivybridge\r\n[+]              ^sqlite@3.37.2%apple-clang@12.0.0+column_metadata+dynamic_extensions+fts~functions+rtree arch=darwin-catalina-ivybridge\r\n[+]      ^py-setuptools@59.4.0%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]          ^py-wheel@0.37.0%apple-clang@12.0.0 arch=darwin-catalina-ivybridge\r\n[+]      ^rust@nightly%apple-clang@12.0.0+analysis+clippy~rls+rustfmt+src extra_targets=none arch=darwin-catalina-ivybridge\r\n```\r\n\n\n### Error message\n\n```\r\nerror[E0658]: procedural macros cannot be expanded to statements\r\n  --> /var/folders/21/hwq39zyj4g36x6zjfyl5l8080000gn/T/Adam/spack-stage/spack-stage-py-tensorboard-data-server-0.6.1-ed74q72hcdafd6nnd3z7nrq4me6swir2/spack-src/registry/src/github.com-1ecc6299db9ec823/tonic-0.4.2/src/codec/encode.rs:47:5\r\n   |\r\n47 | /     async_stream::stream! {\r\n48 | |         let mut buf = BytesMut::with_capacity(BUFFER_SIZE);\r\n49 | |         futures_util::pin_mut!(source);\r\n50 | |\r\n...  |\r\n74 | |         }\r\n75 | |     }\r\n   | |_____^\r\n   |\r\n   = note: see issue #54727 <https://github.com/rust-lang/rust/issues/54727> for more information\r\n   = help: add `#![feature(proc_macro_hygiene)]` to the crate attributes to enable\r\n\r\nerror[E0658]: procedural macros cannot be expanded to statements\r\n  --> /var/folders/21/hwq39zyj4g36x6zjfyl5l8080000gn/T/Adam/spack-stage/spack-stage-py-tensorboard-data-server-0.6.1-ed74q72hcdafd6nnd3z7nrq4me6swir2/spack-src/registry/src/github.com-1ecc6299db9ec823/tonic-0.4.2/src/transport/server/incoming.rs:26:5\r\n   |\r\n26 | /     async_stream::try_stream! {\r\n27 | |         futures_util::pin_mut!(incoming);\r\n28 | |\r\n29 | |\r\n...  |\r\n33 | |         }\r\n34 | |     }\r\n   | |_____^\r\n   |\r\n   = note: see issue #54727 <https://github.com/rust-lang/rust/issues/54727> for more information\r\n   = help: add `#![feature(proc_macro_hygiene)]` to the crate attributes to enable\r\n\r\n   Compiling reqwest v0.11.0\r\nerror: aborting due to 2 previous errors\r\n\r\nFor more information about this error, try `rustc --explain E0658`.\r\nerror: could not compile `tonic`.\r\n\r\nTo learn more, run the command again with --verbose.\r\nwarning: build failed, waiting for other jobs to finish...\r\nerror: build failed\r\n```\n\n### Information on your system\n\n* **Spack:** 0.17.1-1532-8adc6b7e8e\r\n* **Python:** 3.9.10\r\n* **Platform:** darwin-catalina-ivybridge\r\n* **Concretizer:** clingo\n\n### Additional information\n\n* [spack-build-out.txt](https://github.com/spack/spack/files/8237985/spack-build-out.txt)\r\n* [spack-build-env.txt](https://github.com/spack/spack/files/8237986/spack-build-env.txt)\r\n\r\n@aweits @glennpj Any suggestions on how to debug this?\n\n### General information\n\n- [X] I have run `spack debug report` and reported the version of Spack/Python/Platform\n- [X] I have run `spack maintainers <name-of-the-package>` and **@mentioned** any maintainers\n- [X] I have uploaded the build log and environment files\n- [X] I have searched the issues of this repo and believe this is not a duplicate",
    "user": "adamjstewart",
    "url": "https://api.github.com/repos/spack/spack/issues/29477",
    "updated_at": "2022-03-12 17:01:26",
    "created_at": "2022-03-12 17:01:26",
    "closed_at": "None",
    "state": "open",
    "title": "Installation issue: py-tensorboard-data-server",
    "number": 29477,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 1167341003,
    "html_url": "https://github.com/spack/spack/issues/29477",
    "assignees": [],
    "comments": 0
}