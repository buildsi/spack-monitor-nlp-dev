{
    "body": "Hello All,\n\nI see there are open issues/pull requests related to Qt package changes. Please close this ticket if this is already being addressed.\n\nWhile building Qt on red hat 6.7 I see following errors:\n\n```\nspack install -v --keep-stage  qt@5.4.2 %gcc@4.9.3\n```\n\nSpack error:\n\n```\n/gpfs/bbp.cscs.ch/home/kumbhar/workarena/systems/lugviz/softwares/sources/spack/var/spack/repos/builtin/packages/qt/package.py:186, in install:\n     184      def install(self, spec, prefix):\n     185          self.configure()\n  >> 186          make()\n     187          make(\"install\")\n==> Error: Installation process had nonzero exit code : 256\n```\n\nSpack build log\n\n```\n                 from ../3rdparty/javascriptcore/JavaScriptCore/API/JSObjectRef.cpp:31:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h: In function \u2018int QTJSC::Yarr::executeRegex(QTJSC::Yarr::RegexCodeBlock&, const UChar*, unsigned int, unsigned int, int*, int)\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h:89:88: error: \u2018jsRegExpExecute\u2019 was not declared in this scope\n         return (jsRegExpExecute(fallback, input, length, start, output, outputArraySize) < 0) ? -1 : output[0];\n                                                                                        ^\nmake[3]: *** [obj/release/JSCallbackFunction.o] Error 1\nmake[3]: *** Waiting for unfinished jobs....\nmake[3]: *** [obj/release/JSObjectRef.o] Error 1\nIn file included from ../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssembler.h:46:0,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/Instruction.h:32,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.h:34,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.cpp:31:\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h: In member function \u2018QTJSC::AbstractMacroAssembler<QTJSC::X86Assembler>::Call QTJSC::MacroAssemblerX86_64::call()\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h:113:22: warning: variable \u2018label\u2019 set but not used [-Wunused-but-set-variable]\n         DataLabelPtr label = moveWithPatch(ImmPtr(0), scratchRegister);\n                      ^\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h: In member function \u2018QTJSC::AbstractMacroAssembler<QTJSC::X86Assembler>::Call QTJSC::MacroAssemblerX86_64::tailRecursiveCall()\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h:121:22: warning: variable \u2018label\u2019 set but not used [-Wunused-but-set-variable]\n         DataLabelPtr label = moveWithPatch(ImmPtr(0), scratchRegister);\n                      ^\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h: In member function \u2018QTJSC::AbstractMacroAssembler<QTJSC::X86Assembler>::Call QTJSC::MacroAssemblerX86_64::makeTailRecursiveCall(QTJSC::AbstractMacroAssembler<QTJSC::X86Assembler>::Jump)\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/assembler/MacroAssemblerX86_64.h:130:22: warning: variable \u2018label\u2019 set but not used [-Wunused-but-set-variable]\n         DataLabelPtr label = moveWithPatch(ImmPtr(0), scratchRegister);\n                      ^\nIn file included from ../3rdparty/javascriptcore/JavaScriptCore/runtime/RegExp.h:30:0,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.h:40,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.cpp:31:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h: In destructor \u2018QTJSC::Yarr::RegexCodeBlock::~RegexCodeBlock()\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h:65:36: error: \u2018jsRegExpFree\u2019 was not declared in this scope\n             jsRegExpFree(m_fallback);\n                                    ^\nIn file included from ../3rdparty/javascriptcore/JavaScriptCore/runtime/RegExp.h:30:0,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.h:40,\n                 from ../3rdparty/javascriptcore/JavaScriptCore/bytecode/CodeBlock.cpp:31:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h: In function \u2018int QTJSC::Yarr::executeRegex(QTJSC::Yarr::RegexCodeBlock&, const UChar*, unsigned int, unsigned int, int*, int)\u2019:\n../3rdparty/javascriptcore/JavaScriptCore/yarr/RegexJIT.h:89:88: error: \u2018jsRegExpExecute\u2019 was not declared in this scope\n         return (jsRegExpExecute(fallback, input, length, start, output, outputArraySize) < 0) ? -1 : output[0];\n                                                                                        ^\nmake[3]: *** [obj/release/CodeBlock.o] Error 1\nmake[3]: Leaving directory `/tmp/kumbhar/spack-stage/spack-stage-T1p9sl/qt-everywhere-opensource-src-5.4.2/qtscript/src/script'\nmake[2]: *** [sub-script-make_first-ordered] Error 2\nmake[2]: Leaving directory `/tmp/kumbhar/spack-stage/spack-stage-T1p9sl/qt-everywhere-opensource-src-5.4.2/qtscript/src'\nmake[1]: *** [sub-src-make_first] Error 2\nmake[1]: Leaving directory `/tmp/kumbhar/spack-stage/spack-stage-T1p9sl/qt-everywhere-opensource-src-5.4.2/qtscript'\nmake: *** [module-qtscript-make_first] Error 2\n```\n\nLet me know if I can try something else to avoid the build failure.\n",
    "user": "pramodk",
    "url": "https://api.github.com/repos/spack/spack/issues/1517",
    "updated_at": "2018-04-14 21:04:43",
    "created_at": "2016-08-14 17:53:11",
    "closed_at": "2018-04-14 21:04:43",
    "state": "closed",
    "title": "Error while building Qt on linux system (red hat)",
    "number": 1517,
    "milestone": null,
    "labels": [
        "build-error"
    ],
    "id": 171070163,
    "html_url": "https://github.com/spack/spack/issues/1517",
    "assignees": [],
    "comments": 12
}