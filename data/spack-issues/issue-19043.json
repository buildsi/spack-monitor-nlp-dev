{
    "body": "### Steps to reproduce the issue\r\n```console\r\n$ git clone https://github.com/spack/spack.git\r\n$ mkdir -p /root/.spack/linux\r\n$ cat > /root/.spack/linux/compilers.yaml <<EOL\r\ncompilers:\r\n- compiler:\r\n    target: x86_64\r\n    operating_system: centos7\r\n    modules: []\r\n    spec: intel@19.0.5.281\r\n    paths:\r\n      cc: stub\r\n      cxx: stub\r\n      f77: stub\r\n      fc: stub\r\n    flags: {}\r\nEOL\r\n$ source spack/share/spack/setup-env.sh\r\n$ spack install intel@19.0.5 arch=linux-centos7-x86_64\r\n```\r\n\r\n### Error Message\r\n```console\r\n$ spack --debug --stacktrace install intel@19.0.5.281 arch=linux-centos7-x86_64 \r\nlib/spack/spack/cmd/__init__.py:122 ==> [2020-09-29-12:19:26.563439] Imported install from built-in commands\r\nlib/spack/spack/config.py:872 ==> [2020-09-29-12:19:26.566515] Reading config file /mnt/devtest-apps/spack/etc/spack/defaults/config.yam\r\nl\r\nlib/spack/spack/cmd/__init__.py:122 ==> [2020-09-29-12:19:26.591613] Imported install from built-in commands\r\nlib/spack/spack/config.py:872 ==> [2020-09-29-12:19:26.598046] Reading config file /mnt/devtest-apps/spack/etc/spack/defaults/repos.yaml\r\nlib/spack/spack/config.py:872 ==> [2020-09-29-12:19:26.692351] Reading config file /mnt/devtest-apps/spack/etc/spack/defaults/packages.y\r\naml\r\nlib/spack/spack/config.py:872 ==> [2020-09-29-12:19:26.725284] Reading config file /root/.spack/linux/compilers.yaml\r\nlib/spack/spack/database.py:362 ==> [2020-09-29-12:19:26.747599] DATABASE LOCK TIMEOUT: 3s\r\nlib/spack/spack/database.py:366 ==> [2020-09-29-12:19:26.747988] PACKAGE LOCK TIMEOUT: No timeout\r\nlib/spack/spack/installer.py:992 ==> [2020-09-29-12:19:26.766818] Initializing the build queue for intel\r\nlib/spack/spack/package.py:1427 ==> [2020-09-29-12:19:26.795069] Warning: Missing a source id for intel@19.0.5.281\r\nlib/spack/spack/database.py:461 ==> [2020-09-29-12:19:26.805919] Removing failure marking for intel\r\nlib/spack/spack/installer.py:939 ==> [2020-09-29-12:19:26.812458] Acquiring a write lock on intel with timeout 1e-09\r\nlib/spack/spack/stage.py:310 ==> [2020-09-29-12:19:26.840764] Creating stage lock spack-stage-intel-19.0.5.281-kjudjtmkccm4nfyqzcylj6a6p\r\ndsnmuz3\r\nlib/spack/spack/installer.py:1052 ==> [2020-09-29-12:19:26.845578] Installing intel\r\nlib/spack/spack/installer.py:347 ==> [2020-09-29-12:19:26.845980] Searching for binary cache of intel\r\nlib/spack/spack/config.py:872 ==> [2020-09-29-12:19:26.847594] Reading config file /mnt/devtest-apps/spack/etc/spack/defaults/mirrors.ya\r\nml\r\nlib/spack/spack/binary_distribution.py:897 ==> [2020-09-29-12:19:26.850954] Finding buildcaches at https://spack-llnl-mirror.s3-us-west-\r\n2.amazonaws.com/build_cache\r\nlib/spack/spack/stage.py:310 ==> [2020-09-29-12:19:26.851407] Creating stage lock build_cache\r\nlib/spack/spack/fetch_strategy.py:316 ==> [2020-09-29-12:19:26.853349] Checking existence of https://spack-llnl-mirror.s3-us-west-2.amaz\r\nonaws.com/build_cache/linux-centos7-x86_64-intel-19.0.5.281-intel-19.0.5.281-kjudjtmkccm4nfyqzcylj6a6pdsnmuz3.spec.yaml\r\nlib/spack/spack/util/executable.py:159 ==> [2020-09-29-12:19:26.854561] '/bin/curl' '--stderr' '-' '-s' '-f' '-r' '0-0' 'https://spack-l\r\nlnl-mirror.s3-us-west-2.amazonaws.com/build_cache/linux-centos7-x86_64-intel-19.0.5.281-intel-19.0.5.281-kjudjtmkccm4nfyqzcylj6a6pdsnmuz\r\n3.spec.yaml'\r\nlib/spack/spack/stage.py:484 ==> [2020-09-29-12:19:27.670265] FailedDownloadError: Failed to fetch file from URL: https://spack-llnl-mir\r\nror.s3-us-west-2.amazonaws.com/build_cache/linux-centos7-x86_64-intel-19.0.5.281-intel-19.0.5.281-kjudjtmkccm4nfyqzcylj6a6pdsnmuz3.spec.\r\nyaml\r\nlib/spack/spack/stage.py:470 ==> [2020-09-29-12:19:27.670895] Fetching from https://spack-llnl-mirror.s3-us-west-2.amazonaws.com/build_c\r\nache/linux-centos7-x86_64-intel-19.0.5.281-intel-19.0.5.281-kjudjtmkccm4nfyqzcylj6a6pdsnmuz3.spec.yaml failed.\r\nlib/spack/spack/installer.py:240 ==> [2020-09-29-12:19:27.673857] No binary for intel found: installing from source\r\nlib/spack/spack/error.py:55 ==> [2020-09-29-12:19:27.774183] Error: CompilerAccessError: Compiler 'intel@19.0.5.281' has executables tha\r\nt are missing or are not executable: ['stub', 'stub', 'stub', 'stub']\r\n\r\n/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py:863, in child_process:\r\n        860            tb_string = traceback.format_exc()\r\n        861\r\n        862            # build up some context from the offending package so we can\r\n  >>    863            # show that, too.\r\n        864            package_context = get_package_context(tb)\r\n        865\r\n        866            build_log = None\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 846, in child_process\r\n    setup_package(pkg, dirty=dirty)\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 721, in setup_package\r\n    set_compiler_environment_variables(pkg, build_env)\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 210, in set_compiler_environment_variables\r\n    compiler.verify_executables()\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/compiler.py\", line 333, in verify_executables\r\n    raise CompilerAccessError(self, missing)\r\nCompilerAccessError: Compiler 'intel@19.0.5.281' has executables that are missing or are not executable: ['stub', 'stub', 'stub', 'stub'\r\n]\r\nlib/spack/spack/installer.py:1354 ==> [2020-09-29-12:19:27.774839] Flagging intel as failed: CompilerAccessError: Compiler 'intel@19.0.5\r\n.281' has executables that are missing or are not executable: ['stub', 'stub', 'stub', 'stub']\r\n/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py:863, in child_process:\r\n        860            tb_string = traceback.format_exc()\r\n        861\r\n        862            # build up some context from the offending package so we can\r\n  >>    863            # show that, too.\r\n        864            package_context = get_package_context(tb)\r\n        865\r\n        866            build_log = None\r\n\r\nTraceback (most recent call last):\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 846, in child_process\r\n    setup_package(pkg, dirty=dirty)\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 721, in setup_package\r\n    set_compiler_environment_variables(pkg, build_env)\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 210, in set_compiler_environment_variables\r\n    compiler.verify_executables()\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/compiler.py\", line 333, in verify_executables\r\n    raise CompilerAccessError(self, missing)\r\nCompilerAccessError: Compiler 'intel@19.0.5.281' has executables that are missing or are not executable: ['stub', 'stub', 'stub', 'stub'\r\n]\r\n\r\nlib/spack/spack/main.py:765 ==> [2020-09-29-12:19:27.792002] ChildError: CompilerAccessError: Compiler 'intel@19.0.5.281' has executable\r\ns that are missing or are not executable: ['stub', 'stub', 'stub', 'stub']\r\n/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py:863, in child_process:\r\n        860            tb_string = traceback.format_exc()\r\n        861\r\n        862            # build up some context from the offending package so we can\r\n  >>    863            # show that, too.\r\n        864            package_context = get_package_context(tb)\r\n        865\r\n        866            build_log = None\r\n\r\nTraceback (most recent call last):\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 846, in child_process\r\n    setup_package(pkg, dirty=dirty)\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 721, in setup_package\r\n    set_compiler_environment_variables(pkg, build_env)\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/build_environment.py\", line 210, in set_compiler_environment_variables\r\n    compiler.verify_executables()\r\n  File \"/mnt/devtest-apps/spack/lib/spack/spack/compiler.py\", line 333, in verify_executables\r\n    raise CompilerAccessError(self, missing)\r\nCompilerAccessError: Compiler 'intel@19.0.5.281' has executables that are missing or are not executable: ['stub', 'stub', 'stub', 'stub'\r\n]\r\n```\r\n\r\n### Information on your system\r\n```\r\n$ cat /root/.spack/linux/compilers.yaml \r\ncompilers:\r\n- compiler:\r\n    target: x86_64\r\n    operating_system: centos7\r\n    modules: []\r\n    spec: intel@19.0.5.281\r\n    paths:\r\n      cc:  stub\r\n      cxx: stub\r\n      f77: stub\r\n      fc:  stub\r\n    flags: {}\r\n```",
    "user": "yellowhat",
    "url": "https://api.github.com/repos/spack/spack/issues/19043",
    "updated_at": "2020-11-04 10:24:27",
    "created_at": "2020-09-29 12:22:31",
    "closed_at": "None",
    "state": "open",
    "title": "Compiler 'intel@19.0.5.281' has executables that are missing or are not executable:",
    "number": 19043,
    "milestone": null,
    "labels": [
        "bug",
        "triage"
    ],
    "id": 711059331,
    "html_url": "https://github.com/spack/spack/issues/19043",
    "assignees": [],
    "comments": 2
}